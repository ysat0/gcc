# Cannot use default rules due to $(CRTSTUFF_T_CFLAGS).
CUSTOM_CRTIN = yes

LIB1ASMSRC = c6x/lib1funcs.S
LIB1ASMFUNCS = _divsi3 _udivsi3 _umodsi3 _modsi3 _udivmodsi4 _divmodsi4
LIB1ASMFUNCS += _strasgi _strasgi_64plus _clzsi2 _clzdi2 _clz
LIB1ASMFUNCS += _push_rts _pop_rts _call_stub

# Assemble startup files.
crti.o: $(srcdir)/config/c6x/crti.S
	$(crt_compile) -c $(CRTSTUFF_T_CFLAGS) $<

crtn.o: $(srcdir)/config/c6x/crtn.S
	$(crt_compile) -c $(CRTSTUFF_T_CFLAGS) $<

# Avoid failures when the user's GOT becomes too large.
CRTSTUFF_T_CFLAGS = -msdata=none
CRTSTUFF_T_CFLAGS_S = -msdata=none

SHLIB_MAPFILES += $(srcdir)/config/c6x/libgcc-eabi.ver
