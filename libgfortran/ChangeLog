2012-03-14  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>

	* intrinsics/c99_functions.c [__sgi__ && !HAVE_COMPLEX_H]: Remove.

2012-03-12  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>

	* configure.ac: Remove Tru64 reference.
	* acinclude.m4 (LIBGFOR_GTHREAD_WEAK): Remove alpha*-dec-osf*
	handling.
	* configure: Regenerate.
	* intrinsics/c99_functions.c [__osf__]: Remove.

2012-03-10  Tobias Burnus  <burnus@net-b.de>

	* libgfortran.h (descriptor_dimension, GFC_DIMENSION_LBOUND,
	GFC_DIMENSION_EXTENT, GFC_DIMENSION_SET, GFC_DESCRIPTOR_DATA,
	GFC_ARRAY_DESCRIPTOR): Rename _lbound to lower_bound and
	data to base_addr.
	* intrinsics/cshift0.c (size0, cshift0): Handle data to
	base_addr rename.
	* intrinsics/date_and_time.c (date_and_time, secnds, itime_i4,
	itime_i8, gmtime_i4, gmtime_i8, ltime_i4, ltime_i8): Ditto.
	* intrinsics/dtime.c (dtime_sub): Ditto.
	* intrinsics/eoshift0.c (eoshift0): Ditto.
	* intrinsics/eoshift2.c (eoshift2): Ditto.
	* intrinsics/etime.c (etime_sub): Ditto.
	* intrinsics/iso_c_binding.c (c_f_pointer_u0): Ditto.
	* intrinsics/move_alloc.c (move_alloc): Ditto.
	* intrinsics/pack_generic.c (pack_internal, pack,
	pack_s_internal): Ditto.
	* intrinsics/random.c (arandom_r4, arandom_r8, arandom_r10,
	arandom_r16, random_seed_i4, random_seed_i8): Ditto.
	* intrinsics/reshape_generic.c (reshape_internal): Ditto.
	* intrinsics/spread_generic.c (spread_internal,
	spread_internal_scalar, spread, spread_scalar): Ditto.
	* intrinsics/stat.c (stat_i4_sub_0, stat_i8_sub_0, fstat_i4_sub,
	fstat_i8_sub): Ditto.
	* intrinsics/transpose_generic.c (transpose_internal): Ditto.
	* intrinsics/unpack_generic.c (unpack_bounds, unpack_internal,
	unpack1, unpack0, unpack0_char4): Ditto.
	* m4/bessel.m4 (bessel_jn_r'rtype_kind`, bessel_yn_r'rtype_kind`):
	Ditto.
	* m4/cshift0.m4 (cshift0_'rtype_code`): Ditto.
	* m4/cshift1.m4 (cshift1): Ditto.
	* m4/eoshift1.m4 (eoshift1): Ditto.
	* m4/eoshift3.m4 (eoshift3): Ditto.
	* m4/iforeach.m4 (name`'rtype_qual`_'atype_code): Ditto.
	* m4/ifunction.m4 (name`'rtype_qual`_'atype_code): Ditto.
	* m4/ifunction_logical.m4 (name`'rtype_qual`_'atype_code): Ditto.
	* m4/in_pack.m4 (internal_pack_'rtype_ccode`): Ditto.
	* m4/in_unpack.m4 (internal_unpack_'rtype_ccode`): Ditto.
	* m4/matmul.m4 (matmul_'rtype_code`): Ditto.
	* m4/matmull.m4 (matmul_'rtype_code`): Ditto.
	* m4/pack.m4 (pack_'rtype_code`): Ditto.
	* m4/reshape.m4 (reshape_'rtype_ccode`): Ditto.
	* m4/shape.m4 (shape_'rtype_kind`): Ditto.
	* m4/spread.m4 (spread_'rtype_code`): Ditto.
	* m4/transpose.m4 (transpose_'rtype_code`): Ditto.
	* m4/unpack.m4 (unpack0_'rtype_code`, unpack1_'rtype_code`): Ditto.
	* runtime/bounds.c (count_0): Ditto.
	* runtime/in_pack_generic.c (internal_pack): Ditto.
	* runtime/in_unpack_generic.c (internal_unpack): Ditto.
	* generated/cshift0_r4.c: Regenerated.
	* generated/unpack_r8.c: Regenerated.
	* generated/cshift0_c10.c: Regenerated.
	* generated/in_unpack_i1.c: Regenerated.
	* generated/eoshift1_16.c: Regenerated.
	* generated/iany_i16.c: Regenerated.
	* generated/reshape_i4.c: Regenerated.
	* generated/parity_l16.c: Regenerated.
	* generated/in_unpack_r16.c: Regenerated.
	* generated/iparity_i1.c: Regenerated.
	* generated/minloc0_16_r10.c: Regenerated.
	* generated/minloc1_16_i8.c: Regenerated.
	* generated/bessel_r8.c: Regenerated.
	* generated/maxloc0_4_i8.c: Regenerated.
	* generated/maxloc1_8_i1.c: Regenerated.
	* generated/sum_c10.c: Regenerated.
	* generated/maxloc0_8_r10.c: Regenerated.
	* generated/unpack_r16.c: Regenerated.
	* generated/maxloc1_16_i1.c: Regenerated.
	* generated/minloc1_4_i1.c: Regenerated.
	* generated/unpack_i4.c: Regenerated.
	* generated/in_pack_i1.c: Regenerated.
	* generated/cshift0_i1.c: Regenerated.
	* generated/minloc0_16_i4.c: Regenerated.
	* generated/minloc1_8_r8.c: Regenerated.
	* generated/maxval_r8.c: Regenerated.
	* generated/unpack_i2.c: Regenerated.
	* generated/matmul_r16.c: Regenerated.
	* generated/maxloc0_16_r8.c: Regenerated.
	* generated/maxloc1_8_i16.c: Regenerated.
	* generated/maxloc0_4_r4.c: Regenerated.
	* generated/pack_c10.c: Regenerated.
	* generated/in_unpack_c8.c: Regenerated.
	* generated/maxloc1_8_i8.c: Regenerated.
	* generated/in_pack_c16.c: Regenerated.
	* generated/parity_l1.c: Regenerated.
	* generated/in_pack_i2.c: Regenerated.
	* generated/maxloc0_4_r8.c: Regenerated.
	* generated/pack_r4.c: Regenerated.
	* generated/matmul_r8.c: Regenerated.
	* generated/pack_i1.c: Regenerated.
	* generated/minloc0_16_r16.c: Regenerated.
	* generated/cshift0_c8.c: Regenerated.
	* generated/minloc1_4_i16.c: Regenerated.
	* generated/minloc0_4_r4.c: Regenerated.
	* generated/product_i2.c: Regenerated.
	* generated/maxval_r10.c: Regenerated.
	* generated/minloc0_16_r8.c: Regenerated.
	* generated/in_pack_i8.c: Regenerated.
	* generated/all_l8.c: Regenerated.
	* generated/minloc0_8_i16.c: Regenerated.
	* generated/minloc1_8_i2.c: Regenerated.
	* generated/matmul_l8.c: Regenerated.
	* generated/spread_r10.c: Regenerated.
	* generated/product_c4.c: Regenerated.
	* generated/reshape_r16.c: Regenerated.
	* generated/cshift0_i16.c: Regenerated.
	* generated/minloc1_8_r10.c: Regenerated.
	* generated/iparity_i8.c: Regenerated.
	* generated/minloc0_16_i8.c: Regenerated.
	* generated/minloc1_8_i1.c: Regenerated.
	* generated/maxloc0_16_r10.c: Regenerated.
	* generated/maxloc1_8_i4.c: Regenerated.
	* generated/maxloc0_16_i8.c: Regenerated.
	* generated/maxloc1_16_i16.c: Regenerated.
	* generated/reshape_i8.c: Regenerated.
	* generated/all_l16.c: Regenerated.
	* generated/cshift1_8.c: Regenerated.
	* generated/matmul_c10.c: Regenerated.
	* generated/pack_r16.c: Regenerated.
	* generated/transpose_r10.c: Regenerated.
	* generated/maxloc1_16_i2.c: Regenerated.
	* generated/minloc1_4_r4.c: Regenerated.
	* generated/reshape_r8.c: Regenerated.
	* generated/product_r10.c: Regenerated.
	* generated/spread_c10.c: Regenerated.
	* generated/reshape_r4.c: Regenerated.
	* generated/in_unpack_i4.c: Regenerated.
	* generated/minval_r4.c: Regenerated.
	* generated/minloc1_16_r16.c: Regenerated.
	* generated/norm2_r8.c: Regenerated.
	* generated/iany_i2.c: Regenerated.
	* generated/eoshift3_8.c: Regenerated.
	* generated/maxloc1_16_r8.c: Regenerated.
	* generated/maxloc0_16_r16.c: Regenerated.
	* generated/cshift0_i8.c: Regenerated.
	* generated/all_l1.c: Regenerated.
	* generated/minloc1_16_r10.c: Regenerated.
	* generated/spread_i16.c: Regenerated.
	* generated/minloc1_8_r16.c: Regenerated.
	* generated/spread_r16.c: Regenerated.
	* generated/matmul_c8.c: Regenerated.
	* generated/pack_r10.c: Regenerated.
	* generated/reshape_r10.c: Regenerated.
	* generated/sum_r10.c: Regenerated.
	* generated/count_8_l.c: Regenerated.
	* generated/minloc1_16_i16.c: Regenerated.
	* generated/maxloc0_16_i2.c: Regenerated.
	* generated/count_1_l.c: Regenerated.
	* generated/unpack_c16.c: Regenerated.
	* generated/any_l8.c: Regenerated.
	* generated/minloc1_16_i1.c: Regenerated.
	* generated/sum_r4.c: Regenerated.
	* generated/in_unpack_r8.c: Regenerated.
	* generated/product_r8.c: Regenerated.
	* generated/in_unpack_r4.c: Regenerated.
	* generated/unpack_i1.c: Regenerated.
	* generated/cshift0_r8.c: Regenerated.
	* generated/spread_i2.c: Regenerated.
	* generated/minloc1_4_r10.c: Regenerated.
	* generated/minloc1_16_i2.c: Regenerated.
	* generated/minloc0_16_i2.c: Regenerated.
	* generated/eoshift3_16.c: Regenerated.
	* generated/maxloc0_8_i4.c: Regenerated.
	* generated/maxloc1_16_r10.c: Regenerated.
	* generated/maxloc1_4_i16.c: Regenerated.
	* generated/maxloc1_4_r8.c: Regenerated.
	* generated/parity_l2.c: Regenerated.
	* generated/maxloc0_16_i16.c: Regenerated.
	* generated/product_r4.c: Regenerated.
	* generated/in_unpack_r10.c: Regenerated.
	* generated/maxloc1_8_i2.c: Regenerated.
	* generated/iparity_i2.c: Regenerated.
	* generated/maxloc1_8_r4.c: Regenerated.
	* generated/maxloc1_8_r8.c: Regenerated.
	* generated/iall_i4.c: Regenerated.
	* generated/maxloc0_4_i16.c: Regenerated.
	* generated/cshift0_i4.c: Regenerated.
	* generated/in_unpack_c10.c: Regenerated.
	* generated/unpack_c8.c: Regenerated.
	* generated/transpose_c8.c: Regenerated.
	* generated/in_unpack_c16.c: Regenerated.
	* generated/product_c16.c: Regenerated.
	* generated/minval_r8.c: Regenerated.
	* generated/minloc0_4_i1.c: Regenerated.
	* generated/minloc0_8_r16.c: Regenerated.
	* generated/in_unpack_i16.c: Regenerated.
	* generated/reshape_c16.c: Regenerated.
	* generated/pack_i4.c: Regenerated.
	* generated/minval_r10.c: Regenerated.
	* generated/maxloc0_4_r10.c: Regenerated.
	* generated/unpack_i8.c: Regenerated.
	* generated/minloc1_16_r8.c: Regenerated.
	* generated/pack_c16.c: Regenerated.
	* generated/maxval_r4.c: Regenerated.
	* generated/spread_r8.c: Regenerated.
	* generated/minloc0_16_r4.c: Regenerated.
	* generated/maxval_i4.c: Regenerated.
	* generated/matmul_r4.c: Regenerated.
	* generated/product_c8.c: Regenerated.
	* generated/maxloc1_4_i4.c: Regenerated.
	* generated/any_l4.c: Regenerated.
	* generated/cshift0_r16.c: Regenerated.
	* generated/maxloc1_16_r4.c: Regenerated.
	* generated/in_pack_r10.c: Regenerated.
	* generated/iall_i1.c: Regenerated.
	* generated/product_i1.c: Regenerated.
	* generated/maxloc0_4_i1.c: Regenerated.
	* generated/maxloc0_8_r16.c: Regenerated.
	* generated/minloc1_8_i16.c: Regenerated.
	* generated/reshape_c10.c: Regenerated.
	* generated/matmul_l4.c: Regenerated.
	* generated/cshift0_c16.c: Regenerated.
	* generated/spread_r4.c: Regenerated.
	* generated/sum_r16.c: Regenerated.
	* generated/in_unpack_c4.c: Regenerated.
	* generated/maxval_i8.c: Regenerated.
	* generated/maxloc0_8_r8.c: Regenerated.
	* generated/unpack_i16.c: Regenerated.
	* generated/norm2_r4.c: Regenerated.
	* generated/maxloc1_4_r16.c: Regenerated.
	* generated/in_pack_r4.c: Regenerated.
	* generated/sum_c8.c: Regenerated.
	* generated/parity_l8.c: Regenerated.
	* generated/minval_i2.c: Regenerated.
	* generated/transpose_c10.c: Regenerated.
	* generated/cshift0_r10.c: Regenerated.
	* generated/cshift0_i2.c: Regenerated.
	* generated/spread_c4.c: Regenerated.
	* generated/maxval_r16.c: Regenerated.
	* generated/unpack_c10.c: Regenerated.
	* generated/bessel_r4.c: Regenerated.
	* generated/minloc0_8_i1.c: Regenerated.
	* generated/product_c10.c: Regenerated.
	* generated/minloc1_4_i4.c: Regenerated.
	* generated/minloc1_4_i2.c: Regenerated.
	* generated/transpose_c4.c: Regenerated.
	* generated/in_pack_c8.c: Regenerated.
	* generated/minval_i8.c: Regenerated.
	* generated/maxloc1_4_i2.c: Regenerated.
	* generated/maxloc1_4_i1.c: Regenerated.
	* generated/iall_i8.c: Regenerated.
	* generated/iany_i8.c: Regenerated.
	* generated/sum_c16.c: Regenerated.
	* generated/spread_i8.c: Regenerated.
	* generated/sum_i8.c: Regenerated.
	* generated/pack_i2.c: Regenerated.
	* generated/unpack_r10.c: Regenerated.
	* generated/minloc0_4_i4.c: Regenerated.
	* generated/iany_i4.c: Regenerated.
	* generated/maxloc0_4_i4.c: Regenerated.
	* generated/in_pack_r8.c: Regenerated.
	* generated/spread_i1.c: Regenerated.
	* generated/maxval_i16.c: Regenerated.
	* generated/pack_c8.c: Regenerated.
	* generated/iparity_i16.c: Regenerated.
	* generated/matmul_c16.c: Regenerated.
	* generated/eoshift1_8.c: Regenerated.
	* generated/any_l16.c: Regenerated.
	* generated/maxloc1_4_i8.c: Regenerated.
	* generated/minloc0_8_r4.c: Regenerated.
	* generated/transpose_c16.c: Regenerated.
	* generated/reshape_c4.c: Regenerated.
	* generated/minloc0_8_r8.c: Regenerated.
	* generated/count_16_l.c: Regenerated.
	* generated/minloc0_16_i1.c: Regenerated.
	* generated/minloc1_16_r4.c: Regenerated.
	* generated/maxloc0_8_i1.c: Regenerated.
	* generated/matmul_i1.c: Regenerated.
	* generated/sum_i2.c: Regenerated.
	* generated/cshift1_4.c: Regenerated.
	* generated/minloc0_4_i2.c: Regenerated.
	* generated/bessel_r10.c: Regenerated.
	* generated/matmul_c4.c: Regenerated.
	* generated/parity_l4.c: Regenerated.
	* generated/in_unpack_i2.c: Regenerated.
	* generated/product_i16.c: Regenerated.
	* generated/maxloc0_16_i4.c: Regenerated.
	* generated/minloc0_4_r10.c: Regenerated.
	* generated/transpose_i16.c: Regenerated.
	* generated/matmul_l16.c: Regenerated.
	* generated/any_l1.c: Regenerated.
	* generated/minval_r16.c: Regenerated.
	* generated/shape_i16.c: Regenerated.
	* generated/in_pack_c4.c: Regenerated.
	* generated/minloc1_8_r4.c: Regenerated.
	* generated/iany_i1.c: Regenerated.
	* generated/matmul_i16.c: Regenerated.
	* generated/maxloc0_16_r4.c: Regenerated.
	* generated/spread_c8.c: Regenerated.
	* generated/product_i8.c: Regenerated.
	* generated/minloc1_8_i4.c: Regenerated.
	* generated/product_i4.c: Regenerated.
	* generated/minval_i16.c: Regenerated.
	* generated/pack_r8.c: Regenerated.
	* generated/matmul_r10.c: Regenerated.
	* generated/shape_i8.c: Regenerated.
	* generated/eoshift1_4.c: Regenerated.
	* generated/minloc1_16_i4.c: Regenerated.
	* generated/transpose_r16.c: Regenerated.
	* generated/spread_c16.c: Regenerated.
	* generated/maxloc0_8_i16.c: Regenerated.
	* generated/minval_i1.c: Regenerated.
	* generated/sum_i4.c: Regenerated.
	* generated/in_pack_r16.c: Regenerated.
	* generated/iall_i16.c: Regenerated.
	* generated/minloc0_8_r10.c: Regenerated.
	* generated/maxloc0_8_i8.c: Regenerated.
	* generated/transpose_i4.c: Regenerated.
	* generated/maxloc0_4_i2.c: Regenerated.
	* generated/iall_i2.c: Regenerated.
	* generated/maxloc0_8_r4.c: Regenerated.
	* generated/minloc0_4_r16.c: Regenerated.
	* generated/minloc1_4_r8.c: Regenerated.
	* generated/minloc0_4_i8.c: Regenerated.
	* generated/minval_i4.c: Regenerated.
	* generated/minloc1_8_i8.c: Regenerated.
	* generated/in_pack_i16.c: Regenerated.
	* generated/spread_i4.c: Regenerated.
	* generated/cshift0_c4.c: Regenerated.
	* generated/minloc0_4_i16.c: Regenerated.
	* generated/sum_r8.c: Regenerated.
	* generated/minloc0_16_i16.c: Regenerated.
	* generated/sum_i1.c: Regenerated.
	* generated/all_l2.c: Regenerated.
	* generated/sum_c4.c: Regenerated.
	* generated/shape_i4.c: Regenerated.
	* generated/maxval_i1.c: Regenerated.
	* generated/norm2_r10.c: Regenerated.
	* generated/unpack_c4.c: Regenerated.
	* generated/maxloc0_16_i1.c: Regenerated.
	* generated/all_l4.c: Regenerated.
	* generated/maxloc1_16_i8.c: Regenerated.
	* generated/sum_i16.c: Regenerated.
	* generated/maxloc1_8_r16.c: Regenerated.
	* generated/minloc1_4_r16.c: Regenerated.
	* generated/maxloc1_16_r16.c: Regenerated.
	* generated/transpose_i8.c: Regenerated.
	* generated/minloc0_8_i2.c: Regenerated.
	* generated/product_r16.c: Regenerated.
	* generated/in_pack_c10.c: Regenerated.
	* generated/maxloc0_4_r16.c: Regenerated.
	* generated/pack_c4.c: Regenerated.
	* generated/bessel_r16.c: Regenerated.
	* generated/norm2_r16.c: Regenerated.
	* generated/in_unpack_i8.c: Regenerated.
	* generated/maxloc1_16_i4.c: Regenerated.
	* generated/minloc1_4_i8.c: Regenerated.
	* generated/eoshift3_4.c: Regenerated.
	* generated/maxloc1_8_r10.c: Regenerated.
	* generated/matmul_i8.c: Regenerated.
	* generated/matmul_i4.c: Regenerated.
	* generated/reshape_i16.c: Regenerated.
	* generated/matmul_i2.c: Regenerated.
	* generated/transpose_r8.c: Regenerated.
	* generated/transpose_r4.c: Regenerated.
	* generated/cshift1_16.c: Regenerated.
	* generated/maxloc1_4_r10.c: Regenerated.
	* generated/iparity_i4.c: Regenerated.
	* generated/in_pack_i4.c: Regenerated.
	* generated/maxloc0_8_i2.c: Regenerated.
	* generated/unpack_r4.c: Regenerated.
	* generated/count_4_l.c: Regenerated.
	* generated/maxloc1_4_r4.c: Regenerated.
	* generated/minloc0_8_i8.c: Regenerated.
	* generated/any_l2.c: Regenerated.
	* generated/minloc0_8_i4.c: Regenerated.
	* generated/pack_i8.c: Regenerated.
	* generated/count_2_l.c: Regenerated.
	* generated/reshape_c8.c: Regenerated.
	* generated/maxval_i2.c: Regenerated.
	* generated/minloc0_4_r8.c: Regenerated.

2012-01-20  Tobias Burnus  <burnus@net-b.de>

	PR libgfortran/51899
	* configure.ac: Check whether umask is available.
	* intrinsics/chmod.c (chmod_func): Make compile with MinGW.
	* configure: Regenerate.
	* config.h.in: Regenerate.

2012-01-12  Tobias Burnus  <burnus@net-b.de>

	PR fortran/36755
	* intrinsics/chmod.c (chmod_func): Replace call to /bin/chmod

2012-01-12  Janne Blomqvist  <jb@gcc.gnu.org>

	* configure.ac: Remove check for fdopen.
	* runtime/backtrace.c (CAN_PIPE): Fix comment, remove check for
	fdopen.
	* configure: Regenerated.
	* config.h.in: Regenerated.

2012-01-12  Janne Blomqvist  <jb@gcc.gnu.org>
	    Tobias Burnus  <burnus@net-b.de>

	PR libfortran/51803
	* runtime/main.c (store_exe_path): Avoid malloc if getcwd fails or
	is not available.

2012-01-11  Tobias Burnus  <burnus@net-b.de>

	* runtime/main.c (store_exe_path): Fix absolute path
	detection for Windows.

2012-01-11  Janne Blomqvist  <jb@gcc.gnu.org>
	    Mike Stump  <mikestump@comcast.net>

	PR libfortran/51803
	* runtime/main.c (store_exe_path): Handle getcwd failure and lack
	of the function better.

2012-01-10  Tobias Burnus  <burnus@net-b.de>

	PR fortran/51197
	* runtime/compile_options.c (show_signal): List
	more signals.

2012-01-09  Harald Anlauf  <anlauf@gmx.de>
	    Tobias Burnus  <burnus@net-b.de>

	PR fortran/51197
	* runtime/backtrace.c (show_backtrace): Modify wording written
	before the backtrace.
	* runtime/compile_options.c (show_signal): New function.
	(backtrace_handler): Use it.

2012-01-09  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>

	* Makefile.am (libgfortran_la_LDFLAGS): Add -Wc,-shared-libgcc.
	* Makefile.in: Regenerate.

2012-01-06  Tobias Burnus <burnus@net-b.de>

	* caf/single.c (_gfortran_caf_register, _gfortran_caf_deregister):
	Fix token handling.
	* caf/mpi.c  (_gfortran_caf_register, _gfortran_caf_deregister): Ditto.
	* caf/libcaf.h (STAT_STOPPED_IMAGE): Sync with libgfortran.h.
	(_gfortran_caf_register, _gfortran_caf_deregister): Update prototype.

Copyright (C) 2012 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.
