2006-03-06  Mark Wielaard  <mark@klomp.org>

	* configure.ac: Set version to 0.90.
	* NEWS: Fix typos.

2006-03-06  Mark Wielaard  <mark@klomp.org>

	Fixes bug #26568 reported by Paul Jenner <psj@harker.dyndns.org>
	* native/fdlibm/fdlibm.h (__ieee754_rem_pio2): Return an int32_t.
	(isnan): Define explicitly isnan if it is not a macro.

2006-03-06  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/GapContent.java:
	(insertString): Throw exception when argument is below
	zero.

2006-03-06  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/PlainDocument.java:
	(insertUpdate): Extended if-expression, added
	code to generate another Element when newly inserted characters
	and old ones will be on the same line.

2006-03-06  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/DefaultCaret.java:
	(mouseDragged): Do selection when shift is pressed.
	(mouseClicked): Implemented.

2006-03-06  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/PlainDocument.java: Fix copyright header,
	added author tags.
	(insertUpdate): Do not copy the whole document any more, added some
	more variables to prevent needless method calls.

2006-03-06  Christian Thalinger <twisti@complang.tuwien.ac.at>

	* configure.ac: Check for FREETYPE2.  This is a reverted patch and
	is required on Darwin.
	* native/jni/gtk-peer/Makefile.am (AM_LDFLAGS): Added FREETYPE2.
	(AM_CFLAGS): Likewise.

2006-03-06  Mark Wielaard  <mark@klomp.org>

	* NEWS: Add updates for 0.90 release.

2006-03-04  Mark Wielaard  <mark@klomp.org>

	* configure.ac (VERSION): Set to 0.90-pre.

2006-03-04  Tom Tromey  <tromey@redhat.com>

	* javax/swing/SpringLayout.java (Constraints): New constructor.
	* javax/swing/Spring.java (width): New method.
	(height): Likewise.
	(scale): Likewise.

2006-03-04  Mark Wielaard  <mark@klomp.org>

	* gnu/java/net/protocol/http/HTTPConnection.java (Pool.get): Remove
	existing connection from pool before returning.

2006-03-04  Mark Wielaard  <mark@klomp.org>

	* gnu/xml/stream/SAXParser.java (parse(InputSource)): Ignore
	exceptions thrown by handlers while cleaning up and rethrow original
	exception.

2006-03-04  Tom Tromey  <tromey@redhat.com>

	* java/beans/PropertyDescriptor.java (createPropertyEditor): New
	method.
	(findConstructor): Likewise.
	(instantiateClass): Likewise.

2006-03-04  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/java/rmi/dgc/DGCImpl.java:  More comments, boilerplate fix.
	(dirty): Do not synchronize on Hashtable. Use the passed (requested) 
	lease value and not always the default one.
 	(LeaseRecord): Remember the array of objects, marked as dirty.
 	java/rmi/dgc/Lease.java: Boilerplate fix.

2006-03-05  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/util/jar/Attributes.java (putValue): Made it public and updated
	method documentation.

2006-03-04  Mark Wielaard  <mark@klomp.org>

	* java/awt/Container.java (remove(int)): Always call removeNotify()
	on removed Component.

2006-03-04  Mark Wielaard  <mark@klomp.org>

	Fixes bug #26460 reported by Beat Wolf <asraniel@fryx.ch>.
	* javax/swing/JEditorPane.java (setText): Check for empty String
	with equals(), not equality (==).

2006-03-04  Mark Wielaard  <mark@klomp.org>

	* javax/swing/text/html/HTMLDocument.java: Qualify ElementSpec as
	DefaultStyledDocument.ElementSpec for gcj 4.0.x.

2006-03-04  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/GapContent.java
	(getArray): Mark as final.

2006-03-04  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StyleConstants.java
	(CharacterConstants.Background): Marked final,
	(CharacterConstants.BidiLevel): Likewise,
	(CharacterConstants.Bold): Likewise,
	(CharacterConstants.ComponentAttribute): Likewise,
	(CharacterConstants.Family): Likewise,
	(CharacterConstants.Size): Likewise,
	(CharacterConstants.Foreground): Likewise,
	(CharacterConstants.IconAttribute): Likewise,
	(CharacterConstants.Italic): Likewise,
	(CharacterConstants.StrikeThrough): Likewise,
	(CharacterConstants.Subscript): Likewise,
	(CharacterConstants.Superscript): Likewise,
	(CharacterConstants.Underline): Likewise,
	(ColorConstants.Foreground): Likewise,
	(ColorConstants.Background): Likewise,
	(FontConstants.Bold): Likewise,
	(FontConstants.Family): Likewise,
	(FontConstants.Italic): Likewise,
	(FontConstants.Size): Likewise,
	(ParagraphConstants.Alignment): Likewise,
	(ParagraphConstants.FirstLineIndent): Likewise,
	(ParagraphConstants.LeftIndent): Likewise,
	(ParagraphConstants.LineSpacing): Likewise,
	(ParagraphConstants.Orientation): Likewise,
	(ParagraphConstants.RightIndent): Likewise,
	(ParagraphConstants.SpaceAbove): Likewise,
	(ParagraphConstants.SpaceBelow): Likewise,
	(ParagraphConstants.TabSet): Likewise.	

2006-03-03  Tom Tromey  <tromey@redhat.com>

	* javax/net/ssl/SSLException.java: Added missing @since.
	Wrote javadoc.

2006-03-03  Tom Tromey  <tromey@redhat.com>

	* javax/net/ssl/SSLException.java (SSLException): New constructors.
	(serialVersionUID): New field.

2006-03-03  Tom Tromey  <tromey@redhat.com>

	* java/security/spec/InvalidKeySpecException.java
	(InvalidKeySpecException): New constructors.
	* java/security/cert/CertificateParsingException.java
	(CertificateParsingException): New constructors.
	* java/security/cert/CertificateEncodingException.java
	(CertificateEncodingException): New constructors.
	* java/security/cert/CertificateException.java (CertificateException):
	New constructors.
	* java/security/cert/CRLException.java (CRLException): New
	constructors.

2006-03-03  Tom Tromey  <tromey@redhat.com>

	* java/security/SignatureException.java (SignatureException): New
	constructors.
	* java/security/ProviderException.java (ProviderException): New
	constructors.
	* java/security/NoSuchAlgorithmException.java
	(NoSuchAlgorithmException): New constructors.
	* java/security/KeyStoreException.java (KeyStoreException): New
	constructors.
	* java/security/KeyManagementException.java (KeyManagementException):
	New constructors.
	* java/security/InvalidKeyException.java (InvalidKeyException): New
	constructors.
	* java/security/KeyException.java (KeyException): New constructors.
	* java/security/InvalidAlgorithmParameterException.java
	(InvalidAlgorithmParameterException): New constructors.
	* java/security/DigestException.java (DigestException): New
	constructors.
	* java/security/GeneralSecurityException.java
	(GeneralSecurityException): New constructors.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/event/CaretEvent.java: Reformatting and fixed API doc 
	warnings,
	* javax/swing/event/DocumentEvent.java: Likewise,
	* javax/swing/event/EventListenerList.java: Likewise,
	* javax/swing/event/MenuDragMouseEvent.java: Likewise,
	* javax/swing/event/MenuKeyEvent.java: Likewise,
	* javax/swing/event/TableColumnModelEvent.java: Likewise,
	* javax/swing/event/TreeExpansionEvent.java: Likewise,
	* javax/swing/event/TreeModelEvent.java: Likewise,
	* javax/swing/event/TreeSelectionEvent.java: Likewise,
	* javax/swing/event/UndoableEditEvent.java: Likewise.

2006-03-03  Tom Tromey  <tromey@redhat.com>

	* java/awt/Insets.java (set): New method.
	(equals): Added @since.

2006-03-03  David Daney  <ddaney@avtrex.com>

	* gnu/java/net/protocol/http/HTTPURLConnection.java
	(getRequestProperties): Rewrote.
	(addRequestProperty): Rewrote.
	(getHeaderFields): Rewrote.
	(getHeaderField): Rewrote.
	(getHeaderFieldKey): Rewrote.
	(getHeaderField): Removed useless cast.
	* gnu/java/net/protocol/http/Headers.java: Entire class rewritten.
	* gnu/java/net/protocol/http/Request.java (dispatch): Use new Headers
	interface.
	(notifyHeaderHandlers): Use new Headers interface.

2006-03-03  Tom Tromey  <tromey@redhat.com>

	* javax/naming/NamingException.java (getExplanation): Javadoc fix.
	* javax/naming/spi/ResolveResult.java,
	javax/naming/event/NamingExceptionEvent.java,
	javax/naming/event/NamingEvent.java,
	javax/naming/directory/SearchResult.java,
	javax/naming/directory/SearchControls.java,
	javax/naming/directory/SchemaViolationException.java,
	javax/naming/directory/NoSuchAttributeException.java,
	javax/naming/directory/ModificationItem.java,
	javax/naming/directory/InvalidSearchFilterException.java,
	javax/naming/directory/InvalidSearchControlsException.java,
	javax/naming/directory/InvalidAttributesException.java,
	javax/naming/directory/InvalidAttributeIdentifierException.java,
	javax/naming/directory/AttributeModificationException.java,
	javax/naming/directory/AttributeInUseException.java,
	javax/naming/TimeLimitExceededException.java,
	javax/naming/SizeLimitExceededException.java,
	javax/naming/PartialResultException.java,
	javax/naming/Reference.java,
	javax/naming/ServiceUnavailableException.java,
	javax/naming/OperationNotSupportedException.java,
	javax/naming/NotContextException.java,
	javax/naming/NoPermissionException.java,
	javax/naming/NoInitialContextException.java,
	javax/naming/NameNotFoundException.java,
	javax/naming/NameAlreadyBoundException.java,
	javax/naming/NameClassPair.java,
	javax/naming/MalformedLinkException.java,
	javax/naming/LinkLoopException.java,
	javax/naming/LinkException.java,
	javax/naming/LimitExceededException.java,
	javax/naming/InvalidNameException.java,
	javax/naming/InterruptedNamingException.java,
	javax/naming/InsufficientResourcesException.java,
	javax/naming/ContextNotEmptyException.java,
	javax/naming/ConfigurationException.java,
	javax/naming/CannotProceedException.java,
	javax/naming/CommunicationException.java,
	javax/naming/Binding.java,
	javax/naming/AuthenticationNotSupportedException.java,
	javax/naming/AuthenticationException.java: Added serialVersionUID.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/event/TableColumnModelEvent.java: Reformatted.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/event/TableModelListener.java: Updated API docs.

2006-03-03  Mark Wielaard  <mark@klomp.org>

	* java/awt/Component.java (addNotify): Expand documentation.

2006-03-03  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java (GtkComponentPeer):
	Always call setParentAndBounds().
	(setComponentBounds): Always call setBounds().
	(setBounds): Call setVisible().
	(setVisible): If no pixels are showing then don't make it visible.
	* gnu/java/awt/peer/gtk/GtkContainerPeer.java (endValidate): No need
	to call setParentAndBounds() anymore.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JInternalFrame.java
	(JInternalFrame): Set frame invisible.
	(show): Reformatted.
	* javax/swing/plaf/basic/BasicInternalFrameUI.java
	(installDefaults): Do not set invisible here.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* java/awt/Toolkit.java
	(getScreenInsets): Return (0,0,0,0) here.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/FlowView.java
	(FlowStrategy.layoutRow): Added check for rowCount == 0.
	(FlowStrategy.getLogicalView): Made method protected.

2006-03-03  Chris Burdess  <dog@gnu.org>

	* gnu/xml/validation/relaxng/AnyNameNameClass.java,
	  gnu/xml/validation/relaxng/AttributePattern.java,
	  gnu/xml/validation/relaxng/ChoiceNameClass.java,
	  gnu/xml/validation/relaxng/ChoicePattern.java,
	  gnu/xml/validation/relaxng/DataPattern.java,
	  gnu/xml/validation/relaxng/Define.java,
	  gnu/xml/validation/relaxng/ElementPattern.java,
	  gnu/xml/validation/relaxng/EmptyPattern.java,
	  gnu/xml/validation/relaxng/FullSyntaxBuilder.java,
	  gnu/xml/validation/relaxng/Grammar.java,
	  gnu/xml/validation/relaxng/GrammarException.java,
	  gnu/xml/validation/relaxng/GrammarValidator.java,
	  gnu/xml/validation/relaxng/GroupPattern.java,
	  gnu/xml/validation/relaxng/InterleavePattern.java,
	  gnu/xml/validation/relaxng/ListPattern.java,
	  gnu/xml/validation/relaxng/NSNameNameClass.java,
	  gnu/xml/validation/relaxng/NameClass.java,
	  gnu/xml/validation/relaxng/NameNameClass.java,
	  gnu/xml/validation/relaxng/NotAllowedPattern.java,
	  gnu/xml/validation/relaxng/OneOrMorePattern.java,
	  gnu/xml/validation/relaxng/Param.java,
	  gnu/xml/validation/relaxng/Pattern.java,
	  gnu/xml/validation/relaxng/RELAXNGSchemaFactory.java,
	  gnu/xml/validation/relaxng/RefPattern.java,
	  gnu/xml/validation/relaxng/TextPattern.java,
	  gnu/xml/validation/relaxng/ValuePattern.java: New RELAX NG grammar
	  builder and data model.
	* gnu/xml/validation/xmlschema/AnyAttribute.java,
	  gnu/xml/validation/xmlschema/AttributeDeclaration.java,
	  gnu/xml/validation/xmlschema/AttributeUse.java,
	  gnu/xml/validation/xmlschema/ComplexType.java,
	  gnu/xml/validation/xmlschema/ElementDeclaration.java,
	  gnu/xml/validation/xmlschema/Particle.java,
	  gnu/xml/validation/xmlschema/ValidationException.java,
	  gnu/xml/validation/xmlschema/XMLSchema.java,
	  gnu/xml/validation/xmlschema/XMLSchemaAttributeTypeInfo.java,
	  gnu/xml/validation/xmlschema/XMLSchemaBuilder.java,
	  gnu/xml/validation/xmlschema/XMLSchemaElementTypeInfo.java,
	  gnu/xml/validation/xmlschema/XMLSchemaSchemaFactory.java,
	  gnu/xml/validation/xmlschema/XMLSchemaTypeInfo.java,
	  gnu/xml/validation/xmlschema/XMLSchemaTypeInfoProvider.java,
	  gnu/xml/validation/xmlschema/XMLSchemaValidator.java,
	  gnu/xml/validation/xmlschema/XMLSchemaValidatorHandler.java: New
	  W3C XML Schema builder and schema components.
	* javax/xml/validation/SchemaFactory.java: Recognise RELAX NG and W3C
	  XML Schema namespace URIs.

2006-03-03  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* NEWS: Add entry for --enable-collections.
	* configure.ac: Add --enable-collections option.
	* lib/Makefile.am (collections.jar): New target.
	(glibj_DATA): Add $(COLLECTIONS).
	* lib/mkcollections.pl.in (destpath): Set from COLLECTION_PREFIX
	configure substitution.
	(classpath): Read from command line.
	(javautilclasses): Remove BasicMapEntry.  Add RandomAccess.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/SpringLayout.java: Fixed API doc warnings.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/event/ListSelectionEvent.java
	(toString): Implemented,
	plus updated API docs all over.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/event/ListSelectionEvent.java: Reformatted and fixed
	API doc warnings,
	* javax/swing/event/ListSelectionListener.java: Updated API docs.

2006-03-03  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/java/rmi/dgc/DGCImpl.java,
	java/rmi/dgc/DGC.java,
	java/rmi/dgc/Lease.java: Formatted and commented.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* NEWS: Added comment about text highlighting and copy+paste
	in Swing.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTabbedPane.java
	(remove(int)): Call super.remove(int) instead of remove(Component).
	Avoids a stack overflow.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTable.java
	(distributeSpillResizing): Avoid ArithmeticException by checking
	divisor.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/package.html: Added package description.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/CellRendererPane.java: Minor API doc fix,
	* javax/swing/ComboBoxModel.java: Updated API docs.

2006-03-03  Chris Burdess  <dog@gnu.org>

	Fixes PR 26503
	* gnu/xml/stream/EntityReferenceImpl.java,
	  gnu/xml/stream/FilteredEventReader.java,
	  gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/XIncludeFilter.java,
	  gnu/xml/stream/XMLEventAllocatorImpl.java,
	  gnu/xml/stream/XMLEventFactoryImpl.java,
	  gnu/xml/stream/XMLEventImpl.java,
	  gnu/xml/stream/XMLEventReaderImpl.java,
	  gnu/xml/stream/XMLEventWriterImpl.java,
	  gnu/xml/stream/XMLInputFactoryImpl.java,
	  gnu/xml/stream/XMLOutputFactoryImpl.java,
	  gnu/xml/stream/XMLParser.java,
	  javax/xml/stream/EventFilter.java,
	  javax/xml/stream/Location.java,
	  javax/xml/stream/StreamFilter.java,
	  javax/xml/stream/XMLEventFactory.java,
	  javax/xml/stream/XMLEventReader.java,
	  javax/xml/stream/XMLEventWriter.java,
	  javax/xml/stream/XMLInputFactory.java,
	  javax/xml/stream/XMLOutputFactory.java,
	  javax/xml/stream/XMLReporter.java,
	  javax/xml/stream/XMLResolver.java,
	  javax/xml/stream/XMLStreamConstants.java,
	  javax/xml/stream/XMLStreamReader.java,
	  javax/xml/stream/events/EntityDeclaration.java,
	  javax/xml/stream/events/EntityReference.java,
	  javax/xml/stream/events/XMLEvent.java,
	  javax/xml/stream/util/EventReaderDelegate.java,
	  javax/xml/stream/util/ReaderDelegate.java: Updated to final version of
	  StAX API as specified in JWSDP 2.0.
	* gnu/xml/stream/EndEntityImpl.java,
	  gnu/xml/stream/LocationImpl.java,
	  gnu/xml/stream/StartEntityImpl.java,
	  gnu/xml/stream/XMLStreamReaderImpl.java,
	  javax/xml/stream/XMLFilter.java,
	  javax/xml/stream/XMLIterator.java,
	  javax/xml/stream/events/EndEntity.java,
	  javax/xml/stream/events/StartEntity.java: Removed legacy files.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/CellEditor.java: API doc updates,
	* javax/swing/DefaultCellEditor.java: Likewise.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/AbstractListModel.java:
	(AbstractListModel): Added API docs,
	(fireContentsChanged): Minor API doc correction,
	(fireIntervalAdded): Likewise,
	(fireIntervalRemoved): Likewise.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* NEWS: Added paragraph about Swing improvements.

2006-03-03  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/AbstractAction.java: Updated API docs all over,
	* javax/swing/AbstractCellRenderer.java: Minor reformatting, plus
	(stopCellEditing): Minor API doc correction,
	* javax/swing/UnsupportedLookAndFeelException.java
	(UnsupportedLookAndFeelException): Changed argument name, updated API
	docs.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalUtils.java
	(fillMetalPattern): Added switch to not use Graphics2D methods,
	even if they are available.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicHTML.java
	(isHTMLString): Check for string beeing null.
	* javax/swing/plaf/basic/BasicInternalFrameUI.java
	(BasicInternalFrameListener.internalFrameActivated): Implemented.
	(BasicInternalFrameListener.internalFrameDeactivated): Implemented.
	(InternalFrameLayout): Don't touch the glass pane here.
	(installUI): Fix handling of glass pane.
	* javax/swing/plaf/basic/BasicLabelUI.java
	(vr): New field.
	(ir): New field.
	(tr): New field.
	(BasicLabelUI): Initialize new fields.
	(getPreferredSize): Avoid creating new Rectangles by using
	SwingUtilities method.
	(paint): Avoid creating new Rectangles by reusing
	new fields. Added some preliminary handling of HTML inside the
	label.
	(installComponents): Handle HTML by calling BasicHTML.updateRenderer.
	(uninstallComponents): Clear HTML renderer.
	(propertyChange): Check for HTML text and install renderer if
	appropriate.
	* javax/swing/plaf/basic/BasicListUI.java
	(getCellBounds): Avoid creating new Rectangle by using SwingUtilities
	method.
	* javax/swing/plaf/basic/BasicTextUI.java
	(RootView.getStartOffset): Implemented.
	(RootView.getEndOffset): Implemented.
	(RootView.getDocument): Implemented.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.inserUpdate): Added check for zero-length
	element.
	* javax/swing/text/DefaultStyledDocument.java
	(setIndex): Improved exception message.
	* javax/swing/text/TableView.java
	Made class abstract.
	(TableRow.replace): Probably extend columnRequirements
	arrays.
	(TableRow.layoutMinorAxis): Call super.layoutMinorAxis instead
	of super.layoutMajorAxis.
	(columnRequirements): Made field package private.
	(TableView): Do not load any child views here.
	(layoutColumns): Implemented this method.
	(updateColumnRequirements): New helper method.
	* javax/swing/text/Utilities.java
	(getBreakLocation): Also take offset into account when
	finding end location.
	* javax/swing/text/html/HTMLDocument.java
	(HTMLReader.parseStack): New field.
	(HTMLReader.blockOpen): Properly handle p-implied tags.
	(HTMLReader.blockClose): Properly handle p-implied and empty tags.
	(HTMLReader.addContent): Insert p-implied when adding content to
	a block element.
	* javax/swing/text/html/HTMLEditorKit.java
	(HTMLFactory.create): Create HTMLTableView for <table> tags and
	ParagraphView for TD tags. Print out warning for tags that don't have
	matching view yet and create NullView for them.
	(read): Only set document base when document != null.
	* javax/swing/text/html/HTMLTableView.java:
	New class

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicHTML.java
	(HTMLRootView): New inner class.
	(createHTMLView): Embed view inside a HTMLRootView.

2006-03-03  Wolfgang Baer  <WBaer@gmx.de>

	* gnu/java/net/protocol/jar/Connection.java: 
	(connect): Throw FileNotFoundException.
	(getInputStream): Remove duplicated code.

2006-03-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(commitBuffer): Added null check for clip.

2006-03-02  Lillian Angel <langel@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkMenuPeer_delItem): Fixed
	to use GtkWidget instead of GTKMenu.

2006-03-02  Lillian Angel <langel@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkMenuPeer_delItem): Changed to 
	use the submenu to get the list of children. This now works
	in the same way as addItem.

2006-03-02  Anthony Balkissoon  <abalkiss@redhat.com>

	* java/lang/StringBuilder.java:
	(codePointAt): New method.
	(codePointBefore): Likewise.
	(codePointCount): Likewise.
	(trimToSize): Likewise.

2006-03-02  Tom Tromey  <tromey@redhat.com>

	* java/rmi/server/RMIClassLoader.java (getProviderInstance): Wrote.

2006-03-02  Tom Tromey  <tromey@redhat.com>

	* java/rmi/server/RMIClassLoader.java (loadProxyClass): New method.
	(getProviderInstance): 

2006-03-02  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c:
	Fix regression caused by move to VM variant.
	PR classpath/22926.
	
2006-03-01  Tom Tromey  <tromey@redhat.com>

	* vm/reference/java/net/VMNetworkInterface.java: Organized imports.
	* vm/reference/java/net/VMInetAddress.java: Organized imports.
	* vm/reference/java/lang/reflect/VMProxy.java (getProxyClass): Added
	imports for javadoc.
	(getProxyClass): Javadoc fixes.
	(getProxyData): Likewise.
	(generateProxyClass): Likewise.
	* vm/reference/java/lang/VMSystem.java (setIn): Javadoc fix.
	(setOut): Likewise.
	(setErr): Likewise.
	* vm/reference/java/lang/VMProcess.java: Javadoc fixes.
	* vm/reference/java/lang/VMClassLoader.java (getResources): Javadoc
	fix.
	* vm/reference/java/lang/VMClass.java (getComponentType): Import for
	javadoc.
	(getModifiers): Likewise.
	(getDeclaredClasses): Javadoc fix.
	(getDeclaredFields): Likewise.
	(getDeclaredMethods): Likewise.
	(getDeclaredConstructors): Likewise.
	* vm/reference/gnu/classpath/VMSystemProperties.java (preInit):
	Javadoc fix.

2006-03-01  Tom Tromey  <tromey@redhat.com>

	* gnu/java/net/protocol/http/ResponseHeaderHandler.java: Javadoc fix.
	* gnu/java/net/protocol/http/HTTPConnection.java: Organized imports.
	(getVersion): Javadoc fix.
	(get): Likewise.
	* gnu/java/net/protocol/http/Headers.java: Organized imports.
	* gnu/java/net/protocol/ftp/FTPURLConnection.java: Organized imports.

2006-03-01  David Daney  <ddaney@avtrex.com>

	* java/net/URL.java (URL(URL, String, URLStreamHandler)): Treat spec
	as relative if it contains a colon but no protocol handler can be
	found.

2006-03-01  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(LeafElement.LeafElement): Handle delta with respect to content
	length not document length.
	* javax/swing/text/CompositeView.java
	(getViewIndex): Handle bias correctly.
	* javax/swing/text/DefaultCaret.java
	(paint): Align caret position to document bounds to avoid trouble
	when removing large portions of content.
	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.insertFirstContentTag): Use pos instead of offset.
	(ElementBuffer.createFracture): Copy old childs attribute. The
	ElementSpec usually doesn't carry attribute information.
	Use pos instead of offset.
	(ElementBuffer.insertFracture): Use pos instead of offset.
	(createDefaultRootElement): Don't use create* and instead directly
	instantiate the elements.
	(handleInsertAfterNewline): Compare the paragraphs startOffset
	rather than previous paragraphs endOffset.
	* javax/swing/text/JTextComponent.java
	(getScrollableTracksViewportWidth): Remove unnecessary cast to
	JViewport.
	(getScrollableTracksViewportHeight): Remove unnecessary cast to
	JViewport.
	* javax/swing/text/PlainView.java
	(damageLineRange): Avoid creating new Rectangle by using
	SwingUtilities.
	* javax/swing/text/View.java
	(forwardUpdate): Correct the use of bias.
	(modelToView): Avoid new Rectangles by using SwingUtilities.
	(dump): Made (temprorarily) protected for use in BasicTextUI.
	(dump(int)): Dump out the element of the view.

2006-03-01  Lillian Angel  <langel@redhat.com>

	* NEWS: javax.imageio.plugins.bmp implementation.

2006-03-01  Lillian Angel  <langel@redhat.com>

	* javax/imageio/ImageWriteParam.java: 
	Added documentation for fields.
	* javax/imageio/plugins/bmp/BMPImageWriteParam.java:
	New class implemented.

2006-03-01  Tom Tromey  <tromey@redhat.com>

	* NEWS: Mention java.util.prefs update.

2006-03-01  Tom Tromey  <tromey@redhat.com>

	* gnu/java/nio/channels/FileChannelImpl.java (position): Fixed typo.
	* java/nio/charset/UnmappableCharacterException.java:
	(serialVersionUID): New field.
	* java/nio/charset/MalformedInputException.java:
	(serialVersionUID): New field.
	* java/nio/charset/CoderMalfunctionError.java:
	(serialVersionUID): New field.
	* java/nio/charset/CharacterCodingException.java:
	(serialVersionUID): New field.
	* java/nio/channels/UnsupportedAddressTypeException.java:
	(serialVersionUID): New field.
	* java/nio/channels/UnresolvedAddressException.java:
	(serialVersionUID): New field.
	* java/nio/channels/OverlappingFileLockException.java:
	(serialVersionUID): New field.
	* java/nio/channels/NotYetConnectedException.java:
	(serialVersionUID): New field.
	* java/nio/channels/NotYetBoundException.java
	(serialVersionUID): New field.
	* java/nio/channels/NonWritableChannelException.java
	(serialVersionUID): New field.
	* java/nio/channels/NonReadableChannelException.java
	(serialVersionUID): New field.
	* java/nio/channels/NoConnectionPendingException.java
	(serialVersionUID): New field.
	* java/nio/channels/IllegalSelectorException.java
	(serialVersionUID): New field.
	* java/nio/channels/IllegalBlockingModeException.java
	(serialVersionUID): New field.
	* java/nio/channels/FileLockInterruptionException.java
	(serialVersionUID): New field.
	* java/nio/channels/ConnectionPendingException.java
	(serialVersionUID): New field.
	* java/nio/channels/ClosedSelectorException.java (serialVersionUID):
	New field.
	* java/nio/channels/ClosedChannelException.java (serialVersionUID):
	New field.
	* java/nio/channels/ClosedByInterruptException.java
	(serialVersionUID): New field.
	* java/nio/channels/CancelledKeyException.java (serialVersionUID): 
	New field.
	* java/nio/channels/AsynchronousCloseException.java
	(serialVersionUID): New field.
	* java/nio/channels/AlreadyConnectedException.java (serialVersionUID):
	New field.
	* java/nio/ReadOnlyBufferException.java (serialVersionUID): New field.
	* java/nio/InvalidMarkException.java (serialVersionUID): New field.
	* java/nio/BufferUnderflowException.java (serialVersionUID): New
	field.
	* java/nio/BufferOverflowException.java (serialVersionUID): New field.
	* java/nio/channels/spi/AbstractInterruptibleChannel.java (end):
	Javadoc fix.  Added import.
	* java/nio/channels/DatagramChannel.java (isConnected): Javadoc fix.
	(validOps): Likewise.
	* gnu/java/nio/charset/iconv/IconvProvider.java: Organized imports.
	* gnu/java/nio/charset/iconv/IconvEncoder.java: Organized imports.
	* gnu/java/nio/charset/iconv/IconvDecoder.java: Organized imports.
	* java/nio/channels/Channels.java: Added import.
	* java/nio/channels/FileChannel.java (lock): Typo fix.
	(tryLock): Likewise.

2006-03-01  Tom Tromey  <tromey@redhat.com>

	* java/util/prefs/Preferences.java (defaultFactoryClass): Use
	FileBasedFactory.
	* gnu/java/util/prefs/FileBasedPreferences.java: New file.
	* java/util/prefs/AbstractPreferences.java (removeSpi): Typo fix.
	(clear): Likewise.
	(putSpi): Likewise.
	(newNode): Likewise.
	(node): Likewise.
	* gnu/java/util/prefs/MemoryBasedFactory.java: Typo fix.
	* gnu/java/util/prefs/FileBasedFactory.java (systemPreferences): New
	field.
	(systemRoot): Use it.
	(userPreferences): New field.
	(userRoot): Use it.

2006-03-01  Jeroen Frijters  <jeroen@frijters.net>

	* java/util/ResourceBundle.java
	(tryBundle): Catch and ignore all Exceptions.

2006-02-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicScrollBarUI.java
	(getPreferredSize): Fixed add a fixed space between the buttons
	instead of something related to min/max.
	(installComponents): Create and install buttons here.
	(installDefaults): Don't create buttons here.
	* javax/swing/plaf/metal/MetalScrollBarUI.java
	(getMinimumThumbSize): Return (0,0) when UI is not yet installed.
	(getPreferredSize): New method.

2006-02-28  David Gilbert  <david.gilbert@object-refinery.com>

	* examples/gnu/classpath/examples/swing/Demo.java
	(mkMenuBar): Removed 'Toggles', 'Checkbox' and 'Radio' actions, 
	connected 'Spinner' action to SpinnerDemo, 
	(mkCheckbox): Removed,
	(mkRadio): Likewise,
	(mkSpinner): Likewise,
	(mkToggle): Likewise,
	(mkButtonBar): Removed 'Toggles', 'Checkbox' and 'Radio' actions,
	connected 'Spinner' action to SpinnerDemo.

2006-02-28  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/ServiceUIFactory.java: Added documentation to class.

2006-02-28  Anthony Balkissoon  <abalkiss@redhat.com>

	PR classpath/26434
	* javax/swing/DefaultListSelectionModel.java:
	(addSelectionInterval): Return early if either of the arguments is -1.
	(removeSelectionInterval): Likewise.
	(setSelectionInterval): Likewise.

2006-02-28  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultFormatter.java
	(stringToValue): Added NPE check.

2006-02-28  Roman Kennke  <kennke@aicas.com>

	PR classpath/25675
	* javax/swing/JList.java
	(getPreferredScrollableViewportSize): Restored specified behaviour.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(createList): Set filelist panel's preferredSize, so that it doesn't
	get size into infinity for big lists.

2006-02-28  Lillian Angel  <langel@redhat.com>

	* javax/swing/ViewportLayout.java
	(layoutContainer): Should not extend container to be 
	minimum size. Mauve test shows that the preferred size
	and the size of the viewport can be set smaller than
	the minimum.

2006-02-28  Lillian Angel  <langel@redhat.com>

	PR classpath/25675
	* javax/swing/JList.java
	(getPreferredScrollableViewportSize): Added a check to determine
	if orientation is VERTICAL_WRAP. If it is, we should only 
	show 3 columns. 

2006-02-28  Lillian Angel  <langel@redhat.com>

	PR classpath/26003
	* javax/swing/ViewportLayout.java:
	Patch submitted by Audrius Meskauskas
	(addLayoutComponent): Added documentation.
	(removeLayoutComponent): Likewise.
	(preferredLayoutSize): Likewise.
	(minimumLayoutSize): Likewise.
	(layoutContainer): Fixed code, so view is set
	to the right position when inside a scrollpane.	

2006-02-28  Anthony Balkissoon  <abalkiss@redhat.com>

	* java/math/BigInteger.java:
	Committed patch by Rafael: 
	developer.classpath.org/pipermail/classpath-patches/
	2006-February/000473.html
	(signum): Return early 0 if words == null and ival == 0.
	(readObject): Handle special case of magnitude.length or signum being
	0.
	(writeObject): If signum is zero return a zero-sized byte[].

2006-02-28  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkFileDialogPeer.java
	(create): Initially set the directory to the current working directory.
	(setDirectory): Removed else-if. No need for this check.

2006-02-28  Tom Tromey  <tromey@redhat.com>

	* .project: Run java builder before header generation.

2006-02-28  Tom Tromey  <tromey@redhat.com>

	* gnu/java/util/prefs/MemoryBasedPreferences.java (childrenNamesSpi):
	Javadoc fix.
	* gnu/java/util/prefs/EventDispatcher.java: New file.
	* gnu/java/util/prefs/NodeWriter.java (NodeWriter): Removed.
	(NodeWriter): Specify UTF-8.
	(writeHeader): Emit DOCTYPE.
	* java/util/prefs/Preferences.java (getFactory): Add cause to
	exception.
	(exportNode): Documented.
	(exportSubtree): Likewise.
	(importPreferences): Likewise.
	* java/util/prefs/NodeChangeEvent.java (readObject): New method.
	(writeObject): Likewise.
	* java/util/prefs/PreferenceChangeEvent.java (readObject): New method.
	(writeObject): Likewise.
	* java/util/prefs/AbstractPreferences.java (putBoolean): Use 1.4 code.
	(nodeListeners): New field.
	(preferenceListeners): Likewise.
	(addNodeChangeListener): Implemented.
	(addPreferenceChangeListener): Likewise.
	(removeNodeChangeListener): Likewise.
	(removePreferenceChangeListener): Likewise.
	(fire): New methods.
	(put): Fire event.
	(remove): Likewise.
	(purge): Likewise.  Fixed synchronization.
	(removeNode): Fixed synchronization.
	(getNode): Fire event.
	(flushNode): Fixed synchronization.

2006-02-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/BranchElement.java
	(startOffset): New field.
	(endOffset): New field.
	(BranchElement): Initialize new fields.
	(getEndOffset): Rewritten to possibly return cached values
	if element has no children.
	(getStartOffset): Rewritten to possibly return cached values
	if element has no children.
	* javax/swing/text/LeafElement.java
	(startDelta): New field.
	(endDelta): New field.
	(LeafElement): Handle possible delta of start/endOffset when
	these parameters lie outside the document range.
	(getStartOffset): Handle possible startDelta.
	(getEndOffset): Handle possible startDelta.

2006-02-28  Anthony Balkissoon  <abalkiss@redhat.com>

	* NEWS: Added line about Unicode 4.0.0 support.

2006-02-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/SwingUtilities.java
	(layoutCompoundLabel): Set textIconGap to 0 when icon == null.

2006-03-01  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/classpath/debug/Simple1LineFormatter.java: New file.

2006-03-01  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/sig/rsa/RSAPKCS1V1_5SignatureX509Codec.java:
	Amended class documentation.
	(encodeSignature): Emit the ASN.1 raw bytes not the DER-encoded BIT
	STRING.
	(decodeSignature): Parse the ASN.1 raw bytes of a BIT STRING and not
	a BIT STRING construct.
	* gnu/java/security/sig/dss/DSSSignatureX509Codec.java: Amended class
	documentation.
	(encodeSignature): Emit the ASN.1 raw bytes not the DER-encoded BIT
	STRING.
	(decodeSignature): Parse the ASN.1 raw bytes of a BIT STRING and not
	a BIT STRING construct.
	* gnu/java/security/jce/sig/SignatureAdapter.java (log): New field.
	(engineVerify): Added logging.

2006-02-28  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(dispatchEventImpl): Let the Toolkit dispatch global events.
	* java/awt/Container.java
	(dispatchEventImpl): Let the LightweightDispatcher handle events
	first.
	* java/awt/EventQueue.java
	(dispatchEvent): Don't do the global event dispatching here. This
	is moved to the Component.
	(globalDispatchEvent): Moved this method to Toolkit.
	* java/awt/LightweightDispatcher.java
	(instances): New field.
	(getInstance): New method. Delivers an instance of
	LightweightDispatcher.
	(LightweightDispatcher): Made default constructor private.
	(dispatchEvent): New method. Replaces the eventDispatched method.
	This now returns true when the event was actually dispatched.
	(eventDispatched): Replaced by dispatchEvent.
	(handleMouseEvent): Send MOUSE_CLICKED to the same component that
	received the last MOUSE_RELEASED.
	* java/awt/Toolkit.java
	(Toolkit): Don't register LightweightDispatcher as global event
	handler.
	(globalDispatchEvent): Moved here from EventQueue.

2006-02-27  David Daney  <ddaney@avtrex.com>

	PR classpath/25851
	* gnu/java/net/protocol/http/HTTPURLConnection.java (imports) Cleaned
	up.
	(getRequestProperties): Rewrote.

2006-02-27  David Daney  <ddaney@avtrex.com>

	PR classpath/26312
	* gnu/java/net/protocol/http/ChunkedInputStream.java (imports): Cleaned
	up.
	(ChunkedInputStream): Extend InputStream.
	(in): New field.
	(headers): Moved to top of class.
	(constructor): Save referenct to in.
	(read(byte[])): Removed method.
	(read(byte[], int, int)): Made synchronized and throw IOException
	on error parsing chunk header.
	(available): New method.
	(close): New method.

2006-02-27  David Daney  <ddaney@avtrex.com>

	* gnu/java/net/protocol/http/HTTPURLConnection.java
	(imports): Cleaned up.
	(GetHTTPPropertiesAction): Removed, and moved contents to ...
	(constructor): ... Here, using SystemProperties instead of System.
	
2006-02-27  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkFileDialogPeer.java
	(setDirectory): GtkFileChooser requires an absolute directory
	name. Added a check to make the directory passed to nativeSetDirectory
	is absolute.

2006-02-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/SwingUtilities.java
	(computeIntersection): Changed to store result in rect, instead of
	creating new Rectangle instances. Fixed API docs accordingly.
	(computeUnion): Changed to store result in rect, instead of
	creating new Rectangle instances. Fixed API docs accordingly.

2006-02-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JViewport.java
	(static_init): Changed default scrollmode to BLIT.
	(paintSimple): Added some clipping to avoid painting problems.
	(paintBlit): Added some clipping to avoid painting problems.

2006-02-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JComponent.java
	(rectCache): Made field static to save memory.
	(getVisibleRect): Don't use rectCache and create new Rectangle
	instance instead.
	(repaint(Rectangle)): Directly call RepaintManager.addDirtyRegion().
	(repaint(long,int,int,int,int)): Directly call
	RepaintManager.addDirtyRegion(). The visibleRect check is now
	performed in the RepaintManager.

2006-02-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(currentRepaintManagers): Made field private.
	(rectCache): New field.
	(addDirtyRegion): Clip dirty rectangle with visible rectangle of
	component. Changed Rectangle handling to avoid unnecessary new
	Rectangle instances.
	(getOffscreenBuffer): Create buffer with size of the root window.
	Respect the maximum buffer size here.
	(commitBuffer): Align the regions so that they are inside the buffer
	image and inside the clip. This avoids problems with a bug in GTKImage.
	Fixed Rectangle handling to avoid creation of new Rectangle instances.

2006-02-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* native/fdlibm/e_acos.c,
	* native/fdlibm/e_asin.c,
	* native/fdlibm/e_atan2.c,
	* native/fdlibm/e_cosh.c,
	* native/fdlibm/e_exp.c,
	* native/fdlibm/e_fmod.c,
	* native/fdlibm/e_hypot.c,
	* native/fdlibm/e_log.c,
	* native/fdlibm/e_log10.c,
	* native/fdlibm/e_rem_pio2.c,
	* native/fdlibm/e_remainder.c,
	* native/fdlibm/e_sinh.c,
	* native/fdlibm/e_sqrt.c,
	* native/fdlibm/k_cos.c,
	* native/fdlibm/k_sin.c,
	* native/fdlibm/k_tan.c,
	* native/fdlibm/s_atan.c,
	* native/fdlibm/s_cbrt.c,
	* native/fdlibm/s_ceil.c,
	* native/fdlibm/s_copysign.c,
	* native/fdlibm/s_cos.c,
	* native/fdlibm/s_expm1.c,
	* native/fdlibm/s_fabs.c,
	* native/fdlibm/s_finite.c,
	* native/fdlibm/s_floor.c,
	* native/fdlibm/s_log1p.c,
	* native/fdlibm/s_rint.c,
	* native/fdlibm/s_scalbn.c,
	* native/fdlibm/s_sin.c,
	* native/fdlibm/s_tan.c,
	* native/fdlibm/s_tanh.c:
	Fixed to call our macros rather than __HI and __LO.
	* native/fdlibm/fdlibm.h:
	Reintroduced previous extraction code.
	(EXTRACT_WORDS(ix0,ix1,d)): Readded.
	(GET_HIGH_WORD(i,d)): Readded.
	(GET_LOW_WORD(i,d)): Readded.
	(INSERT_WORDS(d,ix0,ix1)): Readded.
	(SET_HIGH_WORD(d,i)): Readded.
	(SET_LOW_WORD(d,i)): Readded.
	* native/jni/gtk-peer/gthread-jni.c:
	Use Glib macros to convert integers/pointers portably.
	
2006-02-26  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/SecureRandom.java (SecureRandom): Use GNU-CRYPTO class
	as the fallback SPI.
	* gnu/java/security/provider/Gnu.java (run): Replaced mappings with new
	ones referencing GNU-CRYPTO classes.
	* gnu/java/security/provider/PKIXCertPathValidatorImpl.java
	(engineValidate): Use GNU-CRYPTO class.
	* gnu/java/security/provider/DiffieHellmanKeyFactoryImpl: Removed.
	* gnu/java/security/provider/DiffieHellmanKeyPairGeneratorImpl: Likewise.
	* gnu/java/security/provider/DSAKeyFactory: Likewise.
	* gnu/java/security/provider/DSAKeyPairGenerator: Likewise.
	* gnu/java/security/provider/DSAParameters: Likewise.
	* gnu/java/security/provider/DSASignature: Likewise.
	* gnu/java/security/provider/EncodedKeyFactory: Likewise.
	* gnu/java/security/provider/GnuDHPublicKey: Likewise.
	* gnu/java/security/provider/GnuDSAPrivateKey: Likewise.
	* gnu/java/security/provider/GnuDSAPublicKey: Likewise.
	* gnu/java/security/provider/GnuRSAPrivateKey: Likewise.
	* gnu/java/security/provider/GnuRSAPublicKey: Likewise.
	* gnu/java/security/provider/MD2withRSA: Likewise.
	* gnu/java/security/provider/MD4withRSA: Likewise.
	* gnu/java/security/provider/MD5: Likewise.
	* gnu/java/security/provider/MD5withRSA: Likewise.
	* gnu/java/security/provider/RSA: Likewise.
	* gnu/java/security/provider/RSAKeyFactory: Likewise.
	* gnu/java/security/provider/SHA: Likewise.
	* gnu/java/security/provider/SHA1PRNG: Likewise.
	* gnu/java/security/provider/SHA1withRSA: Likewise.
	* gnu/javax/crypto/GnuDHPrivateKey: Likewise.

2006-02-26  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/jce/sig/EncodedKeyFactory.java (log): New field.
	(engineGeneratePublic): Added logging.
	(engineGeneratePrivate): Likewise.
	* gnu/java/security/key/rsa/RSAKeyPairX509Codec.java (log): New field.
	(encodePublicKey): Added logging.
	Clarified in method documentation that params is optional, but is
	always NULL if present.
	(decodePublicKey): Added logging.
	Handle optional NULL element.

2006-02-26  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/util/logging/FileHandler.java: Fixed a javadoc reference.

2006-02-25  Chris Burdess  <dog@gnu.org>

	* gnu/java/net/CRLFInputStream.java,
	  gnu/java/net/LineInputStream.java: Streams that use mark
	  capabilities on the underlying stream do not expose mark
	  functionality themselves.
	* gnu/xml/stream/CRLFReader.java: Fix incorrect end condition when
	  off > 0.

2006-02-25  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/REMatch.java(matchFlags): New int field used as
	option flags passed to match methods.
	(MF_FIND_ALL): New flag.
	* gnu/regexp/RETokenOneOf.java(matchP): Unless MF_FIND_ALL is set,
	do not try other possibilties once a match is found.
	* gnu/regexp/RETokenRepeated.java(findDoables): Set MF_FIND_ALL
	so that all possibilities can be found.
	(match): Rewritten using new methods matchMinimum and _match.
	(_match): New method which performs a depth-first recursive search.
	(matchMinimum): New method.
	(initVisited), (visitedContains), (addVisited): New methods for
	manipulating an array of icharacter positions which _match has
	already visited.

2006-02-24  David Daney  <ddaney@avtrex.com>

	PR classpath/26082
	* gnu/java/net/protocol/http/HTTPConnection.java (pool): Changed to
	type Pool.
	(Pool): New inner class.
	(timeLastUsed): New field.
	(setPool): Changed parameter type to Pool.
	(release): Moved pool management logic to new class Pool.
	* gnu/java/net/protocol/http/HTTPURLConnection.java (connectionPool):
	Removed.
	(maxConnections) : Removed.
	(GetHTTPPropertiesAction.run): Don't initialize maxConnections.
	(getConnection):  Moved pool management logic to HTTPConnection.Pool.

2006-02-24  Lillian Angel  <langel@redhat.com>

	* java/awt/Container.java:
	Added new field. True if Container has been cleared and
	heavyweights need to be repainted.
	(paint): Fixed comment. Fixed to use backCleared and 
	reset backCleared.
	(update): Set backCleared to true after the background
	of the container has been cleared.

2006-02-24  Lillian Angel  <langel@redhat.com>

	* java/awt/TextField.java
	(addNotify): Added call to super.

2006-02-24  Lillian Angel  <langel@redhat.com>

	* java/awt/Component.java
	(reshape): Reverted last patch. Should have check here.
	(addNotify): Added check. If parent is lightweight, then
	initialize listener on the parent.
	(HeavyweightInLightweightListener): New class.

2006-02-24  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicComboPopup.java
	(show): Register the popup with the autocloser after it has been
	opened completely, by putting the registration on the eventqueue.

2006-02-24  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/java/security/prng/BasePRNG.java:
	(clone()): Added cast of buffer to byte[].
	* gnu/javax/crypto/mac/TMMH16.java:
	(clone()): Fixed casting of cloned arrays.
	* native/fdlibm/fdlibm.h:
	Added missing defines from old fdlibm.h needed by Darwin.
	(GET_FLOAT_WORD(i,d)): Re-added.
	(SET_FLOAT_WORD(d,i)): Re-added.
	
2006-02-24  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java:
	(dispatcher): Removed field.
	(dispatchEventImpl): Removed lightweight dispatching.
	(addNotifyContainerChildren): Removed LightweightDispatcher
	handling.
	(LightweightDispatcher): Removed class.
	* java/awt/LightweightDispatcher.java: New class.
	* java/awt/Toolkit.java
	(Toolkit): Install LightweightDispatcher in global listener
	array.

2006-02-24  Chris Burdess  <dog@gnu.org>

	Fixes PR 26324
	* gnu/java/net/CRLFInputStream.java: Fix incorrect end condition when
	  off > 0.

2006-02-24  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* NEWS: Mentions the VMMath runtime changes.
	* doc/vmintegration.texinfo: Updated to include
	VMMath.

2006-02-24  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(PopupHelper.autoClosePopups): New field.
	(PopupHelper.mousePressed): Also autoclose any registered popups.
	(PopupHelper.registerForAutoClose): New method.
	(PopupHelper.autoClosePopups): New method.
	(popupHelper): Changed type of field to PopupHelper.
	(registerForAutoClose): New method.
	* javax/swing/plaf/basic/BasicComboPopup.java
	(show): Register this popup for autoclosing.

2006-02-24  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/mac/TMMH16.java (clone): New method.
	* gnu/java/security/prng/MDGenerator.java (clone): New method.
	* gnu/java/security/prng/BasePRNG.java (clone): Clone buffer.

2006-02-24  Roman Kennke  <kennke@aicas.com>

	Reported by Ingo Proetel <proetel@aicas.com>
	* java/util/logging/LogManager.java
	(addLogger): Search the parent loggers for log level
	configuration and inherit that.
	(readConfiguration): Provide minimal default configuration
	if no configuration can be found otherwise.

2006-02-23  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JRootPane.java
	(isOptimizedDrawingEnabled): Implemented to return true
	when the glassPane is not visible.

2006-02-23  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(PopupHelper): New inner class.
	(popupHelper): New field.
	(initialize): New method.
	(uninitialize): New method.
	* javax/swing/plaf/basic/BasicPopupMenuUI.java
	(mouseInputListener): Removed field.
	(PopupMenuHandler.popupMenuWillBecomeInvisible): Removed
	handling of GlassPane.
	(PopupMenuHandler.popupMenuWillBecomeVisible): Removed
	handling of GlassPane.
	(MouseInputHandler): Removed class.

2006-02-23  Roman Kennke  <kennke@aicas.com>

	* java/awt/AWTEvent.java
	(eventIdToMask): New utility method.
	* java/awt/EventQueue.java
	(dispatchEvent): Also globally dispatch events via the toolkit.
	(globalDispatchEvent): New method.
	* java/awt/Toolkit.java
	(awtEventListeners): New field.
	(Toolkit()): Initialize new field.
	(createComponent): Create GLightweightPeer here.
	(addAWTEventListener): Implemented and documented.
	(removeAWTEventListener): Implemented and documented.
	(getAWTEventListeners): Implemented and documented both method
	variants.
	* java/awt/event/AWTEventListenerProxy.java
	(eventDispatched): Don't filter events here.

2006-02-23  Chris Burdess  <dog@gnu.org>

	Fixes PR 26410
	* gnu/xml/dom/DomDocumentBuilderFactory.java,
	  gnu/xml/dom/JAXPFactory.java,
	  gnu/xml/libxmlj/dom/GnomeDocumentBuilderFactory.java,
	  javax/xml/parsers/DocumentBuilderFactory.java: Add and trivially
	  implement DocumentBuilderFactory.get/setFeature methods.

2006-02-23  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/GLightweightPeer.java
	(repaint): Scott's proposed fix. Send repaint to the
	component's parent.
	* gnu/java/awt/peer/gtk/GtkComponentPeer.java
	(setBounds): Removed next_parent, not needed. Removed
	lightweightChild, we always need to compensate for the
	menu bar's height.
	* java/awt/Component.java
	(setBounds): Removed check. Caused lots of problems, because some
	components were not being invalidated. Components should be
	invalidated when they are resized or moved, and in some cases,
	when a parent is resized/moved, the components do not know
	about it and do not adjust.
	* java/awt/Graphics.java
	(hitClip): Scott's proposed fix. Added check to handle a 
	null clip.

2006-02-23  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/attribute/standard/MediaSize.java: 
	(media): Field renamed to mediaName for serialization.
	(MediaSize): Adapted to new fieldname.
	(getMediaSizeName): Likewise.
	* javax/print/attribute/HashAttributeSet.java: 
	(interfaceName): Field renamed to myInterface for serialization.
	(HashAttributeSet): Adapted to the new fieldname.
	(add): Likewise.
	(addAll): Likewise.
	(addInternal): Likewise.
	(attributeMap): Made transient.
	(readObject): New serialization method.
	(writeObject): Likewise.
	* javax/print/attribute/AttributeSetUtilities.java: 
	(SynchronizedAttributeSet.set): Field renamed to attrset for serialization.
	(SynchronizedAttributeSet.add): Adapted to the new fieldname.
	(SynchronizedAttributeSet.addAll): Likewise.
	(SynchronizedAttributeSet.clear): Likewise.
	(SynchronizedAttributeSet.containsKey): Likewise.
	(SynchronizedAttributeSet.containsValue): Likewise.	
	(SynchronizedAttributeSet.equals): Likewise.
	(SynchronizedAttributeSet.get): Likewise.
	(SynchronizedAttributeSet.hashCode): Likewise.	
	(SynchronizedAttributeSet.isEmpty): Likewise.
	(SynchronizedAttributeSet.remove): Likewise.	
	(SynchronizedAttributeSet.size): Likewise.	
	(SynchronizedAttributeSet.toArray): Likewise.	
	(UnmodifiableAttributeSet.set): Field renamed to attrset for serialization.
	(UnmodifiableAttributeSet.add): Adapted to the new fieldname.
	(UnmodifiableAttributeSet.addAll): Likewise.
	(UnmodifiableAttributeSet.clear): Likewise.
	(UnmodifiableAttributeSet.containsKey): Likewise.
	(UnmodifiableAttributeSet.containsValue): Likewise.	
	(UnmodifiableAttributeSet.equals): Likewise.
	(UnmodifiableAttributeSet.get): Likewise.
	(UnmodifiableAttributeSet.hashCode): Likewise.	
	(UnmodifiableAttributeSet.isEmpty): Likewise.
	(UnmodifiableAttributeSet.remove): Likewise.	
	(UnmodifiableAttributeSet.size): Likewise.	
	(UnmodifiableAttributeSet.toArray): Likewise.	
	* javax/print/attribute/standard/MediaPrintableArea.java: 
	(width): Field renamed to w for serialization.
	(height): Field renamed to h for serialization. 
	(MediaPrintableArea): Adapted to the new fieldnames.	
	(MediaPrintableArea): Likewise.
	(equals): Likewise.
	(hashCode): Likewise.
	(getHeight): Likewise.
	(getWidth): Likewise.

2006-02-23  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* include/java_lang_VMMath.h:
	(Java_java_lang_VMMath_cbrt(JNIEnv*,jclass,jdouble)): Added.
	(Java_java_lang_VMMath_cosh(JNIEnv*,jclass,jdouble)): Added.
	(Java_java_lang_VMMath_expm1(JNIEnv*,jclass,jdouble)): Added.
	(Java_java_lang_VMMath_hypot(JNIEnv*,jclass,jdouble,jdouble)): Added.
	(Java_java_lang_VMMath_log10(JNIEnv*,jclass,jdouble)): Added.
	(Java_java_lang_VMMath_log1p(JNIEnv*,jclass,jdouble)): Added.
	(Java_java_lang_VMMath_sinh(JNIEnv*,jclass,jdouble)): Added.
	(Java_java_lang_VMMath_tanh(JNIEnv*,jclass,jdouble)): Added.
	* java/lang/Math.java:
	(cbrt(double)): Implemented.
	(cosh(double)): Implemented.
	(expm1(double)): Implemented.
	(hypot(double,double)): Implemented.
	(log10(double)): Implemented.
	(log1p(double)): Implemented.
	(signum(double)): Implemented.
	(signum(float)): Implemented.
	(sinh(double)): Implemented.
	(tanh(double)): Implemented.
	* native/fdlibm/Makefile.am:
	Added new files from fdlibm 5.3.
	* native/fdlibm/e_acos.c,
	* native/fdlibm/e_asin.c,
	* native/fdlibm/e_atan2.c,
	* native/fdlibm/e_exp.c,
	* native/fdlibm/e_fmod.c,	
	* native/fdlibm/e_log.c,
	* native/fdlibm/e_rem_pio2.c,
	* native/fdlibm/e_remainder.c,
	* native/fdlibm/e_scalb.c,
	* native/fdlibm/e_sqrt.c,
	* native/fdlibm/k_cos.c,
	* native/fdlibm/k_rem_pio2.c,
	* native/fdlibm/k_sin.c,
	* native/fdlibm/k_tan.c,
	* native/fdlibm/s_atan.c,
	* native/fdlibm/s_ceil.c,
	* native/fdlibm/s_copysign.c,
	* native/fdlibm/s_cos.c,
	* native/fdlibm/s_fabs.c,
	* native/fdlibm/s_finite.c,
	* native/fdlibm/s_floor.c,
	* native/fdlibm/s_rint.c,
	* native/fdlibm/s_scalbn.c,
	* native/fdlibm/s_sin.c,
	* native/fdlibm/s_tan.c,
	* native/fdlibm/w_acos.c,
	* native/fdlibm/w_asin.c,
	* native/fdlibm/w_atan2.c,
	* native/fdlibm/w_acos.c,
	* native/fdlibm/w_exp.c,
	* native/fdlibm/w_fmod.c,
	* native/fdlibm/w_log.c,
	* native/fdlibm/w_pow.c,
	* native/fdlibm/w_remainder.c,
	* native/fdlibm/w_sqrt.c:
	Updated to fdlibm 5.3.
	* native/fdlibm/e_cosh.c,
	* native/fdlibm/e_hypot.c,
	* native/fdlibm/e_log10.c,
	* native/fdlibm/e_sinh.c,
	* native/fdlibm/s_cbrt.c,
	* native/fdlibm/s_expm1.c,
	* native/fdlibm/s_log1p.c,
	* native/fdlibm/s_tanh.c,
	* native/fdlibm/w_cosh.c,
	* native/fdlibm/w_hypot.c,
	* native/fdlibm/w_log10.c,
	* native/fdlibm/w_sinh.c:
	Imported from fdlibm 5.3.
	* native/fdlibm/fdlibm.h:
	Imported from fdlibm 5.3 with Classpath additions.
	* native/fdlibm/namespace.h:
	Updated from new math_symbols file.
	* native/jni/java-lang/java_lang_VMMath.c:
	(Java_java_lang_VMMath_cbrt(JNIEnv*,jclass,jdouble)): Implemented.
	(Java_java_lang_VMMath_cosh(JNIEnv*,jclass,jdouble)): Implemented.
	(Java_java_lang_VMMath_expm1(JNIEnv*,jclass,jdouble)): Implemented.
	(Java_java_lang_VMMath_hypot(JNIEnv*,jclass,jdouble,jdouble)):
	Implemented.
	(Java_java_lang_VMMath_log10(JNIEnv*,jclass,jdouble)): Implemented.
	(Java_java_lang_VMMath_log1p(JNIEnv*,jclass,jdouble)): Implemented.
	(Java_java_lang_VMMath_sinh(JNIEnv*,jclass,jdouble)): Implemented.
	(Java_java_lang_VMMath_tanh(JNIEnv*,jclass,jdouble)): Implemented.
	* scripts/math_symbols:
	Added tanh, expm1, log10 and log1p.
	* vm/reference/java/lang/VMMath.java:
	(cbrt(double)): Implemented.
	(cosh(double)): Implemented.
	(expm1(double)): Implemented.
	(hypot(double,double)): Implemented.
	(log10(double)): Implemented.
	(log1p(double)): Implemented.
	(sinh(double)): Implemented.
	(tanh(double)): Implemented.
	
2006-02-23  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/DocFlavor.java: Added documentation all over.
	(BYTE_ARRAY.TEXT_HTML_HOST): Include host charset encoding to mimetype.
	(BYTE_ARRAY.TEXT_PLAIN_HOST): Likewise.
	(INPUT_STREAM.TEXT_HTML_HOST): Likewise.
	(INPUT_STREAM.TEXT_PLAIN_HOST): Likewise.
	(URL.TEXT_HTML_HOST): Likewise.
	(URL.TEXT_PLAIN_HOST): Likewise.
	(hostEncoding): Initialize with host default charset encoding.
	(mediaSubtype): Made transient.
	(mediaType): Likewise.
	(params): Made transient. Changed type to TreeMap.
	(className): Removed, changed to myClassName.
	(myClassName): New field as defined in serialized form.
	(DocFlavor): Adapted to new variable types, names.
	(parseMimeType): Reimplemented.
	(getParameter): Search with lowercase name.
	(getRepresentationClassName): Adapted to changed variable name.
	(hashCode): Likewise.
	(toString): Reimplemented.
	(readObject): New method for serialization.
	(writeObject): Likewise.

2006-02-23  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(commitBuffer): Clip the repaint area with the current clip.

2006-02-23  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/key/dh/GnuDHKeyPairGenerator.java
	(DEFAULT_PRIME_SIZE): Made public.
	(DEFAULT_EXPONENT_SIZE): Likewise.
	(setup): Handle DHParameterSpec as well.
	* gnu/javax/crypto/key/dh/GnuDHKey.java (getEncoded): Return
	defaultFormat instead of Raw.
	* gnu/javax/crypto/key/dh/DHKeyPairX509Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodePublicKey): Use DerUtil.
	* gnu/javax/crypto/key/dh/DHKeyPairPKCS8Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodePrivateKey): Use DerUtil.
	* gnu/javax/crypto/jce/GnuCrypto.java (run): Updated mapping of
	KeyAgreement.DH.
	Added mappings for AlgorithmParameters.DH and
	AlgorithmParameterGenerator.DH.
	* gnu/javax/crypto/jce/DiffieHellmanImpl.java: New file.
	* gnu/javax/crypto/jce/sig/DHParametersGenerator.java: Likewise.
	* gnu/javax/crypto/jce/sig/DHParameters.java: Likewise.
	* gnu/javax/crypto/jce/sig/DHKeyFactory.java (engineGeneratePrivate):
	Return result.
	(engineGeneratePublic): Likewise.
	* gnu/java/security/util/DerUtil.java: New file.
	* gnu/java/security/sig/rsa/RSASignatureFactory.java (getNames):
	Include only valid RSA PKCS1 (v1.5) signature names.
	* gnu/java/security/sig/rsa/RSAPKCS1V1_5SignatureX509Codec.java
	(RSAPKCS1V1_5SignatureX509Codec): Removed.
	(checkIsConstructed): Likewise.
	* gnu/java/security/sig/dss/DSSSignatureX509Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodeSignature): Use DerUtil.
	* gnu/java/security/key/rsa/RSAKeyPairX509Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodePublicKey): Use DerUtil.
	* gnu/java/security/key/rsa/RSAKeyPairPKCS8Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodePrivateKey): Use DerUtil.
	* gnu/java/security/key/dss/DSSKeyPairX509Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodePublicKey): Use DerUtil.
	* gnu/java/security/key/dss/DSSKeyPairPKCS8Codec.java
	(checkIsConstructed): Removed.
	(checkIsBigInteger): Likewise.
	(decodePrivateKey): Use DerUtil.
	* gnu/java/security/key/dss/DSSKeyPairGenerator.java
	(DEFAULT_MODULUS_LENGTH): Made it public.
	* gnu/java/security/key/dss/DSSKey.java (getEncoded): Return
	defaultFormat instead of Raw.
	* gnu/java/security/jce/sig/DSSParametersGenerator.java: New file.
	* gnu/java/security/jce/sig/DSSParameters.java: Likewise..
	* gnu/java/security/jce/sig/DSSKeyFactory.java (engineGeneratePrivate):
	Return result.
	(engineGeneratePublic): Likewise.
	* gnu/javax/crypto/DiffieHellmanImpl: Removed.

2006-02-22  Mark Wielaard  <mark@klomp.org>

	* java/awt/Checkbox.java (setState): Check that state actually changed
	before calling peer.
	(dispatchEventImpl): Set new state if ItemEvent.
	* gnu/java/awt/peer/gtk/GtkCheckboxPeer.java (changing): Removed.
	(create): Set currentState.
	(setState): Make synchronized, check and set currentState before
	calling gtkToggleButtonSetActive.
	(postItemEvent): Make synchronized, check and set currentState before
	posting ItemEvent.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkCheckboxPeer.c
	(postItemEventID): Method now takes boolean.
	(item_toggled_cb): Likewise.

2006-02-22  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/DefaultHighlighter.java:
	(changeHighlight): Added code to minimize the damaged area.

2006-02-22  Robert Schuster  <robertschuster@fsfe.org>

        * javax/swing/text/PlainView.java:
        (getPreferredSpan): Added missing 'break'.
        statement which corrects an unwanted fall through.
        (updateDamage): Update maxLineLength correctly when text is
        removed, call preferenceChanged accordingly.
        (viewToModel): Restrict line number to be within 0 and the
        number of elements-1.

2006-02-22  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/Utilities.java:
	(getPositionAbove): Prefer first value by changing comparison
	from < to <=.
	(getPositionBelow): Dito.

2006-02-22  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/DefaultEditorKit.java: Added checks and fallback
	behavior when magic caret position is null.

2006-02-22  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTextField.java
	(isValidateRoot): New method.

2006-02-22  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JEditorPane.java
	(getPreferredSize): Rewritten to behave like the reference impl.
	(getScrollableTracksViewportWidth): Likewise.
	(getScrollableTracksViewportHeight): Likewise.

2006-02-22  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(addInvalidComponent): Also consider the component itself.

2006-02-22  Mark Wielaard  <mark@klomp.org>

	* javax/swing/text/html/HTMLDocument.java (createDefaultRoot): Fully
	qualify AbstractDocument.AttributeContext.
	(blockOpen): Likewise.

2006-02-21  Mark Wielaard  <mark@klomp.org>

	* java/awt/Component.java (translateEvent): Translate
	AdjustmentEvents to 1.0 Events.
	* java/awt/Scrollbar.java (dispatchEventImpl): Set valueIsAdjusting.
	Call setValue() before processing event.
	* gnu/java/awt/peer/gtk/GtkScrollbarPeer.java (setValues): Check
	whether we are currently changing and being called back from the
	Scrollbar component.
	(setBarValues): New native method.
	(postAdjustmentEvent): Mark AdjustmentEvent as user generated.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollbarPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkScrollbarPeer_setValues): Renamed to
	Java_gnu_java_awt_peer_gtk_GtkScrollbarPeer_setBarValue
	* include/gnu_java_awt_peer_gtk_GtkScrollbarPeer.h: Regenerated.

2006-02-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/View.java
	(setParent): Set child parent to null when disconnecting
	the view from the View hierarchy.

2006-02-21  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/StreamPrintService.java: Added and enhanced documentation.

2006-02-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/WrappedPlainView.java
	(calculateBreakPosition): Changed to use the view's allocation instead
	of the container's preferredSize.

2006-02-21  Wolfgang Baer  <WBaer@gmx.de>

	* java/awt/CardLayout.java:
	(first): Updated api documentation.
	(last): Likewise.
	(next): Likewise.
	(previous): Likewise.
	(show): Clarified api docs. Return if name is null. Throw
	IllegalArgumentException if layout of container is not this.
	(gotoComponent): Updated api documentation. Throw
	IllegalArgumentException if layout of container is not this.

2006-02-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/NavigationFilter.java
	(getNextVisualPositionFrom): New method.

2006-02-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(RootView.setView): Call setParent() on the view with this as
	argument instead of null.
	(setView): Don't set root view's parent here.

2006-02-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(AbstractElement.getAttribute): Use getResolveParent() to fetch
	the resolving parent.
	(AbstractElement.getResolveParent): Fixed to handle possible null
	parent.
	* javax/swing/text/BoxView.java
	(childReqs): New field.
	(paint): Added debugging code (commented out).
	(getPreferredSpan): Rewritten to use new update* methods.
	(getMaximumSpan): Rewritten to return Integer.MAX_VALUE
	for the minor axis and preferredSpan for the major axis.
	(getMinimumSpan): Rewritten to use new update* methods.
	(baselineRequirements): Rewritten to avoid creation of 
	unnecessary SizeRequirements objects.
	(baselineLayout): Rewritten to use new update* methods.
	(calculateMajorAxisRequirements): Rewritten to avoid creation of 
	unnecessary SizeRequirements objects.
	(calculateMinorAxisRequirements): Rewritten to avoid creation of 
	unnecessary SizeRequirements objects.
	(layout): Some robustness fixes for the layout. Turned AssertionErrors
	into warnings.
	(layoutMajorAxis): Rewritten to use new update* methods.
	(layoutMinorAxis): Rewritten to use new update* methods.
	(getChildRequirements): Replaced by the update* methods.
	(getAlignment): Use update* methods.
	(updateChildRequirements): New methods. Updates the child requirements
	if necessary.
	(updateRequirements): New methods. Updates the BoxView requirements
	if necessary.
	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.insert): Added warning for illegal replacement operation.
	* javax/swing/text/FlowView.java
	(layoutRow): When offset doesn't change, return -1.
	(LogicalView): Now subclasses BoxView.
	(loadChildren): Let the CompositeView.setParent() load the children
	of the logicalView.
	(calculateMinorRequirements): New overridden method.
	* javax/swing/text/GlyphView.java
	(DefaultGlyphPainter.paint): Fixed typo.
	(startOffset): Made field private.
	(endOffset): Made field private.
	(paint): Call getStartOffset() and getEndOffset() instead of the
	element methods.
	(isStrikeThrough): Fixed typo.
	(breakView): Use Utilities.getBreakLocation() to determine best
	break location.
	(changedUpdate): Call preferencedChange on this instead of parent.
	(removeUpdate): Call preferencedChange on this instead of parent.
	* javax/swing/text/ParagraphView.java
	(Row.getAlignment): For Y_AXIS, call super.
	(getAlignment): Likewise.
	* javax/swing/text/Utilities.java
	(getBreakLocation): Set Segment object directly on the BreakIterator.
	* javax/swing/text/html/HTML.java
	(Attribute): Made class non-serializable and final as specified.
	(Attribute(String)): Made constructor private.
	(Attribute.compareTo): Removed.
	(Attribute.equals): Removed.
	(Attribute.hashCode): Removed.
	(Tag): Made class non-comparable and non-serializable as specified.
	(Tag.compareTo): Removed.
	(Tag.equals): Removed.
	(Tag.hashCode): Removed.
	* javax/swing/text/html/HTMLDocument.java
	(HTMLReader.blockOpen): Add tag as name attribute to element.
	* javax/swing/text/html/HTMLEditorKit.java
	(HTMLFactory.create): Create NullView for <head> tags, removed unused
	fallback.
	* javax/swing/text/html/InlineView.java
	(setPropertiesFromAttributes): Call super.
	* javax/swing/text/html/NullView.java: New class.

2006-02-21  Roman Kennke  <kennke@aicas.com>

	PR classpath/26368
	* javax/swing/text/GapContent.java
	(GapContentPosition): Made class private.
	(InsertUndo): Made class private.
	(UndoRemove): Made class private.
	(WeakPositionComparator): New inner class.
	(positions): Made field private.
	(createPosition): Clear up GC'ed positions before creating
	a new one. Store position as WeakReference.
	(getPositionsInRange): Changed to handle WeakReference
	positions.
	(setPositionsInRange): Changed to handle WeakReference
	positions.
	(adjustPositionsInRange): Changed to handle WeakReference
	positions.
	(dumpPositions): Handle WeakReference positions.
	(clearPositionReferences): New method.

2006-02-21  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/plaf/basic/BasicTextUI.java:
	(paint): Remove unneccessary part of the if-expression.
	(damageRange): Added case where the range spans multiple lines.
	* javax/swing/text/DefaultCaret.java:
	(clearHighlight): New method.
	(handleHighlight): Removed unneccessary part of the if-expression.
	(setDot): Use clearHighlight method.
	* javax/swing/text/DefaultHighlighter.java: Use ArrayList instead
        of Vector.
        (paint): Prevented calling size() on every loop iteration, fixed
        calculation of allocation area bounds.
        (getHighlights): Implemented.
	(removeHighlight): Mark damaged area in textcomponent.
	(addHighlight): Mark damaged area in textcomponent.
	(changeHighlight): Mark damaged area in textcomponent.
        (DefaultHighlighter.HighlightEntry): Made it a real
        Highlighter.Highlight implementation.
        (DefaultHighlighter.DefaultHighlightPainter.paint): Fixed
        calculations.

2006-02-20  Stuart Ballard  <stuart.a.ballard@gmail.com>

	* java/util/zip/ZipConstants.java
	(LOCSIG): Change type to long.
	(EXTSIG): Likewise.
	(CENSIG): Likewise.
	(ENDSIG): Likewise.
	* java/util/zip/ZipOutputStream.java
	(writeLeInt(long)): New method.

2006-02-21  Michael Koch  <konqueror@gmx.de>

	* gnu/javax/net/ssl/provider/PRNG.java: Removed.

2006-02-20  Mark Wielaard  <mark@klomp.org>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
	(begin_drawing_operation): Output stacktrace and return on bad cairo
	status.
	(end_drawing_operation): Likewise. And reset cairo_t.

2006-02-20  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/DefaultEditorKit.java: Fixed comparison
	in backward selection action.

2006-02-20  Olivier Jolly  <olivier.jolly@pcedev.com>

	* java/lang/reflect/Proxy.java:
	(ProxyData.getProxyData): Skipped overriding of core methods.
	(ProxyData.isCoreObjectMethod): New method.

2006-02-20  Mark Wielaard  <mark@klomp.org>

	* gnu/java/nio/charset/Provider.java (Provider): Package private.

2006-02-20  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/Option.java: New class.

2006-02-20  Lillian Angel  <langel@redhat.com>

	* java/swt/Window.java
	(show): Calling show() on the owned windows caused problems.
	Changed back to get the peer and call setVisible.

2006-02-20  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(damageRange): Implemented this method.

2006-02-20  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/GapContent.java:
	(shiftGapEndUp): Corrected new mark value.
	* javax/swing/text/AbstractDocument.java:
	(remove): Changed order of operations.

2006-02-20  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/GapContent.java:
	(shiftGapEndUp): Reverted.
	* javax/swing/text/AbstractDocument.java:
	(remove): Reverted.

2006-02-20  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/GapContent.java:
	(shiftGapEndUp): Corrected new mark value.
	* javax/swing/text/AbstractDocument.java:
	(remove): Changed order of operations.

2006-02-20  Mark Wielaard  <mark@klomp.org>

	* java/awt/Menu.java (add(MenuItem)): Use item.getParent() to get
	parent field.
	(insert): Likewise.
	(addNotify): Add the item after addNotifying it.
	* java/awt/MenuBar.java (setHelpMenu): Only call removeNotify() when
	there is a peer. Use getParent() and setParent() to manipulate parent
	field.
	(add(Menu)): Use getParent() and setParent() to manipulate parent
	field. Call addNotify() and addMenu() when there is a peer.
	(remove(int)): Call removeNotify() and delMenu() when there is a peer.
	(addNotify): Use getPeer()/setPeer(). Call addMenu() and addHelpMenu()
	when there is a peer.
	* gnu/java/awt/peer/gtk/GtkMenuComponentPeer.java (create): Document.
	(GtkMenuComponentPeer): Document. Take MenuComponent as argument.
	(setFont): Call setFont(Font).
	(setFont(Font)): Document. Only set font when not null.
	* gnu/java/awt/peer/gtk/GtkMenuItemPeer.java (create): Document. Made
	protected.
	(connectSignals): Likewise.
	(GtkMenuItemPeer): Document. Don't try to add item. Always call
	connectSignals().
	* gnu/java/awt/peer/gtk/GtkCheckboxMenuItemPeer.java (create): Make
	protected.
	(postMenuActionEvent): Document.
	* gnu/java/awt/peer/gtk/GtkMenuPeer.java (create): Document. Made
	protected.
	(addItem): Document. Made private.
	(addTearOff): Made private.
	(connectSignals): New protected overridden method.
	(GtkMenuPeer): Correctly cast setupAccelGroup() arguments.
	* gnu/java/awt/peer/gtk/GtkMenuBarPeer.java (hasHelpMenu): New field.
	(create): Document.
	(addMenu): Made private, take GtkMenuPeer as argument and document.
	(GtkMenuBarPeer): Document.
	(nativeSetHelpMenu): Removed.
	(addHelpMenu): Implement.
	(delMenu): Document.
	(addMenu): Implement.
	* gnu/java/awt/peer/gtk/GtkPopupMenuPeer.java (setParent): Removed.
	* include/gnu_java_awt_peer_gtk_GtkMenuBarPeer.h: Regenerated.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuBarPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkMenuBarPeer_nativeSetHelpMenu):
	Removed.

2006-02-20  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/java/rmi/server/RMIObjectInputStream.java (resolveProxyClass):
	Expect that proxy interfaces may have different class loaders.
	* gnu/java/rmi/server/UnicastServerRef.java: Rewritten.
	* java/rmi/registry/Registry.java,
	* java/rmi/server/UnicastRemoteObject.java: 
	Documented about proxy stubs.
	* gnu/java/rmi/server/CombinedClassLoader.java,
	java/rmi/server/RemoteObjectInvocationHandler.java: New files.
	* NEWS: Added entry.

2006-02-19  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GtkContainerPeer.java (endValidate): Set
	Parent and Bounds of our children if either or parent is showing, or
	we are a Window and are showing ourselves now.

2006-02-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/classpath/tools/rmi/rmic/RmicCompiler.java (convertStubName): 
	New method.
	* gnu/classpath/tools/rmi/rmic/templates/Stub_12.jav: 
	Another stub name fix.

2006-02-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/classpath/tools/giop/grmic/GiopRmicCompiler.java (compile):
	Call convertStubName. (convertStubName): New method.
	* gnu/classpath/tools/rmi/RMIC.java (main): Stub name fix.
	* gnu/classpath/tools/rmi/rmic/RmiMethodGenerator.java 
	(convertStubName): New method.
	(getMethodHashCode): 
	Use existing gnu.java.rmi.server.RMIHashes.getMethodHash.
	* gnu/classpath/tools/rmi/rmic/templates/Stub_12.jav: Stub name fix.

2006-02-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* java/rmi/server/UnicastRemoteObject.java: Documenting. 

2006-02-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/java/rmi/server/UnicastServerRef.java: Reformatted.

2006-02-18  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JViewport.java (paintBackingStore): If the component has
	not been scrolled, only repaint the buffer part, indicated by
	the parameter graphics clip. 
     
2006-02-19  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/key/OutgoingMessage.java (writePublicKey): Handle new
	internal format.
	(writePrivateKey): Likewise.
	(writeKey): New method.
	(getKeyType): Likewise.
	* gnu/javax/crypto/key/IncomingMessage.java (readPublicKey): Handle new
	internal format.
	(readPrivateKey): Likewise.
	(getKeyPairCodec): New method.
	* gnu/javax/crypto/key/srp6/SRPKey.java (getFormat): Always return Raw.
	* gnu/javax/crypto/key/dh/GnuDHKey.java (getFormat): Use FormatUtil.
	* gnu/java/security/Registry.java (RSA_SIG_PREFIX): New constant.
	(RSA_PSS_ENCODING): Likewise..
	(RSA_PKCS1_V1_5_ENCODING): Likewise.
	(RSA_PSS_SIG): Redefined using other constants.
	(RSA_PKCS1_V1_5_SIG): Likewise.
	(MAGIC_RAW_RSA_PKCS1V1_5_SIGNATURE): New constant.
	* gnu/java/security/util/FormatUtil.java: New file.
	* gnu/java/security/sig/SignatureFactory.java (names): New field.
	(getInstance): Let RSASignatureFactory handle RSA signature names.
	(getNames): Handle new RSA signature (with format) names.
	* gnu/java/security/sig/SignatureCodecFactory.java: New file.
	* gnu/java/security/sig/BaseSignature.java (BaseSignature): Add check
	for null md.
	(name): Include hash algorithm name.
	* gnu/java/security/sig/rsa/RSASignatureFactory.java: New file.
	* gnu/java/security/sig/rsa/RSAPSSSignature.java
	(RSAPSSSignature): Call constructor with IMessageDigest.
	(RSAPSSSignature(ImessageDigest,int)): New constructor.
	* gnu/java/security/sig/rsa/RSAPKCS1V1_5SignatureRawCodec.java: New
	file.
	* gnu/java/security/sig/rsa/RSAPKCS1V1_5SignatureX509Codec.java:
	Likewise.
	* gnu/java/security/sig/rsa/RSAPKCS1V1_5Signature.java
	(RSAPKCS1V1_5Signature(String)): Call constructor with IMessageDigest.
	(RSAPKCS1V1_5Signature(IMessageDigest)): New constructor.
	* gnu/java/security/sig/rsa/EMSA_PKCS1_V1_5.java (getInstance): Added
	hash algorithm name to exception.
	* gnu/java/security/sig/dss/DSSSignatureX509Codec.java: New file.
	* gnu/java/security/key/KeyPairCodecFactory.java
	(names): New class field.
	(getInstance(Sitrng)): Deconstruct and call getInstance(String,String).
	(getInstance(String,String)): New method.
	(getInstance(String,int)): New method.
	(getInstance(byte[])): Removed.
	(getInstance(Key)): Handle new formats.
	(getNames): Likewise.
	(getEncodingName(int)): Moved to FormatUtil.
	(getEncodingShortName(int)): Likewise.
	(getRawCodec(String)): New method.
	(getX509Codec(String)): Likewise.
	(getPKCS8Codec(String)): Likewise.
	(getRawCodec(Key)): Likewise.
	(getX509Codec(Key)): Likewise.
	(getPKCS8Codec(Key)): Likewise.
	* gnu/java/security/key/dss/DSSKey.java (getFormat): Use FormatUtil.
	* gnu/java/security/key/rsa/GnuRSAKey.java (getFormat): Likewise.
	* gnu/java/security/jce/sig/SHA512withRSA.java: New File.
	* gnu/java/security/jce/sig/SHA384withRSA.java: Likewise.
	* gnu/java/security/jce/sig/SHA256withRSA.java: Likewise.
	* gnu/java/security/jce/sig/SHA160withRSA.java: Likewise.
	* gnu/java/security/jce/sig/SHA160withDSS.java: Likewsie.
	* gnu/java/security/jce/sig/MD5withRSA.java: Likewise.
	* gnu/java/security/jce/sig/MD2withRSA.java: Likewise.

2006-02-18  Mark Wielaard  <mark@klomp.org>

	* java/awt/dnd/DragSource.java (getDefaultDragSource): Return new
	DragSource.
	(NoDragGestureRecognizer): New static class.
	(createDragGestureRecognizer): Return NoDragGestureRecognizer when
	Toolkit doesn't support drag and drop.

2006-02-18  Mark Wielaard  <mark@klomp.org>

	* javax/swing/AbstractAction.java (AbstractAction()): Nothing to do.
	(AbstractAction(String)): Just call putValue() for NAME.
	(putValue): Nothing to do is old and new value are both null.

2006-02-18  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JRootPane.java (layoutContainer): Get contentPane
	through getContentPane().
	(preferredLayoutSize): Likewise.

2006-02-18  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JMenuBar.java (paintBorder): Check whether border is
	actually set before painting.

2006-02-18  Mark Wielaard  <mark@klomp.org>

	* javax/swing/text/html/HTMLDocument.java (addContent):
	Fully qualify AbstractDocument.AttributeContext and
	DefaultStyledDocument.ElementSpec.ContentType for gcj 4.0.

2006-02-18  Mark Wielaard  <mark@klomp.org>

	* java/awt/datatransfer/DataFlavor.java (tryToLoadClass): Rewritten.
	(getRepresentationClassFromMime): Add exception cause to
	IllegalArgumentException.

2006-02-17  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java:
	Removed unneeded import.
	* gnu/java/awt/peer/gtk/GtkFramePeer.java:
	Removed unneeded imports.
	* java/awt/BorderLayout.java:
	Fixed comment, this is not yet handled in the JDK 1.5.
	* java/awt/Container.java:
	Removed unneeded import.

2006-02-17  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java
	(setBounds): Removed check. Coordinates should always be changed
	to incorporate the parent's coordinates.
	* gnu/java/awt/peer/gtk/GtkFramePeer.java
	(setMenuBar): Added checks. Don't validate component if it has 
	not been validated yet, it will be validated later. Only validate
	if it has already been validated, in that case it needs to be
	revalidated.
	* java/awt/Window.java
	(show): Added check. If the window is visible, then bring it to the
	front. Otherwise, iterate through all its children windows and show them.
	No need to do both.

2006-02-17  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/ParagraphView.java: New file.

2006-02-17  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (getCellRect): return +rowMargin if spacing
	is included. (moveToCellBeingEdited): Adjusted to start editing at the
	same location where was the initial text.
	* javax/swing/plaf/basic/BasicTableUI.java (paint): Rewritten.

2006-02-17  Chris Burdess  <dog@gnu.org>

	Fixes PRs 26319, 26320, 26321, 26322, 26325
	* gnu/xml/stream/SAXParser.java: On error, reset parser before
	  rethrowing exception.
	* gnu/xml/stream/XMLParser.java: Only report "illegal use of
	  1.1-style prefix unbinding in 1.0 document" error for xmlns
	  prefixes, not xmlns attributes. Fix a problem with empty namespace
	  stack at the end of a document. Permit parameter entity references
	  in element and attribute-list definition name area. Corrected
	  normalisation of whitespace character entity references in CDATA
	  attribute values. Fixed number of characters read following a
	  reset when detecting end of character data with characters after a
	  Unicode surrogate pair.

2006-02-17  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/HTMLEditorKit.java
	(HTMLFactory.create): Create InlineView for content tags.
	* javax/swing/text/html/HTMLDocument.java
	(HTMLReader.flush): Call create() on first flush and insert
	on subsequent flushes.

2006-02-17  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(BranchElement.getStartOffset): Implemented workaround for wrong
	NPE.
	(BranchElement.getEndOffset): Implemented workaround for wrong
	NPE.
	(ElementBuffer.split): Use createBranchElement() instead of
	new BranchElement().
	(ElementBuffer.insertFracture): Use createBranchElement() instead of
	new BranchElement().
	(ElementBuffer.recreateAfterFracture): Use createBranchElement()
	instead of new BranchElement().
	(createDefaultRoot): Use createBranchElement() and createLeafElement
	instead of the constructors.
	(create): Rewritten.

2006-02-17  Keith Seitz  <keiths@redhat.com>

	* gnu/classpath/jdwp/id/JdwpId.java (size): Remove.
	(SIZE): New constant.
	* gnu/classpath/jdwp/processor/VirtualMachineCommandSet.java
	(executeIDsizes): Use SIZE constant.
	* vm/reference/gnu/classpath/jdwp/VMFrame.java (size): Remove.
	(SIZE): New constant.

2006-02-17  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (IconCellRenderer): Set the component
	text to empty string. (createDefaultRenderers): Register
	IconCellRenderer also for ImageIcon. 
	(getCellEditor(int, int), getCellRenderer(int, int)):
	Use model index for data model and column index for column model.
	(getColumnClass): Convert to model index before requesting class
	from model. 

2006-02-17  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/HTMLDocument.java
	(createDefaultRoot): Implemented.
	(createLeafElement): Implemented.
	(createBranchElement): Implemented.
	(BlockElement.getName): Fixed to handle HTML.Tag objects as name.
	(RunElement.getName): Fixed to handle HTML.Tag objects as name.
	(HTMLReader.ParagraphAction.start): Call blockOpen at the very least.
	(HTMLReader.ParagraphAction.end): Call blockClose at the very least.
	(HTMLReader.blockOpen): Add name attribute with the current tag.
	(HTMLReader.addContent): Add name attribute with HTML.Tag.CONTENT.

2006-02-17  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/plaf/basic/BasicTableHeaderUI.java (MouseInputHandler):
	Rewritten.
	* javax/swing/table/JTableHeader.java: Documenting related methods.

2006-02-17  Jeroen Frijters  <jeroen@frijters.net>

	Fixes PR 25752
	* gnu/java/net/protocol/ftp/FTPURLConnection.java
	(connect): Changed to use SystemProperties.
	(getInputStream): Try changeWorkingDirectory to figure out if
	url is a directory, if not use retrieve.
	(getOutputStream): Don't worry about directories, simply always
	try to do a store.

2006-02-17  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/net/protocol/ftp/ActiveModeDTP.java
	(ActiveModeDTP): Mark accept thread as daemon.

2006-02-17  Michael Koch  <konqueror@gmx.de>

	* tools/.cvsignore: Ignore tools.zip.

2006-02-16  Keith Seitz  <keiths@redhat.com>

	* vm/reference/gnu/classpath/jdwp/VMIdManager.java (newReferenceTypeId):
	Set the ID's reference.
	(<clinit>): Remove comments for field, method, and frame ID types,
	which will not be handled by VMIdManager.

2006-02-17  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (getCellEditor, getCellRenderer):
	Use model index, not the column number.
	* javax/swing/plaf/basic/BasicTableHeaderUI.java (MouseInputHandler):
	Rewritten. (draggingHeaderRect): New field. (paint): Animate column 
	movement by painting draggingHeaderRect.
	* NEWS: Added entry about JTable columns. 

2006-02-16  Keith Seitz  <keiths@redhat.com>

	* gnu/classpath/jdwp/id/JdwpId.java (size): Make static. Return
	default size of eight bytes.
	* gnu/classpath/jdwp/id/ObjectId.java (size): Remove.
	* gnu/classpath/jdwp/id/ReferenceTypeId.java (size): Remove.
	* gnu/classpath/jdwp/processor/VirtualMachineCommandSet.java
	(executeIDsizes): Use new static methods.
	* vm/reference/gnu/classpath/jdwp/VMFrame.java (size): New static
	method.
	
2006-02-16  David Daney  <ddaney@avtrex.com>

	PR classpath/26312
	* gnu/java/net/protocol/http/ChunkedInputStream.java (read): Mask
	return value with 0xff.

2006-02-16  Keith Seitz  <keiths@redhat.com>

	* gnu/classpath/jdwp/event/EventRequest.java (getFilters): New method.
	(matches): Use Iterator instead of ListIterator.

2006-02-16  Keith Seitz  <keiths@redhat.com>

	* gnu/classpath/jdwp/Jdwp.java (_doInitialization): Name the packet
	processor thread for easier debugging.
	(_enforceSuspendPolicy): Suspend the current thread, not the JDWP
	main thread.

2006-02-16  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java 
	(TableColumnPropertyChangeHandler.propertyChange): Return without
	action if table header resizing column in not null. (doLayout):
	Only repaint the header if it is not null.	
	* javax/swing/plaf/basic/BasicTableHeaderUI.java 
	(MouseInputHandler.mouseExited, MouseInputHandler.mouseReleased):
	Rewritten. (MouseInputHandler.endResizing): New method.

2006-02-16  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/InlineView.java: New file.

2006-02-16  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTabbedPane.java
	(AccessibleJTable.getAccessibleChild): Implemented to return
	the Page instance for the specified index.
	(Page): Changed to implement Accessible and extend
	AccessibleContext.
	(Page.getAccessibleContext): New method.
	(Page.getAccessibleRole): New method.
	(Page.getAccessibleStateSet): New method.
	(Page.getAccessibleIndexInParent): New method.
	(Page.getAccessibleChildrenCount): New method.
	(Page.getAccessibleChild): New methdod.
	(Page.getLocale): New method.

2006-02-16  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTabbedPaneUI.java
	(TabbedPaneLayout.calculateTabRects): Expand tabRuns array when
	tabCount gets greater than tabRuns.length.
	(TabbedPaneScrollLayout.calculateTabRects): Expand tabRuns array
	when tabCount gets greater than tabRuns.length.
	(paintTabArea): Don't set tabCount == runCount.

2006-02-16  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(installUI): Moved installation of PropertyChangeListener
	to installListeners(). Call modelChanged() after everything is
	is installed.
	(installListeners): Install PropertyChangeListener here.
	(uninstallUI): Moved uninstallation of PropertyChangeListener
	to uninstallListeners.
	(uninstallListeners): Uninstall PropertyChangeListener here.

2006-02-16  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (doLayout): 
	case AUTO_RESIZE_SUBSEQUENT_COLUMNS rewritten. Repaint the header
	on exit.
	javax/swing/plaf/basic/BasicTableHeaderUI.java 
	(MouseInputHandler.mouseDragged): Do not repaint the header.

2006-02-16  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JViewport.java
	(static_initializer): Set default scrollMode to backingstore.

2006-02-16  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (moveToCellBeingEdited): Clone the value,
	returned by getCellRect. To not translate the component.

2006-02-16  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JComponent.java
	(rectCache): Made field non-static to avoid nasty interferences.
	(computeVisibleRect): Avoid creation of new Rectangles and double
	calculations on ints by using Swing.computeIntersection() instead
	of Rectangle2D.intersect().
	(repaint): Interect the dirty region with the visible rectangle
	of this component to avoid unnecessary painting.

2006-02-16  Gary Benson  <gbenson@redhat.com>

	* java/lang/Thread.java (stop): Add a missing access check.

2006-02-16  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/JTextComponent.java:
	(replaceSelection): Added code to update the magic caret position.
	* javax/swing/text/DefaultEditorKit.java: Added code to update
	the magic caret position of the text component in all relevant
	movement actions, make use of the magic caret position in up
	and down movements and selections, simplified some actions
	(code-wise).

2006-02-15  Anthony Balkissoon  <abalkiss@redhat.com>

	* gnu/java/lang/CharData.java: Regenerated from 
	doc/unicode/UnicodeData-4.0.0.txt, doc/unicode/SpecialCasing-4.0.0.txt
	and scripts/unicode-muncher.pl.
	* java/lang/Character.java: 
	(PrivateUseCharacters): New private static class.
	(UnassignedCharacters): Likewise.
	(blocks): Changed from char[] to char[][] to reflect the changes in 
	gnu/java/lang/CharData.  There is now one char[] per Unicode code
	plane.
	(data): Likewise.
	(numValue): Likewise.
	(upper): Likewise.
	(lower): Likewise.
	(direction): Likewise.
	(readChar): Replaced this method with new method readCodePoint.
	(readCodePoint): New method.
	(isLowerCase(char)): Redirected to new isLowerCase(int).
	(isLowerCase(int)): New method.
	(isUpperCase(char)): Redirected to new isUpperCase(int).
	(isUpperCase(int)): New method.
	(isTitleCase(char)): Redirected to new isTitleCase(int).
	(isTitleCase(int)): New method.
	(isDigit(char)): Redirected to new isDigit(int).
	(isDigit(int)): New method.
	(isDefined(char)): Redirected to new isDefined(int).
	(isDefined(int)): New method.
	(isLetter(char)): Redirected to new isLetter(int).
	(isLetter(int)): New method.
	(isLetterOrDigit(char)): Redirected to new isLetterOrDigit(int).
	(isLetterOrDigit(int)): New method.
	(isJavaIdentifierStart(char)): Redirected to new 
	isJavaIdentifierStart(int).
	(isJavaIdentifierStart(int)): New method.
	(isJavaIdentifierPart(char)): Redirected to new 
	isJavaIdentifierPart(int).
	(isJavaIdentifierPart(int)): New method.
	(isUnicodeIdentifierStart(char)): Redirected to new
	isUnicodeIdentifierStart(int).
	(isUnicodeIdentifierStart(int)): New method.
	(isUnicodeIdentifierPart(char)): Redirected to new 
	isUnicodeIdentifierPart(int).
	(isUnicodeIdentifierPart(int)): New method.
	(isIdentifierIgnorable(char)): Redirected to new
	isIdentifierIgnorable(int).
	(isIdentifierIgnorable(int)): New method.
	(toLowerCase(char)): Changed access to lower to correspond with new
	char[][] type of lower.
	(toLowerCase(int)) New method.
	(toUpperCase(char)): Changed access to upper to correspond with new
	char[][] type of upper.
	(toUpperCase(int)): New method.
	(toTitleCase(int)): New method.
	(digit(char, int)): Replaced call to readChar with call to 
	readCodePoint and changed access to numValue to reflect new char[][]
	type of numValue. 
	(digit(int, int)): New method.
	(getNumericValue(char)): Changed access to numValue to reflect new
	char[][] type of numValue.
	(getNumericValue(int)): New method.
	(isSpaceChar(char)): Redirected to new isSpaceChar(int).
	(isSpaceChar(int)): New method.
	(isWhitespace(char)): Redirected to new isWhitespace(int).
	(isWhitespace(int)): New method.
	(isISOControl(char)): Redirected to new isISOControl(int).
	(isISOControl(int)): New method.
	(getType(char)): Redirected to new getType(int).
	(getType(int)): New method.
	(getDirectionality(char)): Redirected to new getDirectionality(int).
	(getDirectionality(int)): New method.
	(isMirrored(char)): Changed call to readChar to readCodePoint.
	(isMirrored(int)): New method.
	* java/lang/String.java:
	(upperCaseExpansion): Changed access to Character.direction to reflect
	new char[][] type of direction.
	(offsetByCodePoints): New method.
	* scripts/unicode-muncher.pl: Adapted this script to handle Unicode 
	4.0.0 which introduced supplementary character assignments.  

2006-02-15  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java,
	javax/swing/plaf/basic/BasicTableHeaderUI.java,
	javax/swing/table/DefaultTableModel.java: Documented.

2006-02-15  Lillian Angel  <langel@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c:
	Removed duplicate methods.

2006-02-15  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (distributeSpillResizing): New method.
	(doLayout): Use distributeSpillResizing when resizing.
	* javax/swing/plaf/basic/BasicTableHeaderUI.java (MouseInputHandler):
	Rewritten. (installListeners): Add mouse motion listener. 
	(uninstallListeners): Remove mouse motion listener. 

2006-02-15  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkDialogPeer.java
	(setVisible): Removed method.
	* gnu/java/awt/peer/gtk/GtkWindowPeer.java
	(setLocation): New method.
	(setLocationUnlocked): New method.
	(show): Changed to use setLocation instead of setBounds.
	* java/awt/Component.java
	(show): Should call peer.show(), not peer.setVisible(), so the
	location of the component is correctly set.
	(preferredSize): Added curly braces so else statements are
	properly associated with if's.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkWindowPeer_nativeSetLocation): 
	New function.
	(Java_gnu_java_awt_peer_gtk_GtkWindowPeer_nativeSet
	LocationUnlocked): New function.
	* include/gnu_java_awt_peer_gtk_GtkWindowPeer.h:
	Added declarations for Java_gnu_java_awt_peer_gtk_
	GtkWindowPeer_nativeSetLocation and 
	Java_gnu_java_awt_peer_gtk_GtkWindowPeer
	_nativeSetLocationUnlocked.

2006-02-15  Mark Wielaard  <mark@klomp.org>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer_create):
	Downcast gtk_plug_new result when used.

2006-02-15  Olivier Jolly  <olivier.jolly@pcedev.com>

	* java/io/ObjectOutputStream.java (writeClassDescriptor):
	Call assignNewHandle() after writing Proxy class.

2006-02-15  Olivier jolly  <olivier.jolly@pcedev.com>

	Fixes bug #14144
	* java/io/ObjectInputStream.java (readClassDescriptor):
	Class doesn't have to be abstract for first_nonserial.

2006-02-15  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JInternalFrame.java
	(setClosed): Call dispose to actually make the frame invisible
	and unselected.

2006-02-15  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JInternalFrame.java
	(dispose): Call setVisible(false) instead of hide.
	(doDefaultCloseOperation): Likewise.

2006-02-15  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JComponent.java
	(paintChildren): Also check for the visibility of a child component
	to avoid artifacts.
	(repaint): Simply add this component to the RepaintManager rather than
	trying to do useless optimization here.

2006-02-15  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/JSpinner.java
	(DefaultEditor.DefaultEditor(JSpinner)): Add self to text field as a 
	PropertyChangeListener,
	(DefaultEditor.getSpinner): Updated API docs,
	(DefaultEditor.dismiss): Likewise,
	(DefaultEditor.getTextField): Likewise,
	(DefaultEditor.layoutContainer): Likewise,
	(DefaultEditor.minimumLayoutSize): Likewise,
	(DefaultEditor.preferredLayoutSize): Likewise,
	(DefaultEditor.propertyChange): Implemented,
	(DefaultEditor.stateChanged): Implemented,
	(DefaultEditor.removeLayoutComponent): Updated API docs,
	(DefaultEditor.addLayoutComponent): Likewise,
	(NumberEditor.NumberEditor(JSpinner)): Set formatter for text field,
	(NumberEditor.NumberEditor(JSpinner, String)): Likewise,
	(NumberEditor.getFormat): Implemented,
	(NumberEditor.getModel): Updated API docs,
	(NumberEditorFormatter): New static inner class,
	(ListEditor.getModel): Updated API docs,
	(DateEditor.dateFormat): Removed,
	(DateEditor.DateEditor(JSpinner)): Set formatter for text field,
	(DateEditor.DateEditor(JSpinner, String)): Likewise,
	(DateEditor.init): Removed,
	(DateEditor.getFormat): Reimplemented,
	(DateEditorFormatter): New static inner class,
	(ModelListener): New inner class,
	(model): Updated API docs,
	(editor): Likewise,
	(listener): Removed,
	(JSpinner()): Updated API docs,
	(JSpinner(SpinnerModel)): Set up ModelListener,
	(setEditor): Fire property change,
	(getModel): Updated API docs,
	(setModel): Removed check for null editor,
	(setValue): Updated API docs,
	(getUIClassID): Updated API docs,
	(createEditor): Handle SpinnerListModel case,
	* javax/swing/plaf/basic/BasicSpinnerUI.java
	(createUI): Updated API docs,
	(createPropertyChangeListener): Added FIXME,
	(installDefaults): Set text field border to null,
	(DefaultLayoutManager): Updated API docs,
	(DefaultLayoutManager.layoutContainer): Modified layout,
	(DefaultLayoutManager.minimumLayoutSize): Ignore button heights,
	(DefaultLayoutManager.preferredLayoutSize): Likewise,
	(DefaultLayoutManager.removeLayoutComponent): Removed tabs,
	(DefaultLayoutManager.addLayoutComponent): Likewise,
	(DefaultLayoutManager.minSize): Renamed prefSize,
	(DefaultLayoutManager.setBounds): Reformatted,
	(DefaultLayoutManager.editor): Added API docs,
	(DefaultLayoutManager.next): Likewise,
	(DefaultLayoutManager.previous): Likewise,
	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added entry for 'Spinner.border',
	* examples/gnu/classpath/examples/swing/SpinnerDemo.java: New file.

2006-02-15  Chris Burdess  <dog@gnu.org>

	* gnu/xml/validation/datatype/BooleanType.java,
	  gnu/xml/validation/datatype/ByteType.java,
	  gnu/xml/validation/datatype/DateTimeType.java,
	  gnu/xml/validation/datatype/DateType.java,
	  gnu/xml/validation/datatype/DecimalType.java,
	  gnu/xml/validation/datatype/DoubleType.java,
	  gnu/xml/validation/datatype/DurationType.java,
	  gnu/xml/validation/datatype/FloatType.java,
	  gnu/xml/validation/datatype/GDayType.java,
	  gnu/xml/validation/datatype/GMonthDayType.java,
	  gnu/xml/validation/datatype/GMonthType.java,
	  gnu/xml/validation/datatype/GYearMonthType.java,
	  gnu/xml/validation/datatype/GYearType.java,
	  gnu/xml/validation/datatype/IntType.java,
	  gnu/xml/validation/datatype/IntegerType.java,
	  gnu/xml/validation/datatype/LongType.java,
	  gnu/xml/validation/datatype/MaxExclusiveFacet.java,
	  gnu/xml/validation/datatype/MaxInclusiveFacet.java,
	  gnu/xml/validation/datatype/MinExclusiveFacet.java,
	  gnu/xml/validation/datatype/MinInclusiveFacet.java,
	  gnu/xml/validation/datatype/NegativeIntegerType.java,
	  gnu/xml/validation/datatype/NonNegativeIntegerType.java,
	  gnu/xml/validation/datatype/NonPositiveIntegerType.java,
	  gnu/xml/validation/datatype/PositiveIntegerType.java,
	  gnu/xml/validation/datatype/ShortType.java,
	  gnu/xml/validation/datatype/SimpleType.java,
	  gnu/xml/validation/datatype/TimeType.java,
	  gnu/xml/validation/datatype/TypeBuilder.java,
	  gnu/xml/validation/datatype/UnsignedByteType.java,
	  gnu/xml/validation/datatype/UnsignedIntType.java,
	  gnu/xml/validation/datatype/UnsignedLongType.java,
	  gnu/xml/validation/datatype/UnsignedShortType.java: Provide value
	  objects for datatypes. Make maxExclusive,minExclusive,maxInclusive,
	  minInclusive facets use the value space of the base type, and
	  implement.

2006-02-15  Mark Wielaard  <mark@klomp.org>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer_create):
	gtk_plug_new() returns a GtkWindow.

2006-02-15  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/SpinnerNumberModel.java
	(getNextValue): Check for null maximum,
	(getPreviousValue): Check for null minimum.

2006-02-15  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTableUI.java
	(paint): Paint vertical and horizontal lines one pixel shifted
	left/top.

2006-02-15  Jeroen Frijters  <jeroen@frijters.net>

	* java/util/zip/ZipFile.java
	(checkZipFile): Inlined readLeInt and rewritten for robustness.
	(readLeShort(DataInput,byte[]), readLeInt(DataInput,byte[],
	readLeShort(byte[],int), readLeInt(byte[],int)): Removed.
	(readEntries): Rewritten to use PartialInputStream.
	(locBuf, checkLocalHeader): Removed.
	(getInputStream): Rewritten to use new PartialInputStream.
	(PartialInputStream): Rewritten to do buffering.

2006-02-15  Michael Koch  <konqueror@gmx.de>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer_create):
	Make sure the embedded window gets no decorations.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
	(window_get_frame_extents): Return early of the window has no
	decorations.

2006-02-15  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* examples/gnu/classpath/examples/swing/TableDemo.java
	(TModel, createContent): Explain which value appears in the header.
	* javax/swing/JTable.java (setColumnModel): Only set the
	column header value if the getHeaderValue() returns null.

2006-02-14  Mark Wielaard  <mark@klomp.org>

	Fixes bug #23931
	* gnu/java/awt/peer/gtk/GtkImage.java (errorImage): New static field.
	(getErrorImage): New static method.
	* gnu/java/awt/peer/gtk/GtkToolkit.java (GtkErrorImage): Removed.
	(bufferedImageOrError): Renamed to ...
	(imageOrError): Renamed from bufferedImageOrError, takes Image.
	Returns GtkImage.getErrorImage() when argument null.
	(createImage(String)): Always use imageOrError.
	(createImage(URL)): Likewise.
	(createImage(ImageProducer)): Likewise.
	(createImage(byte[],int,int)): Likewise.

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicCheckBoxMenuItemUI.java: Removed
	unneeded imports.
	* javax/swing/plaf/basic/BasicInternalFrameUI.java: Likewise.
	* javax/swing/plaf/basic/BasicRadioButtonMenuItemUI.java: Likewise.
	* javax/swing/plaf/basic/BasicRootPaneUI.java: Likewise.
	* javax/swing/plaf/basic/BasicSplitPaneDivider.java: Likewise.
	* javax/swing/plaf/basic/BasicHTML.java: Fixed API comment.

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AsyncBoxView.java
	(ChildState.locator): Removed wrong field.
	(ChildState): Removed initialization of removed field.
	(locator): Changed access modifier to be protected as specified.

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ToolTipManager.java: Removed unneeded imports.
	* javax/swing/Timer.java: Some small reindention.
	(task): Made package private to avoid synthetic accessor method.

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/SwingUtilities.java
	(layoutCompoundLabel): Dont set textIconGap to 0 when there is
	no icon.

2006-02-14  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* examples/gnu/classpath/examples/swing/TableDemo.java:
	Making the columns variable width.
	* javax/swing/JTable.java (distributeSpill, doLayout):
	  Call getPreferredSize and not getSize().

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/DefaultCellEditor.java
	(DefaultCellEditor): API doc fixlet.

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JViewport.java
	(isPaintRoot): New field.
	(repaint): Only call super here. Also added a comment regarding
	the diversion from the JDK.
	(paintBlit): Implemented real blitting.
	(paintImmediately2): New method. Overrides the same package private
	method in JComponent.

2006-02-14  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTableUI.java
	(paint): Check for boundary cases when determining the painting
	area.

2006-02-14  Mark Wielaard  <mark@klomp.org>

	* java/awt/Menu.java (add): Always set parent of item to this. Call
	addNotify() on item when we have a MenuPeer already.
	(insert): Always adjust parent for item. Call addNotify() on item if
	we already have a peer.
	(remove(int)): Always clear item parent. Call removeNotify() on item
	if we had a peer.

2006-02-14  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (rowAtPoint): Return -1 if the computed 
	row == getRowCount().

2006-02-14  Lillian Angel  <langel@redhat.com>
	
	* gnu/java/awt/peer/gtk/GtkDialogPeer.java
	(setVisible): New method to override super. Need to set the
	native bounds of the component, so it appears at the
	correct location.

2006-02-14  Mark Wielaard  <mark@klomp.org>

	* java/awt/Frame.java (setMenuBar): Update MenuBar parent.
	(remove): If menu component is the current MenuBar remove it,
	otherwise call super.remove().
	* java/awt/MenuBar.java (frame): Remove field.
	* java/awt/MenuComponent.java (postEvent): Use getParent() always.

2006-02-14  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* tools/gnu/classpath/tools/giop/NameServicePersistent.java: Refer
	to NameServicePersistent.
	* tools/gnu/classpath/tools/giop/NameServicePersistent.txt: New file.
	* tools/gnu/classpath/tools/giop/NamingServicePersistent.txt: Deleted.

2006-02-14  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* NEWS: Updated tool status.
	* gnu/CORBA/NamingService/NamingMap.java (Map): Made protected.
	(constructor, bind, rebind): Rewritten.  
	* gnu/CORBA/NamingService/TransientContext.java: Rewritten.
	* tools/gnu/classpath/tools/giop/README: Updated.
	* tools/gnu/classpath/tools/giop/NameServicePersistent.java,
	tools/gnu/classpath/tools/giop/NamingServicePersistent.txt,
	tools/gnu/classpath/tools/giop/nameservice/PersistentContext.java,
	tools/gnu/classpath/tools/giop/nameservice/PersistentContextMap.java,
	tools/gnu/classpath/tools/giop/nameservice/PersistentMap.java: 
	New files.

2006-02-14  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/JComponent.java
	(getListeners): Check for PropertyChangeListener.class and delegate to 
	getPropertyChangeListeners() for that case.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTableUI.java
	(paint): Determine the cells that need painting based on the
	current clip. Use getCellRect() for calculating the cell
	bounds.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTable.java
	(rectCache): New field.
	(getCellRect): Returns cached Rectangle instance.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(removeAll): New method. Avoid potential memory leak.
	(isOptimizedDrawingEnabled): Replaced heuristic with accurate
	calculation.

2006-02-14  Stuart Ballard  <stuart.a.ballard@gmail.com>

	* javax/swing/undo/StateEdit.java (RCSID): Match Sun's value.
	* javax/swing/undo/StateEditable.java (RCSID): Likewise.

2006-02-13  Tom Tromey  <tromey@redhat.com>

	* vm/reference/java/lang/reflect/Method.java: Javadoc fix.
	* vm/reference/java/lang/reflect/Constructor.java: Javadoc fix.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(offscreenBuffers): New field.
	(doubleBuffer): Removed field.
	(repaintUnderway): New field.
	(commitRequests): New field.
	(RepaintManager): Initialize new fields.
	(paintDirtyRegions): Handle repaintUnderway flag. Commit
	buffers when done.
	(getOffscreenBuffer): Returns the offscreen buffer for the
	corresponding root component.
	(commitBuffer): New method.
	(commitRemainingBuffers): New method.
	* javax/swing/JComponent.java
	(paint): Call paintDoubleBuffered with the current clip.
	(paintImmediately2): Don't paint on screen here.
	(paintDoubleBuffered): Rewritten for real double buffering.
	(paintSimple): Draw to screen in this method.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JRootPane.java
	(JRootPane): Set opaque property to true.

2006-02-13  Tom Tromey  <tromey@redhat.com>

	* .classpath: Updated for external/relaxngDatatype.

2006-02-13  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/UnicodeReader.java,
	  gnu/xml/validation/datatype/Annotation.java,
	  gnu/xml/validation/datatype/AnySimpleType.java,
	  gnu/xml/validation/datatype/AnyType.java,
	  gnu/xml/validation/datatype/AnyURIType.java,
	  gnu/xml/validation/datatype/AtomicSimpleType.java,
	  gnu/xml/validation/datatype/Base64BinaryType.java,
	  gnu/xml/validation/datatype/BooleanType.java,
	  gnu/xml/validation/datatype/ByteType.java,
	  gnu/xml/validation/datatype/DateTimeType.java,
	  gnu/xml/validation/datatype/DateType.java,
	  gnu/xml/validation/datatype/DecimalType.java,
	  gnu/xml/validation/datatype/DoubleType.java,
	  gnu/xml/validation/datatype/DurationType.java,
	  gnu/xml/validation/datatype/EntitiesType.java,
	  gnu/xml/validation/datatype/EntityType.java,
	  gnu/xml/validation/datatype/EnumerationFacet.java,
	  gnu/xml/validation/datatype/Facet.java,
	  gnu/xml/validation/datatype/FloatType.java,
	  gnu/xml/validation/datatype/FractionDigitsFacet.java,
	  gnu/xml/validation/datatype/GDayType.java,
	  gnu/xml/validation/datatype/GMonthDayType.java,
	  gnu/xml/validation/datatype/GMonthType.java,
	  gnu/xml/validation/datatype/GYearMonthType.java,
	  gnu/xml/validation/datatype/GYearType.java,
	  gnu/xml/validation/datatype/HexBinaryType.java,
	  gnu/xml/validation/datatype/IDRefType.java,
	  gnu/xml/validation/datatype/IDRefsType.java,
	  gnu/xml/validation/datatype/IDType.java,
	  gnu/xml/validation/datatype/IntType.java,
	  gnu/xml/validation/datatype/IntegerType.java,
	  gnu/xml/validation/datatype/LanguageType.java,
	  gnu/xml/validation/datatype/LengthFacet.java,
	  gnu/xml/validation/datatype/ListSimpleType.java,
	  gnu/xml/validation/datatype/LongType.java,
	  gnu/xml/validation/datatype/MaxExclusiveFacet.java,
	  gnu/xml/validation/datatype/MaxInclusiveFacet.java,
	  gnu/xml/validation/datatype/MaxLengthFacet.java,
	  gnu/xml/validation/datatype/MinExclusiveFacet.java,
	  gnu/xml/validation/datatype/MinInclusiveFacet.java,
	  gnu/xml/validation/datatype/MinLengthFacet.java,
	  gnu/xml/validation/datatype/NCNameType.java,
	  gnu/xml/validation/datatype/NMTokenType.java,
	  gnu/xml/validation/datatype/NMTokensType.java,
	  gnu/xml/validation/datatype/NameType.java,
	  gnu/xml/validation/datatype/NegativeIntegerType.java,
	  gnu/xml/validation/datatype/NonNegativeIntegerType.java,
	  gnu/xml/validation/datatype/NonPositiveIntegerType.java,
	  gnu/xml/validation/datatype/NormalizedStringType.java,
	  gnu/xml/validation/datatype/NotationType.java,
	  gnu/xml/validation/datatype/PatternFacet.java,
	  gnu/xml/validation/datatype/PositiveIntegerType.java,
	  gnu/xml/validation/datatype/QNameType.java,
	  gnu/xml/validation/datatype/ShortType.java,
	  gnu/xml/validation/datatype/SimpleType.java,
	  gnu/xml/validation/datatype/StringType.java,
	  gnu/xml/validation/datatype/TimeType.java,
	  gnu/xml/validation/datatype/TokenType.java,
	  gnu/xml/validation/datatype/TotalDigitsFacet.java,
	  gnu/xml/validation/datatype/Type.java,
	  gnu/xml/validation/datatype/TypeBuilder.java,
	  gnu/xml/validation/datatype/TypeLibrary.java,
	  gnu/xml/validation/datatype/TypeLibraryFactory.java,
	  gnu/xml/validation/datatype/UnionSimpleType.java,
	  gnu/xml/validation/datatype/UnsignedByteType.java,
	  gnu/xml/validation/datatype/UnsignedIntType.java,
	  gnu/xml/validation/datatype/UnsignedLongType.java,
	  gnu/xml/validation/datatype/UnsignedShortType.java,
	  gnu/xml/validation/datatype/WhiteSpaceFacet.java,
	  resource/META-INF/services/org.relaxng.datatype.DatatypeLibraryFactory:
	  RELAX NG datatype library implementation for XML Schema Datatypes.

2006-02-13  Chris Burdess  <dog@gnu.org>

	* LICENCE,
	  NEWS,
	  configure.ac,
	  doc/README.jaxp,
	  external/Makefile.am,
	  external/relaxngDatatype/.cvsignore,
	  external/relaxngDatatype/Makefile.am,
	  external/relaxngDatatype/README.txt,
	  external/relaxngDatatype/copying.txt,
	  external/relaxngDatatype/org/relaxng/datatype/Datatype.java,
	  external/relaxngDatatype/org/relaxng/datatype/DatatypeBuilder.java,
	  external/relaxngDatatype/org/relaxng/datatype/DatatypeException.java,
	  external/relaxngDatatype/org/relaxng/datatype/DatatypeLibrary.java,
	  external/relaxngDatatype/org/relaxng/datatype/DatatypeLibraryFactory.java,
	  external/relaxngDatatype/org/relaxng/datatype/DatatypeStreamingValidator.java,
	  external/relaxngDatatype/org/relaxng/datatype/ValidationContext.java,
	  external/relaxngDatatype/org/relaxng/datatype/helpers/DatatypeLibraryLoader.java,
	  external/relaxngDatatype/org/relaxng/datatype/helpers/ParameterlessDatatypeBuilder.java,
	  external/relaxngDatatype/org/relaxng/datatype/helpers/StreamingValidatorImpl.java,
	  lib/Makefile.am,
	  lib/gen-classlist.sh.in: Added external RELAX NG pluggable
	  datatypes library API.

2006-02-13  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GtkGenericPeer.java (awtWidget): Made field
	final.
	(gtkWidgetModifyFont(Font)): New protected helper method.
	(gtkWidgetModifyFont(String,int,int)): Made protected and document.
	* gnu/java/awt/peer/gtk/GtkButtonPeer.java (gtkWidgetModifyFont): Made
	protected and document.
	* gnu/java/awt/peer/gtk/GtkCheckboxPeer.java (gtkWidgetModifyFont):
	Likewise.
	* gnu/java/awt/peer/gtk/GtkLabelPeer.java (gtkWidgetModifyFont):
	Likewise.
	* gnu/java/awt/peer/gtk/GtkListPeer.java (gtkWidgetModifyFont):
	Likewise.
	* gnu/java/awt/peer/gtk/GtkMenuBarPeer.java (create): Made protected.
	(setFont): Removed method. Done in GtkMenuComponent.
	* gnu/java/awt/peer/gtk/GtkMenuComponentPeer.java (create): Made
	abstract and protected.
	(setFont): Made private, add implementation.
	(setFont(Font)): Implemented.
	* gnu/java/awt/peer/gtk/GtkMenuItemPeer.java (gtkWidgetModifyFont):
	Made protected and document.
	(create): Made protected.
	(setFont): Removed method. Done in GtkMenuComponent.
	* gnu/java/awt/peer/gtk/GtkTextAreaPeer.java
	(gtkWidgetModifyFont): Made protected and document.
	* gnu/java/awt/peer/gtk/GtkTextFieldPeer.java (gtkWidgetModifyFont):
	Removed, similar to GtkGenericPeer super class implementation.
	* include/gnu_java_awt_peer_gtk_GtkTextFieldPeer.h: Regenerated.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkTextFieldPeer_gtkWidgetModifyFont):
	Removed.

2006-02-13  Mark Wielaard  <mark@klomp.org>

	* java/lang/Math.java (static): Explicitly call
	System.loadLibrary("javalang").

2006-02-13  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/StreamPrintServiceFactory.java: New file.

2006-02-13  Tom Tromey  <tromey@redhat.com>

	* tools/.cvsignore: Added Makefile.

2006-02-13  Wolfgang Baer  <WBaer@gmx.de>

	* java/awt/print/PrinterGraphics.java: Reformatted.
	* java/awt/print/Paper.java: Likewise.
	* java/awt/print/PageFormat.java: Likewise.
	* java/awt/print/Pageable.java: Likewise.

2006-02-13  Lillian Angel  <langel@redhat.com>

	* java/awt/BorderLayout.java
	(layoutContainer): Rewrote part of this function to 
	properly set the bounds of the components.
	(setBounds): Removed method, not needed.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.clone): Fixed replace call.
	(clone): Removed method.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* java/rmi/server/UnicastRemoteObject.java: Reformatted.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* java/rmi/server/UnicastRemoteObject.java
	(exportObject(Remote)): Forward method call to export(Remote,int).

2006-02-13  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* include/Makefile.am:
	Swapped Math.h for VMMath.h
	* include/java_lang_Math.h:
	Removed.
	* include/java_lang_VMMath.h:
	New autogenerated header for the new class.
	* java/lang/Math.java:
	(sin(double)): Changed to link to VMMath.
	(cos(double)): Changed to link to VMMath.
	(tan(double)): Changed to link to VMMath.
	(asin(double)): Changed to link to VMMath.
	(acos(double)): Changed to link to VMMath.
	(atan(double)): Changed to link to VMMath.
	(atan2(double)): Changed to link to VMMath.
	(exp(double)): Changed to link to VMMath.
	(log(double)): Changed to link to VMMath.
	(sqrt(double)): Changed to link to VMMath.
	(pow(double,double)): Changed to link to VMMath.
	(IEEEremainder(double,double)): Changed to link to VMMath.
	(ceil(double)): Changed to link to VMMath.
	(floor(double)): Changed to link to VMMath.
	(rint(double)): Changed to link to VMMath.
	* native/jni/java-lang/Makefile.am:
	Replaced java_lang_Math.c with java_lang_VMMath.c
	* native/jni/java-lang/java_lang_Math.c:
	Removed.
	* native/jni/java-lang/java_lang_VMMath.c:
	Renamed from java_lang_Math.c.
	* vm/reference/java/lang/VMMath.java:
	New class.
	(sin(double)): New native method.
	(cos(double)): New native method.
	(tan(double)): New native method.
	(asin(double)): New native method.
	(acos(double)): New native method.
	(atan(double)): New native method.
	(atan2(double)): New native method.
	(exp(double)): New native method.
	(log(double)): New native method.
	(sqrt(double)): New native method.
	(pow(double,double)): New native method.
	(IEEEremainder(double,double)): New native method.
	(ceil(double)): New native method.
	(floor(double)): New native method.
	(rint(double)): New native method.
	
2006-02-13  Lillian Angel  <langel@redhat.com>

	* java/awt/Component.java
	(repaint): No need to call isShowing, it is done in the other repaint call.
	(repaint): Likewise.
	(repaint): Likewise.

2006-02-13  Lillian Angel  <langel@redhat.com>

	* java/awt/Component.java
	(repaint): Reverted last change.
	(repaint): Likewise.
	(repaint): Likewise.

2006-02-13  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkPanelPeer.java
	(handleEvent): Made more efficent by handling paint event and
	setting the clip for the graphics.
	* gnu/java/awt/peer/gtk/GtkWindowPeer.java
	(handleEvent): Likewise.
	* java/awt/Component.java
	(repaint): No need to call isShowing, it is done in the other repaint call.
	(repaint): Likewise.
	(repaint): Likewise.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(setParent): Added API docs. Call setParent(null) on children before
	disconnecting this view from the View hierarchy.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(readUnlock): Don't attempt to unlock when the current threads also
	holds a write lock.

2006-02-13  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/plaf/metal/MetalBorders.java
	(ButtonBorder.getBorderInsets(Component)): Return insets directly,
	(ButtonBorder.getBorderInsets(Component, Insets)): Don't check for null
	insets argument,
	(Flush3DBorder.borderInsets): New field,
	(Flush3DBorder.getBorderInsets(Component)): Return insets directly,
	(Flush3DBorder.getBorderInsets(Component, Insets)): Don't check for 
	null insets argument, and populate result from borderInsets,
	(PaletteBorder.borderInsets): New field,
	(PaletteBorder.getBorderInsets(Component)): Return insets directly,
	(PaletteBorder.getBorderInsets(Component, Insets)): Don't check for 
	null insets argument, and populate result from borderInsets,
	(InternalFrameBorder.borderInsets): New field,
	(InternalFrameBorder.getBorderInsets(Component)): Return insets 
	directly,
	(InternalFrameBorder.getBorderInsets(Component, Insets)): Don't check 
	for null insets argument, and populate result from borderInsets,
	(MenuItemBorder.borderInsets): Initialise to correct value.

2006-02-13  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AsyncBoxView.java: New file.

2006-02-13  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #26166
	* gnu/regexp/RE.java(initialize): Parsing of character class expression
	was moved to a new method parseCharClass.
	(parseCharClass): New method originally in initialize. Added parsing
	of nested character classes.
	(ParseCharClassResult): New inner class used as a return value of
	parseCharClass.
	(getCharExpression),(getNamedProperty): Made static.
	* gnu/regexp/RESyntax.java(RE_NESTED_CHARCLASS): New syntax flag.
	* gnu/regexp/RETokenOneOf.java(addition): New Vector for storing
	nested character classes.
	(RETokenOneOf): New constructor accepting the Vector addition.
	(getMinimumLength), (getMaximumLength): Returns 1 if the token
	stands for only one character.
	(match): Added the processing of the Vector addition.
	(matchN), (matchP): Do not check next token if addition is used.

2006-02-12  Olivier Jolly <olivier.jolly@pcedev.com>

	* AUTHORS: add self.

2006-02-12  Tom Tromey  <tromey@redhat.com>

	* gnu/classpath/ServiceProviderLoadingAction.java: Javadoc fix.
	* gnu/classpath/ServiceFactory.java (ServiceIterator): Javadoc fix.
	(securityContext): Likewise.
	(log): Likewise.

2006-02-12  Dalibor Topic  <robilad@kaffe.org>

	Fixes PR 26218.

	* gnu/java/net/protocol/file/Connection.java (unquote):
	Convert Unicode characters outside basic plane to UTF-8,
	rather than throwing an exception.

2006-02-12  Tom Tromey  <tromey@redhat.com>

	* javax/sound/sampled/LineEvent.java (readObject): New method.
	(writeObject): Likewise.
	(serialVersionUID): New field.

2006-02-12  Mark Wielaard  <mark@klomp.org>

	* java/beans/PropertyChangeSupport.java (addPropertyChangeListener):
	Silently ignores null listener.
	(addPropertyChangeListener(String, PropertyChangeListener): Likewise.
	(getPropertyChangeListeners): Returns empty PropertyChangeListener
	array for null propertyName.

2006-02-12  Wolfgang Baer  <WBaer@gmx.de>

	* java/rmi/MarshalledObject.java: Added api docs to the class.
	* java/rmi/Remote.java: Added interface api docs.
	* java/rmi/package.html: Added package description.
	* java/rmi/AccessException.java: Minor api doc fixes.
	* java/rmi/NoSuchObjectException.java: Likewise.
	* java/rmi/AlreadyBoundException.java: Likewise.
	* java/rmi/RemoteException.java: Likewise.
	* java/rmi/NotBoundException.java: Likewise.
	* java/rmi/RMISecurityException.java: Likewise.
	* java/rmi/StubNotFoundException.java: Likewise.	

2006-02-12  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java (postKeyEvent): Call
	q() to get EventQueue.
	* gnu/java/awt/peer/gtk/GtkGenericPeer.java (q): Remove static field.
	(enableQueue): Remove static method.
	* gnu/java/awt/peer/gtk/GtkToolkit.java (getSystemEventQueueImpl):
	Don't call GtkGenericPeer.enableQueue().

2006-02-12  Wolfgang Baer  <WBaer@gmx.de>

	* java/rmi/MarshalledObject.java: Reformatted.
	* java/rmi/Naming.java: Likewise.	

2006-02-12  Jeroen Frijters  <jeroen@frijters.net>

	* java/io/InputStream.java
	(read(byte[],int,int)): Changed argument validation to prevent
	integer overflow. Remove redundant check.

2006-02-12  Jeroen Frijters  <jeroen@frijters.net>

	Fixes PR 26220
	* java/io/InputStreamReader.java
	(InputStreamReader(InputStream)): Use SystemProperties.
	(InputStreamReader(InputStream,Charset)): Corrected @since tag.
	Throw NullPointerException if in is null.
	Added maxBytesPerChar initialisation.
	(InputStreamReader(InputStream,CharsetDecoder)): Corrected @since tag.
	Throw NullPointerException if in is null.

2006-02-12  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/key/dh/GnuDHPublicKey.java
	(GnuDHPublicKey(4)): Call constructor with 5 arguments.
	(GnuDHPublicKey): New constructor.
	(getEncoded): Removed.
	(valueOf): Added support for ASN.1 encoding.
	(getEncoded(int)): Likewise.
	(equals): New method.
	* gnu/javax/crypto/key/dh/GnuDHPrivateKey.java
	(GnuDHPrivateKey(4)): Call constructor with 5 arguments.
	(GnuDHPrivateKey(5)): New constructor.
	(getEncoded): Removed.
	(valueOf): Added support for ASN.1 encoding.
	(getEncoded(int)): Likewise.
	(equals): New method.
	* gnu/javax/crypto/key/dh/GnuDHKeyPairGenerator.java
	(PREFERRED_ENCODING_FORMAT): New constant.
	(DEFAULT_ENCODING_FORMAT): Likewise.
	(preferredFormat): New field.
	(setup): Handle preferred encoding format identifier.
	(generate): Call constructors with format identifier.
	* gnu/javax/crypto/key/dh/GnuDHKey.java (defaultFormat): New field.
	(GnuDHKey): Added an int argument.
	(getEncoded): New method.
	(getFormat): New implementation.
	(getEncoded(int)): New abstract method.
	* gnu/javax/crypto/key/dh/DHKeyPairX509Codec.java: New file.
	* gnu/javax/crypto/key/dh/DHKeyPairPKCS8Codec.java: Likewise.
	* gnu/javax/crypto/jce/GnuCrypto.java (run): Added mappings for DH
	key-pair generator and key-factory.
	* gnu/javax/crypto/jce/sig/DHKeyPairGeneratorSpi.java: New file.
	* gnu/javax/crypto/jce/sig/DHKeyFactory.java: Likewise.
	* gnu/java/security/jce/sig/KeyPairGeneratorAdapter.java: Made it public.
	* gnu/java/security/jce/sig/EncodedKeyFactory.java
	(invokeConstructor): New method.
	(getConcreteClass): Likewise.
	(getConcreteCtor): Likewise.
	(invokeValueOf): Likewise.
	(getValueOfMethod): Likewise.
	(engineGeneratePublic): Add support for DH keys.
	(engineGeneratePrivate): Likewise.
	(decodeDHPublicKey(DHPublicKeySpec)): New method.
	(decodeDHPublicKey(byte[])): Likewise.
	(decodeDHPrivateKey(DHPrivateKeySpec)): Likewise.
	(decodeDHPrivateKey(byte[])): Likewise.

2006-02-11  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java (repaintTimer):
	Removed field.
	(repaint): Immediately post to queue when tm <= 0, otherwise call
	RepaintTimerTask.schedule().
	(RepaintTimerTask): Make static.
	(RepaintTimerTask.repaintTimer): New static final field.
	(RepaintTimerTask.awtComponent): New field.
	(schedule): New static method.

2006-02-11  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* tools/gnu/classpath/tools/giop/grmic/GiopRmicCompiler.java
	* tools/gnu/classpath/tools/giop/grmic/MethodGenerator.java
	* tools/gnu/classpath/tools/giop/grmic/templates/Tie.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/TieMethod.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/TieMethodVoid.jav:
	Rewritten.
	* tools/gnu/classpath/tools/giop/grmic/HashFinder.java: New file.

2006-02-11  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/jce/sig/EncodedKeyFactory.java
	(engineGeneratePublic): Added support for raw key-specifications.
	(engineGeneratePrivate): Likewise.
	(decodeDSSPublicKey): New method.
	(decodeRSAPublicKey): Likewise.
	(decodeDSSPrivateKey): Likewise.
	(decodeRSAPrivateKey): Likewise.
	* gnu/java/security/key/rsa/RSAKeyPairX509Codec.java
	(encodePrivateKey): Throw InvalidParameterException.
	(decodePublicKey): Likewise.
	(decodePrivateKey): Likewise.
	* gnu/java/security/key/rsa/RSAKeyPairPKCS8Codec.java
	(encodePublicKey): Likewise.
	(encodePrivateKey): Likewise.
	(decodePublicKey): Likewise.
	* gnu/java/security/key/dss/DSSKeyPairX509Codec.java
	(encodePrivateKey): Likewise.
	(decodePublicKey): Likewise.
	(decodePrivateKey): Likewise.
	* gnu/java/security/key/dss/DSSKeyPairPKCS8Codec.java
	(encodePublicKey): Likewise.
	(encodePrivateKey): Likewise.
	(decodePublicKey): Likewise.

2006-02-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/StyleContext.java
	(registerStaticAttributeKey): New static method.

2006-02-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.clone): New method.

2006-02-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/ParagraphView.java
	(findOffsetToCharactersInString): New method.
	(getClosestPositionTo): New method.
	(getPartialSize): New method.
	(getTabBase): New method.
	(adjustRow): New method.
	(breakView): New method.
	(getBreakWeight): New method.

2006-02-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/GapContent.java
	(updateUndoPositions): New method.
	* javax/swing/text/StringContent.java
	(updateUndoPositions): New method.

2006-02-10  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/key/rsa/GnuRSAPrivateKey.java (GnuRSAPrivateKey(9)):
	Made it public.
	* gnu/java/security/jce/sig/RSAKeyFactory.java: New file.
	* gnu/java/security/jce/sig/DSSKeyFactory.java (engineGeneratePublic):
	Added support for encoded key specifications.
	(engineGeneratePrivate): Likewise.
	(engineGetKeySpec): Likewise.
	(engineTranslateKey): Corrected order of MPIs and use ctors with 5 args.

2006-02-10  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/Utilities.java:
	(getTabbedTextOffset): Fixed usage of variable p0.
	(getPositionAbove): Rewritten.
	(getPositionBelow): Rewritten.

2006-02-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/BoxView.java
	(getAxis): Added @since tag.
	(setAxis): Added @since tag.
	(layoutChanged): Added @since tag.
	(isLayoutValid): Added @since tag.
	(paint): Don't call setSize here. This is done in RootView already.
	(getMaximumSpan): Reimplemented to return the requirements'
	maximum size. Added API docs.
	(getMinimumSpan): New method.
	(layout): Fixed layout order.
	(modelToView): Call layout instead of setSize here.
	(getResizeWeight): New method.
	(getChildAllocation): New method.
	(forwardUpdate): New method.
	(viewToModel): New method.
	(flipEastEndWestEnds): New method.
	* javax/swing/text/CompositeView.java
	(modelToView): Made this method more robust by returning a default
	location if it's not possible to calculate one via the children.
	This default location returns the left or right edge of this
	view.
	(createDefaultLocation): New helper method.
	* javax/swing/text/IconView.java
	(modelToView): Don't throw BadLocationException. This should
	really only be thrown if the position is outside the document
	model, not if it's outside the view's boundary.

2006-02-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* tools/Makefile.am: Handle rmi and giop folders separately.

2006-02-09  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/SpinnerDateModel.java: Updated API docs all over,
	* javax/swing/SpinnerNumberModel.java: Likewise.

2006-02-09  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/SpinnerDateModel.java: Removed tabs,
	* javax/swing/SpinnerNumberModel.java: Likewise.

2006-02-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* doc/unicode/SpecialCasing-4.0.0.txt: New file.
	* doc/unicode/UnicodeData-4.0.0.txt: New file.

2006-02-09  Wolfgang Baer  <WBaer@gmx.de>

	Fixes bug #26081
	* gnu/java/net/protocol/http/HTTPURLConnection.java: 
	(isRedirect): Removed, moved to Response.java.
	(connect): If error condition redirect responseSink to errorSink.
	(getInputStream): If error condition throw IOException, for the error
	codes 404 and 410 throw a FileNotFoundException.	
	* gnu/java/net/protocol/http/Response.java (isError): New method.
	(isRedirect): New method, moved from HTTPURLConnection.java.

2006-02-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* tools/Makefile.am: Add tools/gnu/classpath/tools/rmi folder.
	* tools/gnu/classpath/tools/giop/GRMIC.txt: Explain it called from RMIC.
	* tools/gnu/classpath/tools/giop/grmic/Generator.java (getResource): 
	Better diagnostic.
	* tools/gnu/classpath/tools/giop/grmic/GiopRmicCompiler.java:
	Rewritten.
	* tools/gnu/classpath/tools/giop/grmic/MethodGenerator.java: Implement
	AbstractMethodGenerator.
	* tools/gnu/classpath/tools/AbstractMethodGenerator.java,
	tools/gnu/classpath/tools/rmi/RMIC.java,
	tools/gnu/classpath/tools/rmi/RMIC.txt,
	tools/gnu/classpath/tools/rmi/rmic/RmiMethodGenerator.java,
	tools/gnu/classpath/tools/rmi/rmic/RmicCompiler.java,
	tools/gnu/classpath/tools/rmi/rmic/WrapUnWrapper.java,
	tools/gnu/classpath/tools/rmi/rmic/templates/Stub_12.jav,
	tools/gnu/classpath/tools/rmi/rmic/templates/Stub_12Method.jav,
	tools/gnu/classpath/tools/rmi/rmic/templates/Stub_12MethodVoid.jav: 
	New files.
	* NEWS: Corrected entry about the tools.

2006-02-09  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java
	(handleEvent): Added more to check to prevent assertion errors.
	* gnu/java/awt/peer/gtk/GtkPanelPeer.java
	(handleEvent): Likewise.
	* gnu/java/awt/peer/gtk/GtkWindowPeer.java
	(handleEvent): Likewise.

2006-02-09  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JTable.java (tableChanged): Interpret null event as
	"everything changed".

2006-02-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultCaret.java
	(DocumentHandler.removeUpdate): When update policy is
	'on eventqueue', and the update doesn't come from the
	event queue, check if the current dot location is still
	valid.
	(moveDot): Make sure the new dot location is valid.
	(setDot): Set the mark the same as the dot.

2006-02-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(remove): Perform all operations within a write lock and in the
	correct order.

2006-02-09  Mark Wielaard  <mark@klomp.org>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollbarPeer.c
	(Java_gnu_java_awt_peer_gtk_GtkScrollbarPeer_create): Make sure max is
	creater than min, adjusting page_size if necessary.
	(Java_gnu_java_awt_peer_gtk_GtkScrollbarPeer_setValues): Likewise.

2006-02-09  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkPanelPeer.java
	(handleEvent): Added code to handle PaintEvent.UPDATE.
	Sun does not call update(Graphics g) on Panels.
	* gnu/java/awt/peer/gtk/GtkWindowPeer.java
	(handleEvent): New method. Added code to handle PaintEvent.UPDATE.
	Sun does not call update(Graphics g) on Panels.

2006-02-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/BoxView.java
	(myAxis): Made field private.
	(xLayoutValid): Replaced by layoutValid array.
	(yLayoutValid): Replaced by layoutValid array.
	(layoutValid): New field.
	(spansX): Replaced by spans array.
	(spansY): Replaced by spans array.
	(spans): New field.
	(offsetsX): Replaced by offsets array.
	(offsetsY): Replaced by offsets array.
	(offsets): New field.
	(requirements): New field.
	(BoxView): Initialize new fields.
	(layoutChanged): Rewritten to use the layoutValid array.
	(isLayoutValid): Rewritten to use the layoutValid array.
	(replace): Use the new arrays.
	(getPreferredSpan): Rewritten to call calculateXXXRequirements
	instead of baselineRequirements.
	(baselineRequirements): Rewritten to calculate baseline requirements.
	(baselineLayout): Rewritten to calculate baseline layout.
	(childAllocation): Use new arrays.
	(layout): Rewritten. Only update the layout if necessary.
	(layoutMajorAxis): Directly set layoutValid.
	(layoutMinorAxis): Directly set layoutValid. Use cached size
	requirements.
	(getWidth): Use new span array.
	(getHeight): Likewise.
	(setSize): Rewritten to simply call layout().
	(validateLayout): Removed unneeded method.
	(getSpan): Use new arrays.
	(getOffset): Use new arrays.
	(getAlignment): Use cached requirements if possible.
	(preferenceChanged): Use new arrays.
	* javax/swing/text/FlowView.java
	(FlowStrategy.insertUpdate): Do nothing here.
	(FlowStrategy.removeUpdate): Do nothing here.
	(FlowStrategy.changedUpdate): Do nothing here.
	(FlowStrategy.layoutRow): Rewritten.
	(FlowStrategy.createView): Rewritten.
	(FlowStrategy.adjustRow): New method.
	(LogicalView.getViewIndex): Fixed condition for finding child
	view.
	(layoutDirty): New field indicating the state of the layout.
	(FlowView): Initialize new field.
	(loadChildren): Set parent on logical view so that preferenceChanges
	get propagated upwards.
	(layout): Rewritten to match the specs.
	(insertUpdate): Set layout to dirty.
	(removeUpdate): Set layout to dirty.
	(changedUpdate): Set layout to dirty.
	* javax/swing/text/GlyphView.java
	(getBreakWeight): Rewritten to use the Utilities class. Commented
	out though because that is broken.
	(insertUpdate): Call preferenceChanged on this object instead of
	parent.
	* javax/swing/text/ParagraphView.java
	(Row.loadChildren): Overridden to be a noop to prevent initial
	creation of child views. This is carried out by the flow layout.
	* javax/swing/text/View.java
	(getPreferredSpan): Added API docs.
	(getResizeWeight): Added API docs.
	(getMaximumSpan): Added API docs. Rewritten to only have one exit
	point.
	(getMinimumSpan): Added API docs. Rewritten to return 0 when
	resizable instead of Integer.MAX_VALUE.
	(getAlignment): Added API docs.
	(replace): Added API docs.
	(forwardUpdate): Rewritten to only notify child views that need to
	be notified.

2006-02-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(RootView.paint): Call setSize() before painting the view.

2006-02-09  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #26112
	* gnu/regexp/RE.java(REG_REPLACE_USE_BACKSLASHESCAPE): New execution
	flag which enables backslash escape in a replacement.
	(getReplacement): New public static method. 
	(substituteImpl),(substituteAllImpl): Use getReplacement.
	* gnu/regexp/REMatch.java(substituteInto): Replace $n even if n>=10.
	* java/util/regex/Matcher.java(appendReplacement)
	Use RE#getReplacement.
	(replaceFirst),(replaceAll): Use RE.REG_REPLACE_USE_BACKSLASHESCAPE.

2006-02-09  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/key/rsa/RSAKeyPairX509Codec.java: New file.
	* gnu/java/security/key/rsa/RSAKeyPairPKCS8Codec.java: Likewise.
	* gnu/java/security/key/rsa/RSAKeyPairGenerator.java
	(PREFERRED_ENCODING_FORMAT): New constant.
	(DEFAULT_ENCODING_FORMAT): Likewise.
	(preferredFormat): New field.
	(setup): Add support for preferred encoding format.
	(generate): Call key constructors with explicit format identifier.
	* gnu/java/security/key/rsa/GnuRSAPublicKey.java (GnuRSAPublicKey(2)): 
	Call constructor with 3 arguments..
	(GnuRSAPublicKey(3)): New constructor.
	(valueOf): Added support for ASN.1 format.
	(getEncoded): Likewise.
	* gnu/java/security/key/rsa/GnuRSAPrivateKey.java (GnuRSAPrivateKey(4)):
	Call constructor with 5 arguments.
	(GnuRSAPrivateKey(5)): New constructor.
	(GnuRSAPrivateKey(9)): New constructor.
	(valueOf): Added support for ASN.1 format.
	(getEncoded): Likewise.
	* gnu/java/security/key/rsa/GnuRSAKey.java (defaultFormat): New field.
	(GnuRSAKey): Modified constructor.
	(getFormat): Return preferred format identifier.
	* gnu/java/security/key/dss/DSSKeyPairPKCS8Codec.java
	(decodePrivateKey): Fixed documentation.
	Check Version field.
	* gnu/java/security/jce/sig/RSAKeyPairGeneratorSpi.java
	(initialize(int,SecureRandom)): Set ASN.1 as the preferred encoding
	format.
	(initialize(AlgorithmParameterSpec,SecureRandom)): Likewise.
	* gnu/java/security/jce/sig/EncodedKeyFactory.java
	(engineGeneratePublic): Added support for RSA.
	(engineGeneratePrivate): Likewise.

2006-02-09  Wolfgang Baer  <WBaer@gmx.de>

	* java/net/URLConnection.java:
	(setAllowUserInteraction): Throw IllegalStateException if connected.
	(getRequestProperty): Document return value if key is null.
	* gnu/java/net/protocol/http/HTTPURLConnection.java:
	(getRequestProperty): Return null if key is null.
	(getRequestProperties): Throw IllegalStateException if connected.
	(setRequestProperty): Call super method for exception tests.
	(addRequestProperty): Likewise.

2006-02-09  Wolfgang Baer  <WBaer@gmx.de>

	* gnu/java/net/protocol/http/Request.java:
	(Request): Remove initialization of removed field.
	(requestBodyNegotiationThreshold): Removed now unused field.
	(setRequestBodyNegotiationThreshold): Remove now unused method.
	(dispatch): Do not use 'Expect 100-continue' header if content-length
	is over a treshold. If user specified 'Expect 100-continue' still
	initialize the expectingContinue variable.

2006-02-08  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/SpinnerNumberModel.java
	(SpinnerNumberModel(Number, Comparable, Comparable, Number): Allow 
	maximum and minimum to take null values,
	(setValue): Only fire ChangeEvent if new value is different to old 
	value,
	(setMinimum): Fixed test for updating value,
	(setMaximum): Likewise,
	(setStepSize): Likewise.

2006-02-08  Tom Tromey  <tromey@redhat.com>

	* tools/.cvsignore: Added Makefile.in.

2006-02-08  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* java/rmi/server/RemoteRef.java,
	java/rmi/server/RemoteStub.java: Commented.

2006-02-08  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/SpinnerDateModel.java
	(SpinnerDateModel(Date, Comparable, Comparable, int)): Added argument
	checks,
	(getPreviousValue): Check result against start, not end,
	(setValue): Check that value actually changes before firing 
	ChangeEvent.

2006-02-08  Lillian Angel  <langel@redhat.com>

	* java/awt/Choice.java
	(select): Fixed up code, added some checks to prevent errors.
	(dispatchEventImpl): Removed. This function is not needed. It 
	causes several assertion errors.

2006-02-08  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/PlainView.java
	(drawLine): Call drawUnselectedText() with end offset - 1 to avoid
	drawing unnecessary characters.

2006-02-08  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java
	(handleEvent): Fixed check to determine if height or
	width is less than 1.

2006-02-08  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	*tools/Makefile.am (ALL_TOOLS_FILES): Add $(TOOLS_HELPS).

2006-02-08  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* examples/gnu/classpath/examples/CORBA/swing/x5/_GameManagerImpl_Tie.java,
	examples/gnu/classpath/examples/CORBA/swing/x5/_PlayerImpl_Tie.java:
	Documenting the code generator.
	* gnu/CORBA/IOR.java (toStringFormatted, 
	CodeSet_component.toStringFormatted): New methods.
	* tools/Makefile.am (TOOLS_JAVA_FILES, READMES): Rewritten.
	* tools/gnu/classpath/tools/giop/README: Rewritten.
	* tools/gnu/classpath/tools/giop/GRMIC.java (main): Rewritten. 
	(printHelpAndExit): Removed.
	*tools/gnu/classpath/tools/giop/IorParser.java,
	tools/gnu/classpath/tools/giop/IorParser.txt,
	tools/gnu/classpath/tools/giop/NameService.java,
	tools/gnu/classpath/tools/giop/NamingService.txt,
	tools/gnu/classpath/tools/HelpPrinter.java: New files.
	NEWS: Added note about GIOP tools.

2006-02-07  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* .classpath: New source patch (tools).
	* Makefile.am (SUBDIRS, DIST_SUBDIRS): added "tools".
	* configure.ac (AC_CONFIG_FILES): added tools/Makefile
	* tools/gnu/classpath/tools/Makefile.am,
	tools/gnu/classpath/tools/giop/GRMIC.java
	tools/gnu/classpath/tools/giop/GRMIC.txt,
	tools/gnu/classpath/tools/giop/README,
	tools/gnu/classpath/tools/giop/grmic/CompilationError.java,
	tools/gnu/classpath/tools/giop/grmic/Generator.java,
	tools/gnu/classpath/tools/giop/grmic/GiopIo.java,
	tools/gnu/classpath/tools/giop/grmic/GiopRmicCompiler.java,
	tools/gnu/classpath/tools/giop/grmic/MethodGenerator.java,
	tools/gnu/classpath/tools/giop/grmic/templates/ImplTie.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/Stub.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/StubMethod.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/StubMethodVoid.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/Tie.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/TieMethod.jav,
	tools/gnu/classpath/tools/giop/grmic/templates/TieMethodVoid.jav: New files.

2006-02-07  David Gilbert  <david.gilbert@object-refinery.com>

	* java/awt/BasicStroke.java: Updated API docs all over,
	* java/awt/doc-files/capjoin.png: New file.

2006-02-07  Lillian Angel  <langel@redhat.com>

	* gnu/java/awt/peer/gtk/GtkComponentPeer.java
	(handleEvent): Added check. Should not paint or update the 
	component if it's width and height are both 0.	

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/AbstractDocument.java
	(insertString): Enclose locking/unlocking in try-finally block
	and also keep locked while notifying the listeners.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/GlyphView.java
	(GlyphView): Initialize startOffset and endOffset with -1 (indicating
	element boundary).
	(getStartOffset): Return element boundary if startOffset < 0.
	(getEndOffset): Return element boundary if endOffset < 0.
	(createFragment): Set startOffset and endOffset fields of fragment
	if one of p0 or p1 is not at the element boundary.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/CellRendererPane.java
	(paintComponent): Enclosed painting in try finally to properly
	clean up even when throwing an exception.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/UIManager.java
	(listeners): Made this an instance of
	java.beans.PropertyChangeSupport instead of the obsoleted
	SwingPropertyChangeSupport.

2006-02-07  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/DefaultEditorToolkit.java: Changed behavior
	of actions "delete-next" and "delete-previous", added new TextAction
	implementations for "selection-begin", "selection-begin-line",
	"selection-end" and "selection-end-line".

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(paint): Acquire read lock on the document before calling
	paintSafely.
	(paintSafely): Added comment about what this method does.
	(paintBackground): Implemented to actually paint the background.
	(update): Overridden to _not_ paint the background. This is done
	in paintBackground in this UI.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/View.java
	(forwardUpdate): Don't notify newly added child views as specified.

2006-02-07  Robert Schuster  <robertschuster@fsfe.org>

	* gnu/java/beans/decoder/DefaultExceptionListener.java: Removed.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.insert): Only register change when the element
	actually changed.

2006-02-07  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/key/KeyPairCodecFactory.java (getEncodingName): New
	method.
	(getEncodingShortName): Likewise.
	* gnu/java/security/key/IKeyPairCodec.java (X509_FORMAT): New constant.
	(PKCS8_FORMAT): Likewise.
	(ASN1_FORMAT): Likewise.
	* gnu/java/security/key/dss/DSSPublicKey.java (DSSPublicKey(4)): Call
	constructor with 5 arguments.
	(DSSPublicKey(5)): New constructor.
	(valueOf): Handle ASN.1 encoding.
	(getEncoded): Likewise.
	* gnu/java/security/key/dss/DSSPrivateKey.java (DSSPrivateKey(4)): Call
	constructor with 5 arguments.
	(DSSPrivateKey(5)): New constructor.
	(valueOf): Handle ASN.1 encoding.
	(getEncoded): Likewise.
	* gnu/java/security/key/dss/DSSKeyPairX509Codec.java: New file.
	* gnu/java/security/key/dss/DSSKeyPairPKCS8Codec.java: Likewise.
	* gnu/java/security/key/dss/DSSKeyPairGenerator.java
	(PREFERRED_ENCODING_FORMAT): New constant.
	(DEFAULT_ENCODING_FORMAT): Likewise.
	(preferredFormat): New field.
	(setup): Handle preferred format ID.
	(generate): Use new ctors with 5 arguments.
	* gnu/java/security/key/dss/DSSKey.java (DSSKey): Now accepts a format
	ID as an additional argument.
	(defaultFormat): new field.
	(getFormat): Returns the preferred format as a short string.
	* gnu/java/security/jce/sig/DSSKeyFactory.java: New file.
	* gnu/java/security/jce/sig/EncodedKeyFactory.java (engineGetKeySpec):
	Likewise
	* gnu/java/security/jce/sig/DSSKeyPairGeneratorSpi.java
	(initialize(AlgorithmParameterSpec)): Set ASN.1 as the preferred
	encoding format.
	(initialize(int,boolean,SecureRandom)): Likewise.
	* gnu/java/security/der/DERWriter.java (writeBitString): Use
	writeLength() instead of write().
	return buf.length + 1 instead of buf.length.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(RootView.preferenceChange): Changed view parameter to view so
	that it doesn't hide a field of that class.
	(RootView.getViewCount): Rewritten to clean up ECJ warning.
	(RootView.modelToView): Removed unnecessary cast from View to View.
	(PropertyChangeHandler): Made inner class private.
	(updateHandler): Made field private.
	(getVisibleEditorRect): Removed unneeded local variable that
	shadowed a field with the same name and purpose.

2006-02-07  Robert Schuster  <robertschuster@fsfe.org>

	* javax/swing/text/JTextComponent.java:
	(getSelectedText): Calculate offset and use that as
	second argument.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTextPane.java
	(setCharacterAttributes): Replace input attributes when
	replace==true.

2006-02-07  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(firePropertyChange(String,byte,byte)): Made method public.
	(firePropertyChange(String,char,char)): Made method public.
	(firePropertyChange(String,short,short)): Made method public.
	(firePropertyChange(String,long,long)): Made method public.
	(firePropertyChange(String,float,float)): Made method public.
	(firePropertyChange(String,double,double)): Made method public.

2006-02-06  Tom Tromey  <tromey@redhat.com>

	* gnu/CORBA/NamingService/NamingServiceTransient.java (main): Use
	2006.
	* gnu/java/rmi/registry/RegistryImpl.java (version): Use 2006.

2006-02-06  Anthony Green  <green@redhat.com>

	* gnu/xml/aelfred2/XmlParser.java: Add missing break;.

2006-02-07  Raif S. Naffah  <raif@swiftdsl.com.au>

	* .settings/org.eclipse.jdt.core.prefs:
	Force a line split on extends and implements.
	Force a white-space after unary operators.
	Don't force a new-line after @params.
	Add new-line at end-of-file.
	* scripts/eclipse-gnu.xml: Export version of the above named GNU.

2006-02-07  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/provider/GnuDSAPublicKey.java (getEncoded): Use
	Registry constant.
	* gnu/java/security/provider/GnuDSAPrivateKey.java (getEncoded):
	Likewise.
	* gnu/java/security/provider/GnuRSAPrivateKey.java (getEncoded):
	Likewise.
	* gnu/java/security/provider/GnuRSAPublicKey.java (getEncoded):
	Likewise.
	* gnu/java/security/provider/EncodedKeyFactory.java
	(ID_DSA): Redefined in terms of Registry constant.
	(ID_DSA): Redefined in terms of Registry constant.
	(ID_DH): Redefined in terms of Registry constant.
	* gnu/java/security/Registry.java (X509_ENCODING): New constant.
	(PKCS8_ENCODING): Likewise.
	(ASN1_ENCODING): Likewise.
	(RAW_ENCODING_SHORT_NAME): Likewise.
	(X509_ENCODING_SORT_NAME): Likewise.
	(PKCS8_ENCODING_SHORT_NAME): Likewise.
	(ASN1_ENCODING_SHORT_NAME): Likewise.
	(X509_ENCODING_ID): Likewise.
	(PKCS8_ENCODING_ID): Likewise.
	(ASN1_ENCODING_ID): Likewise.
	(DSA_OID_STRING): Likewise.
	(RSA_OID_STRING): Likewise.
	(DH_OID_STRING): Likewise.

2006-02-06  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/GlyphView.java:
	(DefaultGlyphPainter.paint): Store/restore Graphics color setting.
	Only fill background if there is a background set on the view.
	Call Utilities.drawTabbedText with the baseline height, rather than
	the upper left corner of the view rectangle.
	(getBackground): Return null if no background is set.
	* javax/swing/text/GlyphView.java:
	(setPropertiesFromAttributes): Use null for background when no
	background is set. StyleConstants.getBackground() doesn't work
	for this, because it returns Color.BLACK in that case.

2006-02-06  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(changeSupport): Removed duplicate (from Component) field.
	(addPropertyChangeListener): Call super.

2006-02-06  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* java/util/regex/Matcher.java(matches):
	set RE.REG_TRY_ENTIRE_MATCH as an execution flag of getMatch.

2006-02-06  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #25812
 	* gnu/regexp/CharIndexed.java(lookBehind),(length): New method.
	* gnu/regexp/CharIndexedCharArray.java
	(lookBehind),(length): Implemented.
	* gnu/regexp/CharIndexedInputStream.java: Likewise.
	* gnu/regexp/CharIndexedString.java: Likewise.
	* gnu/regexp/CharIndexedStringBuffer.java: Likewise.
	* gnu/regexp/REToken.java(getMaximumLength): New method.
	* gnu/regexp/RE.java(internal constructor RE): Added new argument
	maxLength.
	(initialize): Parse (?<=X), (?<!X), (?>X).
	(getMaximumLength): Implemented.
	* gnu/regexp/RETokenAny.java(getMaximumLength): Implemented.
	* gnu/regexp/RETokenChar.java: Likewise.
	* gnu/regexp/RETokenEnd.java: Likewise.
	* gnu/regexp/RETokenEndSub.java: Likewise.
	* gnu/regexp/RETokenLookAhead.java: Likewise.
	* gnu/regexp/RETokenNamedProperty.java: Likewise.
	* gnu/regexp/RETokenOneOf.java: Likewise.
	* gnu/regexp/RETokenPOSIX.java: Likewise.
	* gnu/regexp/RETokenRange.java: Likewise.
	* gnu/regexp/RETokenRepeated.java: Likewise.
	* gnu/regexp/RETokenStart.java: Likewise.
	* gnu/regexp/RETokenWordBoundary.java: Likewise.
	* gnu/regexp/RETokenIndependent.java: New file.
	* gnu/regexp/RETokenLookBehind.java: New file.

2006-02-06  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(firePropertyChange(String,byte,byte)): New method.
	(firePropertyChange(String,char,char)): New method.
	(firePropertyChange(String,short,short)): New method.
	(firePropertyChange(String,long,long)): New method.
	(firePropertyChange(String,float,float)): New method.
	(firePropertyChange(String,double,double)): New method.

2006-02-06  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JComponent.java
	(AccessibleJComponent.changeSupport): Changed to be a
	java.beans.PropertyChangeSupport rather than
	SwingPropertyChangeSupport.
	(AccessibleJComponent.AccesibleJComponent()): Change initialization
	of above field.
	(changeSupport): Removed unneeded field.
	(removePropertyChangeListener): Removed unneeded methods.
	(addPropertyChangeListener): Removed unneeded methods.
	(getPropertyChangeListeners): Removed unneeded methods.
	(firePropertyChange(String,boolean,boolean)): Changed to simply
	call super. Added specnote.
	(firePropertyChange(String,char,char)): Changed to simply
	call super. Added specnote.
	(firePropertyChange(String,int,int)): Changed to simply
	call super. Added specnote.
	(firePropertyChange(String,byte,byte)): Removed.
	(firePropertyChange(String,Object,Object)): Removed.
	(firePropertyChange(String,double,double)): Removed.
	(firePropertyChange(String,float,float)): Removed.
	(firePropertyChange(String,long,long)): Removed.
	(firePropertyChange(String,short,short)): Removed.

2006-02-06  Roman Kennke  <kennke@aicas.com>

	* javax/swing/event/SwingPropertyChangeSupport.java
	(listeners): Removed field.
	(propertyListeners): Removed field.
	(source): Removed field.
	(SwingPropertyChangeSupport()): Removed initialization of removed
	fields.
	(addPropertyChangeListener): Removed methods.
	(removePropertyChangeListener): Removed methods.
	(getPropertyChangeListeners): Removed methods.
	(firePropertyChange): Removed methods.
	(hasListeners): Removed methods.

2006-02-06  Jeroen Frijters  <jeroen@frijters.net>

	Fixes PR 25313
	* java/net/InetAddress.java
	(readResolve): Implemented.

2006-02-06  Jeroen Frijters  <jeroen@frijters.net>

	Fixes PR 26121
	* java/io/ObjectInputStream.java
	(readNextBlock()): Handle TC_RESET.

2006-02-06  Wolfgang Baer  <WBaer@gmx.de>
	
	* javax/print/attribute/standard/Compression.java,
	* javax/print/attribute/standard/Finishings.java, 
	* javax/print/attribute/standard/JobMediaSheets.java,
	* javax/print/attribute/standard/JobSheets.java,
	* javax/print/attribute/standard/JobState.java,
	* javax/print/attribute/standard/JobStateReason.java,
	* javax/print/attribute/standard/ReferenceUriSchemesSupported.java,
	* javax/print/attribute/standard/PrintQuality.java,
	* javax/print/attribute/standard/Media.java,
	* javax/print/attribute/standard/MultipleDocumentHandling.java,
	* javax/print/attribute/standard/PrinterStateReason.java,
	* javax/print/attribute/standard/PDLOverrideSupported.java: 
	(getName): Make method final.
	(getCategory): Likewise.
	* javax/print/attribute/standard/MediaSize.java: 
	(getName): Make method final.
	(getCategory): Likewise.
	(ISO): Added private default constructor.
	(NA): Likewise.
	(JIS): Likewise.
	(Other): Likewise.
	(Engineering): Likewise.

2006-02-06  Wolfgang Baer  <WBaer@gmx.de>
	
	* native/jni/java-net/javanet.c (_javanet_connect):
	Throw ConnectException instead of IOException if connection failed.
	* native/jni/java-net/javanet.h:
	Add a define for java.net.ConnectException

2006-02-05  Mark Wielaard  <mark@klomp.org>

	Fixes bug #26101
	reported by Egon Willighagen <egon.willighagen@gmail.com>
	* javax/swing/DefaultListCellRenderer.java
	(getListCellRendererComponent): Turn null value into empty string.

2006-02-04  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/RETokenNamedProperty.java(getHandler): Check for
	a Unicode block if the name starts with "In".
	(UnicodeBlockHandler): New inner class.

2006-02-04  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(getComponentZOrder): New method.
	(setComponentZOrder): New method.
	* javax/swing/JLayeredPane.java
	(setPosition): Reimplemented to use setComponentZOrder().
	(getIndexOf): Reimplemented to use getComponentZOrder().
	(addImpl): Pass layerContraint to super call. Important for possibly
	installed layout managers.
	(swapComponents): Remove unneeded method.

2006-02-04  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/jce/sig/DSSKeyPairGeneratorSpi.java: Implement
	DSAKeyPairGenerator.
	(initialize(int,SecureRandom)): Call initialize(keysize, false, random).
	(initialize(AlgorithmParameterSpec,SecureRandom)): More explicit error
	message.
	Surround call to adaptee in a try/catch.
	(initialize((DSAParams,SecureRandom)): New method.
	(initialize(int,boolean,SecureRandom)): New method.
	* gnu/java/security/jce/sig/KeyPairGeneratorAdapter.java: Extends
	KeyPairGenerator rather than KeyPairGeneratorSpi.
	(KeyPairGeneratorAdapter): Call super with algorithm name.

2006-02-04  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/sasl/srp/SRPServer.java (prng): New field.
	(getDefaultPRNG): New method.
	(parseO): Use method above.
	* gnu/javax/crypto/sasl/srp/SRPClient.java (prng): New field.
	(getDefaultPRNG): New method.
	(createO): Use method above.
	* gnu/javax/crypto/sasl/srp/KDF.java (prng): New class field.
	(nextByte): Use above field.
	* gnu/javax/crypto/pad/PKCS1_V1_5.java (selfTest): Use PRNG instance.
	* gnu/java/security/sig/rsa/RSA.java: New class field.
	(newR): Use above field
	* gnu/java/security/sig/rsa/EME_PKCS1_V1_5.java (prng): New field.
	(encode): Use field.above.
	* gnu/java/security/key/dss/FIPS186.java (prng): New field.
	(getDefaultPRNG): new method.
	(nextRandomBytes): Use above method.
	* gnu/java/security/key/rsa/RSAKeyPairGenerator.java: Likewise.
	* gnu/java/security/sig/BaseSignature.java: Likewise.
	* gnu/javax/crypto/key/dh/GnuDHKeyPairGenerator.java: Likewise.
	* gnu/javax/crypto/key/dh/RFC2631.java: Likewise.
	* gnu/javax/crypto/key/srp6/SRPKeyPairGenerator.java: Likewise.
	* gnu/javax/crypto/key/BaseKeyAgreementParty.java: Likewise.
	* gnu/java/security/key/dss/DSSKeyPairGenerator.java (prng): New field.
	(getDefaultPRNG): new method.
	(nextRandomBytes): Use above method.
	(STRICT_DEFAULTS): new class field.
	(USE_DEFAULTS): more documentation to clarify behavior.
	(setup): amended to handle new attribute.
	* gnu/java/security/util/PRNG.java: New file.

2006-02-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicColorChooserUI.java:
	chooser field should be protected, not package-private.	

2006-02-03  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/DefaultStyledDocument.java
	(changeUpdate): Cleaned up code.
	(split): Likewise.
	(insertUpdate): Set offset to be equal to pos after
	insertContentTag call.
	(insertContentTag): If paragraph has no children, should use
	replace instead of Edit.
	(insertFracture): Moved around code to prevent any exception. Also,
	left side of tree should not be recreated if it has already been 
	edited. In that case, we should only be creating a new right branch
	when fracturing.
	(getEditForParagraphAndIndex): No need to check index. We should
	use the same edit for each paragraph.

2006-02-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/event/SwingPropertyChangeSupport.java
	(propertyListeners): Change type to HashMap.
	(SwingPropertyChangeSupport): Allocate HashMap.

2006-02-03  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/KeyPairGenerator.java (getInstance): Test for
	instanceof KeyPairGenerator before KeyPairGeneratorSpi.

2006-02-02  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	Made fields private.
	(RepaintWorker.run): Enclosed work stuff in try finally block in
	order to clean up correctly if invalidation or painting fails,
	otherwise we would get no more RepaintWorkers onto the EventQueue.
	Also, now the RepaintWorker is marked 'dead' only after it has
	finished its work, avoid more than one RepaintWorker on the queue.
	(ComponentComparator.compareTo): Compare dirty rectangle sizes
	instead of hierarchy depths.
	(workDirtyComponents): Removed unused field.
	(repaintOrder): Removed unused field.
	(workRepaintOrder): Removed unused field.
	(workInvalidComponents): Removed unused field.
	(RepaintManager()): Removed initialization of removed fields.
	(addInvalidComponent): Fine tuned synchronization.
	(removeInvalidComponent): Fine tune synchronization.
	(addDirtyRegion): Short circuit invalid dirty regions. Fine tuned
	synchronization. Don't manager repaintOrder here.
	(insertRepaintOrder): Removed method.
	(markCompletelyClean): Fine tuned synchronization.
	(validateInvalidComponents): Dont use a working copy of the
	invalidComponents list, instead fine tuned synchronization on this
	list. Also, don't search validateRoot, this is already done in
	addInvalidComponent().
	(paintDirtyRegions): Compute repaint order here, based on size of
	damaged regions. Fine tuned synchronization. Avoid use of working
	copies of dirtyComponent.

2006-02-02  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): JoinNextDirection should push the 
	'next' paragraph on the stack.

2006-02-02  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Rewrote code for Originate. This prevents
	leaves being created multiple times. If it is on the last 
	ElementSpec, the leaves need to be created right then; 
	otherwise, only a branch is created.
	(insertContentTag): Rewrote to add new leaf directly if
	this is a branch with no children. Otherwise, it
	recreates the remainder of the tree as before.

2006-02-02  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/REMatch.java(REMatchList): New inner utility class
	for making a list of REMatch instances.
	* gnu/regexp/RETokenOneOf.java(match): Rewritten using REMatchList.
	* gnu/regexp/RETokenRepeated.java(findDoables): New method.
	(match): Rewritten using REMatchList.
	(matchRest): Rewritten using REMatchList.

2006-02-02  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* examples/gnu/classpath/examples/CORBA/swing/x5/PlayingDesk.java 
	(friendsMove):	Call repaint() only after endOfGame is assigned.

2006-02-02  Mark Wielaard  <mark@klomp.org>

	Fixes bug #25769 reported by Artemus Harper <subanark@gmail.com>
	* java/util/AbstractCollection.java (toString): Only use Iterator,
	check whether collection contains itself.

2006-02-01  Casey Marshall  <csm@gnu.org>

	Partial fix for PR classpath/25143.
	* javax/crypto/EncryptedPrivateKeyInfo.java (algName): new field.
	(<init>): fill in `algName,' derive `algOid' from `algName.'
	(getOid): new method.
	(encode): embed NULL value for parameters if `params' is `null.'

2006-02-01  Casey Marshall  <csm@gnu.org>

	Tag check and OTHER_NAME fixes suggested by Rafael Teixeira
	<monoman@gmail.com>.	
	* gnu/java/security/x509/ext/GeneralNames.java (<init>): fix tag
	check; fix OTHER_NAME parsing; fix DIRECTORY_NAME parsing.

2006-02-01  Casey Marshall  <csm@gnu.org>

	toString fix suggested by Rafael Teixeira <monoman@gmail.com>.
	* gnu/java/security/der/DERValue.java
	(getLength, getEncoded, getEncodedLength): throw an exception,
	don't initialize `encoded' to a bogus value.
	(toString): return a more helpful string.

	Partial fix for PR classpath/25144.
	* gnu/java/security/der/DERWriter.java (write): if the value is
	the pseudo-value used for CONSTRUCTED, write the encoded value
	directly.
	
2006-02-01  Tom Tromey  <tromey@redhat.com>

	* java/security/Security.java (loadProviders): Use system class
	loader.

2006-02-01  Mark Wielaard  <mark@klomp.org>

	* gnu/regexp/RE.java (getRETokenNamedProperty): Chain exception.
	* gnu/regexp/RETokenNamedProperty.java (LETTER, MARK, SEPARATOR,
	SYMBOL, NUMBER, PUNCTUATION, OTHER): New final byte[] fields.
	(getHandler): Check for grouped properties L, M, Z, S, N, P or C.
	(UnicodeCategoriesHandler): New private static class.
	
2006-02-01  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Removed unneeded fields.
	(insertUpdate): Removed field initialization.
	(insertContentTag): Rewrote part of function. Still
	not complete.

2006-02-01  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertParagraph): Cleaned up code.
	(insertFirstContentTag): Fixed call to recreateLeaves.
	(insertContentTag): Added check to code to determine where
	content should be inserted with respect to next element.
	(createFracture): Removed check, recreateLeaves is called in 
	other places when needed.
	(recreateLeaves): Added new parameter for paragraph instead
	of checking the stack. Removed editing for newBranch, replaced
	with a replace call.

2006-02-01  Anthony Balkissoon  <abalkiss@redhat.com>

	* doc/unicode/Blocks-4.0.0.txt: New file.
	* java/lang/Character.java: Regenerated inner class UnicodeBlock from 
	scripts/unicode-blocks.pl and doc/unicode/Blocks-4.0.0.txt.
	* scripts/unicode-blocks.pl: Copied this over from the generics branch
	but replaced some 1.5-only features (such as enum).

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/PasswordView.java
	(drawSelectedText): Use drawEchoCharacter() method to draw echo
	character.
	(drawUnselectedText): Use drawEchoCharacter() method to draw echo
	character.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTextField.java
	(getPreferredSize): Also include textfield's insets in width
	calculation.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getPreferredSize): Include the textcomponent's insets in
	preferredSize.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/table/DefaultTableCellRenderer.java
	(getTableCellRendererComponent): Moved setting of the value into
	setValue(). Removed (bogus) special handling of JTextField values.
	(setValue): Made ?: statement more clear by rewriting it
	with if .. else.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(insertIndexForLayer): Fixed algorithm to correctly determine
	inser index for positions >= 0.
	(addImpl): Fixed API docs for the index parameter.

2006-01-31  Mark Wielaard  <mark@klomp.org>

	* java/net/URI.java (getURIGroup): Check for null to see whether
	group actually exists.

2006-01-31  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(changeUpdate): Fixed calls to split to incorporate 
	new parameter.
	(insertParagraph): Likewise. Uses 0 as editIndex
	because inserting into a new paragraph.
	(insertContentTag): Fixed check to use 
	recreateLeaves. Added a FIXME comment.
	(split): Added a new parameter for edits.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicRootPaneUI.java
	(installDefaults): Don't install a background color here.

2006-01-31  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insert): Removed comment.
	(insertUpdate): Added comment.
	(recreateLeaves): Removed call to push newBranch onto the
	stack. This does not need to be done here.

2006-01-31  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/UnicodeReader.java,
	  gnu/xml/stream/XIncludeFilter.java,
	  gnu/xml/stream/XMLParser.java: Fix case where resolved InputSource
	  only resolved the system ID not the stream. Make some utility methods
	  public and static for use by other private XML APIs.
	* java/lang/ClassNotFoundException.java: Ensure that initCause can be
	  called without throwing IllegalStateException.
	* java/util/logging/SimpleFormatter.java: Write thrown exception if
	  provided.

2006-01-31  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #22873
	* gnu/regexp/REMatch(toString(int)): Throw IndexOutOfBoundsException
	for an invalid index and return null for a skipped group.

2006-01-31  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #26002
	* gnu/regexp/gnu/regexp/RE.java(initialize): Parse /\p{prop}/.
	(NamedProperty): New inner class.
	(getNamedProperty): New method.
	(getRETokenNamedProperty): New Method.
	* gnu/regexp/RESyntax.java(RE_NAMED_PROPERTY): New syntax falg.
	* gnu/regexp/RETokenNamedProperty.java: New file.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/PlainView.java
	(paint): Call drawLine with baseline coordinates.
	(drawLine): Documented and indented this method.
	(drawUnselecetedText): Documented and indented this method.
	* javax/swing/plaf/text/Utilites.java
	(drawTabbedText): The coordinates denote the baseline of the text
	not the upper left corner.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(createKeymap): Don't store KeyBindings[] as focusInputMap in
	UIManager. Added FIXME regarding the implementation of this method.

2006-01-30  David Gilbert  <david.gilbert@object-refinery.com>

	* examples/gnu/classpath/examples/swing/ButtonDemo.java
	(ButtonDemo): Move content initialisation to new method,
	(initFrameContent): New method,
	(main): Call initFrameContent(),
	* examples/gnu/classpath/examples/swing/ComboBoxDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/FileChooserDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/ScrollBarDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/SliderDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/TextFieldDemo.java: Likewise.

2006-01-30  David Gilbert  <david.gilbert@object-refinery.com>

	* examples/gnu/classpath/examples/swing/Demo.java
	(Demo): Set frame size,
	(mkButtonBar): Removed stacked sub-panels.

2006-01-30  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Added new fields.
	(insert): Initialized fields. Removed call to addEdit, 
	and created ElementEdit instead.
	(insertUpdate): Added check for fracturing. If the
	fracturing was not successful, we should push the
	last element back on the stack.
	(insertParagraph): Fixed call to getEditForParagraphAndIndex.
	Also, changed replace calls to use Edit.
	(insertFirstContentTag): Removed unneeded check and fixed call
	to recreateLeaves.
	(insertContent): Fixed check to use new fields. Added code in
	to check if leaves overlap.
	(createFracture): Fixed call to recreateLeaves.
	(recreateLeaves): Fixed code and cleaned it up a bit.
	(insertFracture): Set fracNotCreated field.
	(addEdit): Removed, this method is not needed.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JRootPane.java
	(RootLayout.prefSize): Removed caching for preferredSize.
	(RootLayout.invalidateLayout): Likewise.
	(RootLayout.preferredLayoutSize): Likewise.	

2006-01-30  Roman Kennke  <kennke@aicas.com>

	PR classpath/26035
	* javax/swing/JFrame.java
	(frameInit): Handle the defaultLookAndFeelDecorated flag.
	* javax/swing/plaf/metal/MetalRootPaneUI.java
	(MetalFrameBorder): New inner class, provides the border for
	top level containers with L&F decorations.
	(MetalTitlePane): New inner class, provides the title pane for
	top level containers with L&F decorations.
	(MetalRootLayout): New inner class. Used to layout the root pane
	when L&F window decorations are enabled.
	(installUI): New method. Handles window decorations.
	(uninstallUI): New method. Handles window decorations.
	(propertyChange): Handles window decorations.
	(installWindowDecorations): New method. Handles window
	decorations.
	(uninstallWindowDecorations): New method. Handles window
	decorations.
	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(getSupportsWindowDecorations): Overridden to return true.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JProgressBar.java (JProgressBar(int)): Document
	IllegalArgumentException when orientation is illegal.
	(JProgressBar(int, int, int)): Likewise and throw exception.
	(setOrientation): Likewise.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ViewportLayout.java
	(minimumLayoutSize): Rewritten to unconditionally return (4,4).

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JProgressBar.java (orientation): Always set by
	constructor.
	(JProgressBar(int)): Document default on 'illegal' value.
	(JProgressBar(int, int, int)): Likewise and set orientation to
	HORIZONTAL when 'illegal'.
	(setOrientation): Likewise.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(ListDataHandler.contentsChanged): Update the
	updateLayoutStateNeeded flag.
	(ListDataHandler.intervalAdded): Update the
	updateLayoutStateNeeded flag.
	(ListDataHandler.intervalRemoved): Update the
	updateLayoutStateNeeded flag.
	(PropertyChangeHandler.propertyChange): Correctly update the
	listeners on new list model.
	(maybeUpdateLayoutState): Don't consider the validation state
	of the list.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* gnu/xml/transform/ApplyTemplatesNode.java (clone): Check whether
	sortKeys is null.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(insertIndexForLayer): Fixed algorithm to correctly insert
	components within different layers and -1 position.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* doc/api/Makefile.am (create_html): Add -validhtml.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(insertIndexForLayer): Fixed algorithm to correctly insert
	components within same layer and -1 position.

2006-01-30  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #24876
	* gnu/regexp/gnu/regexp/RE.java(REG_TRY_ENTIRE_MATCH):
	New execution flag.
	(getMatchImpl): if REG_TRY_ENTIRE_MATCH is set, add an
	implicit RETokenEnd at the end of the regexp chain.
	Do not select the longest match, but select the first match.
	(match): Do not take care of REMatch.empty.
	* gnu/regexp/REMatch.java(empty): To be used only in RETokenRepeated.
	* gnu/regexp/RETokenOneOf.java: Corrected a typo in a comment.
	* gnu/regexp/RETokenBackRef.java: Do not take care of REMatch.empty.
	* gnu/regexp/RETokenRepeated.java (match): Rewrote stingy matching.
	Do not take care of REMatch.empty. Set and check REMatch.empty
	when trying to match the single token.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* java/awt/Cursor.java (toString): Include name and type.

2006-01-30  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/mac/HMac.java (clone): Clone ipadHash, opadHash, and
	the ipad buffer.
	* gnu/javax/crypto/mac/BaseMac.java (clone): Clone underlyingHash.

2006-01-30  Audrius Meskauskas  <AudriusA@Bioinformatics.org>
        
        PR 26027
	* javax/swing/plaf/basic/BasicListUI.java  (maybeUpdateLayoutState):
	Consider the validation state of the list. 

2006-01-29  Robert Schuster  <robertschuster@fsfe.org>

	* gnu/java/beans/DefaultExceptionListener.java: Constant public field
	INSTANCE added.
	* java/beans/XMLDecoder.java:
	(setExceptionListener): Use shared DefaultExceptionListener
	instance.
	* java/beans/Encoder.java:
	(setExceptionListener): Use shared DefaultExceptionListener
	instance.

2006-01-29  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ScrollPaneLayout.java
	(minimumLayoutSize): Rewritten to match JDKs behaviour.

2006-01-29  Mark Wielaard  <mark@klomp.org>

	* java/net/SocketPermission.java (setActions): Trim and lower case
	action.

2006-01-29  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/util/Prime2.java (passEulerCriterion): Was
	incorrectly failing primality test for some known primes. Fixed.
	(passFermatLittleTheorem): Removed.
	(passMillerRabin): Removed.
	(isProbablePrime): Cache primes that pass the primality tests.
	Use BigInteger.isProbablePrime(int) for primality tests.
	(debugBI): New static debugging method.

2006-01-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(updateLayoutState): Removed unneeded special case for VERTICAL.

2006-01-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getCellBounds): Determine correct list width when having a
	layoutOrientation of VERTICAL.
	(maybeUpdateLayoutState): Don't consider the validation state of
	the list.

2006-01-28  Mark Wielaard  <mark@klomp.org>

	Reported by Dimitri Fontaine <dimitri@dalibo.com>
	* java/awt/print/NoPrinterJob.java: New (fake) class.
	* java/awt/print/PrinterJob.java (getPrinterJob): Return NoPrinterJob.

2006-01-28  Mark Wielaard  <mark@klomp.org>

	* gnu/javax/crypto/mac/HMac.java (clone): Cast cloned ipad to byte[].

2006-01-28  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/classpath/examples/swing/Demo.java (mkTree): Make a larger tree.
	(addChildren): New method.

2006-01-28  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/jce/mac/MacAdapter.java (MacAdapter(IMac, Map)): New
	constructor for cloning purposes.
	(clone): New implementation that ensures cloning.
	* gnu/javax/crypto/mac/HMac.java (clone): Implement Cloneable.
	* gnu/java/security/Registry.java: Changed value of GNU_SECURITY to
	  "GNU".

2006-01-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/plaf/basic/BasicTreeUI.java (updateCachedPreferredSize):
	Call updateCurrentVisiblePath.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* examples/gnu/classpath/examples/swing/MiniDemo.java: New file.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* examples/gnu/classpath/examples/swing/ButtonDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/ComboBoxDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/FileChooserDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/ScrollBarDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/SliderDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/TableDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/TextFieldDemo.java
	(createContent): Only create new content if we don't have one
	already.

2006-01-27  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertFirstContentTag): Removed check, not needed. This
	still needs to be fixed for some cases. Added call to
	recreateLeaves.
	(createFracture): Added call to recreateLeaves.
	(recreateLeaves): New method used to recreate all the
	leaves after the initial insertion. This still needs 
	more work.
	(handleInsertAfterNewline): Removed else, not needed.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(inserIndexForLayer): Fixed direction of search.

2006-01-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTree.java (constructor): Put EXPANDED for the root 
	node into nodeStates.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(FRAME_CONTENT_LAYER): Made field final.
	(componentToLayer): Made field private.
	(rectCache): Removed field.
	(layers): Removed field.
	(JLayeredPane()): Removed initialization of removed fields.
	(getLayer): Rewritten to make use of client properties in
	JComponents and to be more straighforward.
	(static getLayer): Rewritten to make use of client properties in
	JComponents.
	(layerToRange): Removed method.
	(incrLayer): Removed method.
	(decrLayer): Removed method.
	(highestLayer): Rewritten to be more straightforward.
	(lowestLayer): Rewritten to be more straightforward.
	(getPosition): Rewritten to be more straightforward.
	(getComponentsInLayer): Rewritten to be more straightforward.
	(getComponentCountInLayer): Rewritten to be more straightforward.
	(getIndexOf): Rewritten to be more straightforward.
	(inserIndexForLayer): Rewritten to be more straightforward.
	(remove): Rewritten to be more straightforward.
	(setLayer): Rewritten to be more straightforward.
	(addImpl): Rewritten to be more straightforward.
	(putLayer): Rewritten to be more straightforward.

2006-01-27  Anthony Balkissoon  <abalkiss@redhat.com>

	* java/lang/Character.java:
	(offsetByCodePoints(CharSequence, int, int)): New API method.
	(offsetByCodePoints(char[], int, int, int, int)): Likewise.
	(toChars): Throw the Exception that the docs say we throw.
	(codePointAt): Fixed an off-by-one error in the bounds of the if 
	statement.
	* java/lang/String.java:
	(String(int[], int, int)): New API constructor.

2006-01-27  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insert): Moved this loop to insertUpdate.
	(insertUpdate): Likewise. Fixed variable
	names. Incremented pos if new paragraph
	is inserted.
	(split): Changed edits to use replace instead. Prevents
	assertion errors.
	(insertFirstContentTag): Removed else.
	(insertContentTag): Implemented else for JoinNextDirection.
	(createFracture): Fixed up code, still not fully complete.
	(insertFracture): Fixed to use return value from 
	recreateAfterFracture.
	(recreateAfterFracture): Changed to return an array of the
	elements to be added. This prevents an assertion error.
	(contains): New function checks if an element is already in 
	the Vector. Vector's contain function was not enough to use.
	(addAddedElement): Changed to use new contains function.
	(addAddedElements): Likewise.
	(addRemovedElement): Likewise.
	(addRemovedElements): Likewise.        
	
2006-01-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	PR 25520
	* vm/reference/java/io/VMObjectInputStream.java (loaderAction.run):
	If no user class loaders found on the stack, return the thread 
	context class loader. (currentClassLoader): Explained.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(swapComponents): Removed unspecified method.
	* javax/swing/JLayeredPane.java
	(setPosition): Reimplemented correctly.
	(swapComponents): New helper method.

2006-01-27  Mark Wielaard  <mark@klomp.org>

	* configure.ac: Set version to 0.21-pre.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	PR classpath/25968
	* javax/swing/JComponent.java
	(findOverlapFreeParent): Improved the algorithm to make better use
	of the optimizedDrawingEnabled flag.
	* javax/swing/JLayeredPane.java
	(isOptimizedDrawingEnabled): Reimplemented to match the specs.
	* javax/swing/JViewport.java
	(computeBlit): Fixed check to decide if blitting is possible or not,
	so that it doesn't blit if nothing was scrolled (in order to
	update the buffer when the view updates itself).

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(createList): Don't set scrollbar policy.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicPopupMenuUI.java
	(PopupMenuHandler.popupMenuWillBecomeInvisible):
	Fixed to also handle non-Swing toplevel containers.
	(PopupMenuHandler.popupMenuWillBecomeVisible):
	Fixed to also handle non-Swing toplevel containers.
	* javax/swing/Popup.java
	(JWindowPopup.JWindowPopup()): Correctly set parent window on
	popup.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicInternalFrameUI.java
	(InternalFramePropertyChangeListener): Don't implement
	VetoableChangeListener.
	(InternalFramePropertyChangeListener.vetoableChange): Removed.
	(internalFrameVetoableChangeListener): Removed unneeded field.
	(installListeners): Don't install vetoableChangeListener.
	* javax/swing/event/DocumentEvent.java
	(EventType): Made class final.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/SwingUtilities.java
	(calculateInsetArea): Removed unneeded method. The method
	calculateInnerArea has the same purpose and is actually specified.
	(calculateInnerArea): Rewritten to not use calculateInsetArea.
	* javax/swing/plaf/basic/BasicMenuItemUI.java
	(paintMenuItem): Use SwingUtilities.calculateInnerArea() instead
	of SwingUtilities.calculateInsetArea().

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTreeUI.java
	(installDefaults): Removed requestFocusInWindow() call.
	* javax/swing/JComponent.java
	(requestFocusInWindow(boolean)): Made method protected.
	(printComponent): Made method protected.
	(printChildren): Made method protected.
	(printComponent): Made method protected.
	(printBorder): Made method protected.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/AbstractButton.java
	(ButtonChangeListener.ButtonChangeListener()): Made constructor
	package private.
	* javax/swing/ImageIcon.java
	(component): Made field final.
	(tracker): Made field final.
	* javax/swing/JApplet.java
	(AccessibleJApplet.AccessibleJApplet): Made constructor protected.
	* javax/swing/JCheckBox.java
	(AccessibleJCheckBox.AccessibleJCheckBox): Made constructor
	protected.
	* javax/swing/JDialog.java
	(AccessibleJDialog.AccessibleJDialog): Made constructor protected.
	* javax/swing/JFrame.java
	(AccessibleJFrame.AccessibleJFrame): Made constructor protected.
	* javax/swing/JLayeredPane.java
	(AccessibleJLayered.AccessibleJLayeredPane): Made constructor
	protected.
	(DEFAULT_LAYER): Made field final.
	(PALETTE_LAYER): Made field final.
	(MODAL_LAYER): Made field final.
	(POPUP_LAYER): Made field final.
	(DRAG_LAYER): Made field final.
	* javax/swing/JMenu.java
	(ActionChangeListener): Made class private.
	* javax/swing/JOptionPane.java
	(UNITITIALIZED_VALUE): Made field final.
	* javax/swing/JPanel.java
	(AccessibleJPanel.AccessibleJPanel): Made constructor protected.
	* javax/swing/JPopupMenu.java
	(ActionChangeListener): Made class private.
	* javax/swing/JTree.java
	(paramString): Made method protected.
	* javax/swing/JViewport.java
	(AccessibleJViewport.AccessibleJViewport): Made constructor protected.
	* javax/swing/JWindow.java
	(AccessibleJWindow.AccessibleJWindow): Made constructor protected.
	* javax/swing/RepaintManager.java
	(RepaintWorker): Made class private.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/swing/SwingComponentPeer.java
	(handleEvent): Removed debug statement.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(coalescePaintEvents): Don't try to optimize coalescing. This hurts
	more than it helps.

2006-01-26  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(createFracture): Commented out a known problem,
	added FIXME tag.

2006-01-26  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer): Added fields.
	(remove): Initialized pos.
	(change): Likewise.
	(insert): Likewise.
	(insertUpdate): Incremented pos. Fixed check, createFracture should
	be called on first tag if it is not ContentType.
	(insertFirstContentTag): Reworked to use proper offsets and
	set offset accordingly. This might need more work in the future.
	(insertContentTag): Likewise. Fixed to use pos, instead of 
	offset.
	(createFracture): Fixed to recreate other leaves. Still needs
	more work.
	(insertFracture): Reimplemented.
	(recreateAfterFracture): New method.
	(getParagraphElement): Reimplemented, more efficent.

2006-01-26  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* native/jni/java-lang/java_lang_VMDouble.c (doubleToLongBits)
	(doubleToRawLongBits, longBitsToDouble): Swap the byte
	ordering for little-endian arms without VFP.

2006-01-26  Raif S. Naffah  <raif@swiftdsl.com.au>

	PR classpath/25981
	* gnu/javax/crypto/jce/GnuCrypto.java (run): Added KeyGenerator entries.

2006-01-26  Mark Wielaard  <mark@klomp.org>

	Fixes bug #25970 reported by Michael Kay <mike@saxonica.com>
	* java/math/BigDecimal.java (compareTo): Don't strip trailing zeros.
	Add trailing zeros to the fraction of the decimal with the smallest
	scale.

2006-01-26  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/ObjectView.java: New file.

2006-01-26  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/plaf/basic/BasicTreeUI.java (MouseHandler.mousePressed): 
	Call startEditing when appropriate.
	(WAIT_TILL_EDITING, EDIT, startEditTimer): New fields.
	(startEditing): Always edit if directly ordered from 
	MouseHandler.mousePressed.
	* javax/swing/tree/DefaultTreeCellEditor.java (CLICK_COUNT_TO_START): 
	New field. (createTreeCellEditor): Set click count to start.
	(getTreeCellEditorComponent): Assing realEditor directly.

2006-01-25  Casey Marshall  <csm@gnu.org>

	Merging GNU Crypto and Jessie.

	* NEWS: mention the merge in the 0.21 notes.
	* gnu/classpath/debug/Component.java (SSL_APPLICATION): removed.
	(SSL_RECORD_LAYER): new constants.
	* gnu/java/security/provider/Gnu.java (<init>): add new algorithms
	to provider.
	* resource/java/security/classpath.security: add new providers.
	* gnu/javax/crypto/assembly/Assembly.java,
        gnu/javax/crypto/assembly/Cascade.java,
        gnu/javax/crypto/assembly/CascadeStage.java,
        gnu/javax/crypto/assembly/CascadeTransformer.java,
        gnu/javax/crypto/assembly/DeflateTransformer.java,
        gnu/javax/crypto/assembly/Direction.java,
        gnu/javax/crypto/assembly/LoopbackTransformer.java,
        gnu/javax/crypto/assembly/ModeStage.java,
        gnu/javax/crypto/assembly/Operation.java,
        gnu/javax/crypto/assembly/PaddingTransformer.java,
        gnu/javax/crypto/assembly/Stage.java,
        gnu/javax/crypto/assembly/Transformer.java,
        gnu/javax/crypto/assembly/TransformerException.java,
        gnu/javax/crypto/cipher/Anubis.java,
        gnu/javax/crypto/cipher/BaseCipher.java,
        gnu/javax/crypto/cipher/Blowfish.java,
        gnu/javax/crypto/cipher/Cast5.java,
        gnu/javax/crypto/cipher/CipherFactory.java,
        gnu/javax/crypto/cipher/DES.java,
        gnu/javax/crypto/cipher/IBlockCipher.java,
        gnu/javax/crypto/cipher/IBlockCipherSpi.java,
        gnu/javax/crypto/cipher/Khazad.java,
        gnu/javax/crypto/cipher/NullCipher.java,
        gnu/javax/crypto/cipher/Rijndael.java,
        gnu/javax/crypto/cipher/Serpent.java,
        gnu/javax/crypto/cipher/Square.java,
        gnu/javax/crypto/cipher/TripleDES.java,
        gnu/javax/crypto/cipher/Twofish.java,
        gnu/javax/crypto/cipher/WeakKeyException.java,
        gnu/javax/crypto/jce/GnuCrypto.java,
        gnu/javax/crypto/jce/GnuSasl.java,
        gnu/javax/crypto/jce/PBKDF2SecretKeyFactory.java,
        gnu/javax/crypto/jce/cipher/AESSpi.java,
        gnu/javax/crypto/jce/cipher/ARCFourSpi.java,
        gnu/javax/crypto/jce/cipher/AnubisSpi.java,
        gnu/javax/crypto/jce/cipher/BlowfishSpi.java,
        gnu/javax/crypto/jce/cipher/Cast5Spi.java,
        gnu/javax/crypto/jce/cipher/CipherAdapter.java,
        gnu/javax/crypto/jce/cipher/DESSpi.java,
        gnu/javax/crypto/jce/cipher/KhazadSpi.java,
        gnu/javax/crypto/jce/cipher/NullCipherSpi.java,
        gnu/javax/crypto/jce/cipher/PBES2.java,
        gnu/javax/crypto/jce/cipher/RijndaelSpi.java,
        gnu/javax/crypto/jce/cipher/SerpentSpi.java,
        gnu/javax/crypto/jce/cipher/SquareSpi.java,
        gnu/javax/crypto/jce/cipher/TripleDESSpi.java,
        gnu/javax/crypto/jce/cipher/TwofishSpi.java,
        gnu/javax/crypto/jce/key/AnubisKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/AnubisSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/BlowfishKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/BlowfishSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/Cast5KeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/Cast5SecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/DESKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/DESSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/DESedeSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/KhazadKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/KhazadSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/RijndaelKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/RijndaelSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/SecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/SerpentKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/SerpentSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/SquareKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/SquareSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/TripleDESKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/TwofishKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/TwofishSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/keyring/GnuKeyring.java,
        gnu/javax/crypto/jce/mac/HMacHavalSpi.java,
        gnu/javax/crypto/jce/mac/HMacMD2Spi.java,
        gnu/javax/crypto/jce/mac/HMacMD4Spi.java,
        gnu/javax/crypto/jce/mac/HMacMD5Spi.java,
        gnu/javax/crypto/jce/mac/HMacRipeMD128Spi.java,
        gnu/javax/crypto/jce/mac/HMacRipeMD160Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA160Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA256Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA384Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA512Spi.java,
        gnu/javax/crypto/jce/mac/HMacTigerSpi.java,
        gnu/javax/crypto/jce/mac/HMacWhirlpoolSpi.java,
        gnu/javax/crypto/jce/mac/MacAdapter.java,
        gnu/javax/crypto/jce/mac/OMacAnubisImpl.java,
        gnu/javax/crypto/jce/mac/OMacBlowfishImpl.java,
        gnu/javax/crypto/jce/mac/OMacCast5Impl.java,
        gnu/javax/crypto/jce/mac/OMacDESImpl.java,
        gnu/javax/crypto/jce/mac/OMacImpl.java,
        gnu/javax/crypto/jce/mac/OMacKhazadImpl.java,
        gnu/javax/crypto/jce/mac/OMacRijndaelImpl.java,
        gnu/javax/crypto/jce/mac/OMacSerpentImpl.java,
        gnu/javax/crypto/jce/mac/OMacSquareImpl.java,
        gnu/javax/crypto/jce/mac/OMacTripleDESImpl.java,
        gnu/javax/crypto/jce/mac/OMacTwofishImpl.java,
        gnu/javax/crypto/jce/mac/TMMH16Spi.java,
        gnu/javax/crypto/jce/mac/UHash32Spi.java,
        gnu/javax/crypto/jce/mac/UMac32Spi.java,
        gnu/javax/crypto/jce/params/BlockCipherParameters.java,
        gnu/javax/crypto/jce/params/DEREncodingException.java,
        gnu/javax/crypto/jce/params/DERReader.java,
        gnu/javax/crypto/jce/params/DERWriter.java,
        gnu/javax/crypto/jce/prng/ARCFourRandomSpi.java,
        gnu/javax/crypto/jce/prng/CSPRNGSpi.java,
        gnu/javax/crypto/jce/prng/FortunaImpl.java,
        gnu/javax/crypto/jce/prng/ICMRandomSpi.java,
        gnu/javax/crypto/jce/prng/UMacRandomSpi.java,
        gnu/javax/crypto/jce/spec/BlockCipherParameterSpec.java,
        gnu/javax/crypto/jce/spec/TMMHParameterSpec.java,
        gnu/javax/crypto/jce/spec/UMac32ParameterSpec.java,
        gnu/javax/crypto/key/BaseKeyAgreementParty.java,
        gnu/javax/crypto/key/GnuSecretKey.java,
        gnu/javax/crypto/key/IKeyAgreementParty.java,
        gnu/javax/crypto/key/IncomingMessage.java,
        gnu/javax/crypto/key/KeyAgreementException.java,
        gnu/javax/crypto/key/KeyAgreementFactory.java,
        gnu/javax/crypto/key/OutgoingMessage.java,
        gnu/javax/crypto/key/dh/DHKeyPairRawCodec.java,
        gnu/javax/crypto/key/dh/DiffieHellmanKeyAgreement.java,
        gnu/javax/crypto/key/dh/DiffieHellmanReceiver.java,
        gnu/javax/crypto/key/dh/DiffieHellmanSender.java,
        gnu/javax/crypto/key/dh/ElGamalKeyAgreement.java,
        gnu/javax/crypto/key/dh/ElGamalReceiver.java,
        gnu/javax/crypto/key/dh/ElGamalSender.java,
        gnu/javax/crypto/key/dh/GnuDHKey.java,
        gnu/javax/crypto/key/dh/GnuDHKeyPairGenerator.java,
        gnu/javax/crypto/key/dh/GnuDHPrivateKey.java,
        gnu/javax/crypto/key/dh/GnuDHPublicKey.java,
        gnu/javax/crypto/key/dh/RFC2631.java,
        gnu/javax/crypto/key/srp6/SRP6Host.java,
        gnu/javax/crypto/key/srp6/SRP6KeyAgreement.java,
        gnu/javax/crypto/key/srp6/SRP6SaslClient.java,
        gnu/javax/crypto/key/srp6/SRP6SaslServer.java,
        gnu/javax/crypto/key/srp6/SRP6TLSClient.java,
        gnu/javax/crypto/key/srp6/SRP6TLSServer.java,
        gnu/javax/crypto/key/srp6/SRP6User.java,
        gnu/javax/crypto/key/srp6/SRPAlgorithm.java,
        gnu/javax/crypto/key/srp6/SRPKey.java,
        gnu/javax/crypto/key/srp6/SRPKeyPairGenerator.java,
        gnu/javax/crypto/key/srp6/SRPKeyPairRawCodec.java,
        gnu/javax/crypto/key/srp6/SRPPrivateKey.java,
        gnu/javax/crypto/key/srp6/SRPPublicKey.java,
        gnu/javax/crypto/keyring/AuthenticatedEntry.java,
        gnu/javax/crypto/keyring/BaseKeyring.java,
        gnu/javax/crypto/keyring/BinaryDataEntry.java,
        gnu/javax/crypto/keyring/CertPathEntry.java,
        gnu/javax/crypto/keyring/CertificateEntry.java,
        gnu/javax/crypto/keyring/CompressedEntry.java,
        gnu/javax/crypto/keyring/EncryptedEntry.java,
        gnu/javax/crypto/keyring/Entry.java,
        gnu/javax/crypto/keyring/EnvelopeEntry.java,
        gnu/javax/crypto/keyring/GnuPrivateKeyring.java,
        gnu/javax/crypto/keyring/GnuPublicKeyring.java,
        gnu/javax/crypto/keyring/IKeyring.java,
        gnu/javax/crypto/keyring/IPrivateKeyring.java,
        gnu/javax/crypto/keyring/IPublicKeyring.java,
        gnu/javax/crypto/keyring/MalformedKeyringException.java,
        gnu/javax/crypto/keyring/MaskableEnvelopeEntry.java,
        gnu/javax/crypto/keyring/MeteredInputStream.java,
        gnu/javax/crypto/keyring/PasswordAuthenticatedEntry.java,
        gnu/javax/crypto/keyring/PasswordEncryptedEntry.java,
        gnu/javax/crypto/keyring/PasswordProtectedEntry.java,
        gnu/javax/crypto/keyring/PrimitiveEntry.java,
        gnu/javax/crypto/keyring/PrivateKeyEntry.java,
        gnu/javax/crypto/keyring/Properties.java,
        gnu/javax/crypto/keyring/PublicKeyEntry.java,
        gnu/javax/crypto/mac/BaseMac.java,
        gnu/javax/crypto/mac/HMac.java,
        gnu/javax/crypto/mac/HMacFactory.java,
        gnu/javax/crypto/mac/IMac.java,
        gnu/javax/crypto/mac/MacFactory.java,
        gnu/javax/crypto/mac/MacInputStream.java,
        gnu/javax/crypto/mac/MacOutputStream.java,
        gnu/javax/crypto/mac/OMAC.java,
        gnu/javax/crypto/mac/TMMH16.java,
        gnu/javax/crypto/mac/UHash32.java,
        gnu/javax/crypto/mac/UMac32.java,
        gnu/javax/crypto/mode/BaseMode.java,
        gnu/javax/crypto/mode/CBC.java,
        gnu/javax/crypto/mode/CFB.java,
        gnu/javax/crypto/mode/CTR.java,
        gnu/javax/crypto/mode/EAX.java,
        gnu/javax/crypto/mode/ECB.java,
        gnu/javax/crypto/mode/IAuthenticatedMode.java,
        gnu/javax/crypto/mode/ICM.java,
        gnu/javax/crypto/mode/IMode.java,
        gnu/javax/crypto/mode/ModeFactory.java,
        gnu/javax/crypto/mode/OFB.java,
        gnu/javax/crypto/pad/BasePad.java,
        gnu/javax/crypto/pad/IPad.java,
        gnu/javax/crypto/pad/PKCS1_V1_5.java,
        gnu/javax/crypto/pad/PKCS7.java,
        gnu/javax/crypto/pad/PadFactory.java,
        gnu/javax/crypto/pad/SSL3.java,
        gnu/javax/crypto/pad/TBC.java,
        gnu/javax/crypto/pad/TLS1.java,
        gnu/javax/crypto/pad/WrongPaddingException.java,
        gnu/javax/crypto/prng/ARCFour.java,
        gnu/javax/crypto/prng/CSPRNG.java,
        gnu/javax/crypto/prng/Fortuna.java,
        gnu/javax/crypto/prng/ICMGenerator.java,
        gnu/javax/crypto/prng/IPBE.java,
        gnu/javax/crypto/prng/PBKDF2.java,
        gnu/javax/crypto/prng/PRNGFactory.java,
        gnu/javax/crypto/prng/UMacGenerator.java,
        gnu/javax/crypto/sasl/AuthInfo.java,
        gnu/javax/crypto/sasl/AuthInfoProviderFactory.java,
        gnu/javax/crypto/sasl/ClientFactory.java,
        gnu/javax/crypto/sasl/ClientMechanism.java,
        gnu/javax/crypto/sasl/ConfidentialityException.java,
        gnu/javax/crypto/sasl/IAuthInfoProvider.java,
        gnu/javax/crypto/sasl/IAuthInfoProviderFactory.java,
        gnu/javax/crypto/sasl/IllegalMechanismStateException.java,
        gnu/javax/crypto/sasl/InputBuffer.java,
        gnu/javax/crypto/sasl/IntegrityException.java,
        gnu/javax/crypto/sasl/NoSuchMechanismException.java,
        gnu/javax/crypto/sasl/NoSuchUserException.java,
        gnu/javax/crypto/sasl/OutputBuffer.java,
        gnu/javax/crypto/sasl/SaslEncodingException.java,
        gnu/javax/crypto/sasl/SaslInputStream.java,
        gnu/javax/crypto/sasl/SaslOutputStream.java,
        gnu/javax/crypto/sasl/SaslUtil.java,
        gnu/javax/crypto/sasl/ServerFactory.java,
        gnu/javax/crypto/sasl/ServerMechanism.java,
        gnu/javax/crypto/sasl/UserAlreadyExistsException.java,
        gnu/javax/crypto/sasl/anonymous/AnonymousClient.java,
        gnu/javax/crypto/sasl/anonymous/AnonymousServer.java,
        gnu/javax/crypto/sasl/anonymous/AnonymousUtil.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5AuthInfoProvider.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Client.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Registry.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Server.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Util.java,
        gnu/javax/crypto/sasl/crammd5/PasswordFile.java,
        gnu/javax/crypto/sasl/plain/PasswordFile.java,
        gnu/javax/crypto/sasl/plain/PlainAuthInfoProvider.java,
        gnu/javax/crypto/sasl/plain/PlainClient.java,
        gnu/javax/crypto/sasl/plain/PlainRegistry.java,
        gnu/javax/crypto/sasl/plain/PlainServer.java,
        gnu/javax/crypto/sasl/srp/CALG.java,
        gnu/javax/crypto/sasl/srp/ClientStore.java,
        gnu/javax/crypto/sasl/srp/IALG.java,
        gnu/javax/crypto/sasl/srp/KDF.java,
        gnu/javax/crypto/sasl/srp/PasswordFile.java,
        gnu/javax/crypto/sasl/srp/SRP.java,
        gnu/javax/crypto/sasl/srp/SRPAuthInfoProvider.java,
        gnu/javax/crypto/sasl/srp/SRPClient.java,
        gnu/javax/crypto/sasl/srp/SRPRegistry.java,
        gnu/javax/crypto/sasl/srp/SRPServer.java,
        gnu/javax/crypto/sasl/srp/SecurityContext.java,
        gnu/javax/crypto/sasl/srp/ServerStore.java,
        gnu/javax/crypto/sasl/srp/StoreEntry.java,
        gnu/javax/net/ssl/Base64.java,
        gnu/javax/net/ssl/EntropySource.java,
        gnu/javax/net/ssl/NullManagerParameters.java,
        gnu/javax/net/ssl/PrivateCredentials.java,
        gnu/javax/net/ssl/SRPManagerParameters.java,
        gnu/javax/net/ssl/SRPTrustManager.java,
        gnu/javax/net/ssl/StaticTrustAnchors.java,
        gnu/javax/net/ssl/provider/Alert.java,
        gnu/javax/net/ssl/provider/AlertException.java,
        gnu/javax/net/ssl/provider/Certificate.java,
        gnu/javax/net/ssl/provider/CertificateRequest.java,
        gnu/javax/net/ssl/provider/CertificateType.java,
        gnu/javax/net/ssl/provider/CertificateVerify.java,
        gnu/javax/net/ssl/provider/CipherSuite.java,
        gnu/javax/net/ssl/provider/ClientHello.java,
        gnu/javax/net/ssl/provider/ClientKeyExchange.java,
        gnu/javax/net/ssl/provider/CompressionMethod.java,
        gnu/javax/net/ssl/provider/Constructed.java,
        gnu/javax/net/ssl/provider/ContentType.java,
        gnu/javax/net/ssl/provider/Context.java,
        gnu/javax/net/ssl/provider/DiffieHellman.java,
        gnu/javax/net/ssl/provider/DigestInputStream.java,
        gnu/javax/net/ssl/provider/DigestOutputStream.java,
        gnu/javax/net/ssl/provider/Enumerated.java,
        gnu/javax/net/ssl/provider/Extension.java,
        gnu/javax/net/ssl/provider/Extensions.java,
        gnu/javax/net/ssl/provider/Finished.java,
        gnu/javax/net/ssl/provider/GNUSecurityParameters.java,
        gnu/javax/net/ssl/provider/Handshake.java,
        gnu/javax/net/ssl/provider/JCESecurityParameters.java,
        gnu/javax/net/ssl/provider/JDBCSessionContext.java,
        gnu/javax/net/ssl/provider/Jessie.java,
        gnu/javax/net/ssl/provider/JessieDHPrivateKey.java,
        gnu/javax/net/ssl/provider/JessieDHPublicKey.java,
        gnu/javax/net/ssl/provider/JessieRSAPrivateKey.java,
        gnu/javax/net/ssl/provider/JessieRSAPublicKey.java,
        gnu/javax/net/ssl/provider/KeyPool.java,
        gnu/javax/net/ssl/provider/MacException.java,
        gnu/javax/net/ssl/provider/OverflowException.java,
        gnu/javax/net/ssl/provider/PRNG.java,
        gnu/javax/net/ssl/provider/ProtocolVersion.java,
        gnu/javax/net/ssl/provider/Random.java,
        gnu/javax/net/ssl/provider/RecordInput.java,
        gnu/javax/net/ssl/provider/RecordInputStream.java,
        gnu/javax/net/ssl/provider/RecordOutputStream.java,
        gnu/javax/net/ssl/provider/RecordingInputStream.java,
        gnu/javax/net/ssl/provider/SRPTrustManagerFactory.java,
        gnu/javax/net/ssl/provider/SSLHMac.java,
        gnu/javax/net/ssl/provider/SSLRSASignature.java,
        gnu/javax/net/ssl/provider/SSLRandom.java,
        gnu/javax/net/ssl/provider/SSLServerSocket.java,
        gnu/javax/net/ssl/provider/SSLServerSocketFactory.java,
        gnu/javax/net/ssl/provider/SSLSocket.java,
        gnu/javax/net/ssl/provider/SSLSocketFactory.java,
        gnu/javax/net/ssl/provider/SSLSocketInputStream.java,
        gnu/javax/net/ssl/provider/SSLSocketOutputStream.java,
        gnu/javax/net/ssl/provider/SecurityParameters.java,
        gnu/javax/net/ssl/provider/ServerHello.java,
        gnu/javax/net/ssl/provider/ServerKeyExchange.java,
        gnu/javax/net/ssl/provider/Session.java,
        gnu/javax/net/ssl/provider/SessionContext.java,
        gnu/javax/net/ssl/provider/Signature.java,
        gnu/javax/net/ssl/provider/SynchronizedRandom.java,
        gnu/javax/net/ssl/provider/TLSHMac.java,
        gnu/javax/net/ssl/provider/TLSRandom.java,
        gnu/javax/net/ssl/provider/Util.java,
        gnu/javax/net/ssl/provider/X509KeyManagerFactory.java,
        gnu/javax/net/ssl/provider/X509TrustManagerFactory.java,
        gnu/javax/net/ssl/provider/XMLSessionContext.java,
        gnu/javax/security/auth/Password.java,
        gnu/javax/security/auth/callback/AWTCallbackHandler.java,
        gnu/javax/security/auth/callback/AbstractCallbackHandler.java,
        gnu/javax/security/auth/callback/ConsoleCallbackHandler.java,
        gnu/javax/security/auth/callback/DefaultCallbackHandler.java,
        gnu/javax/security/auth/callback/GnuCallbacks.java,
        gnu/javax/security/auth/callback/SwingCallbackHandler.java,
        gnu/java/security/Registry.java,
        gnu/java/security/Properties.java,
        gnu/java/security/hash/BaseHash.java,
        gnu/java/security/hash/HashFactory.java,
        gnu/java/security/hash/Haval.java,
        gnu/java/security/hash/IMessageDigest.java,
        gnu/java/security/hash/MD2.java,
        gnu/java/security/hash/MD4.java,
        gnu/java/security/hash/MD5.java,
        gnu/java/security/hash/RipeMD128.java,
        gnu/java/security/hash/RipeMD160.java,
        gnu/java/security/hash/Sha160.java,
        gnu/java/security/hash/Sha256.java,
        gnu/java/security/hash/Sha384.java,
        gnu/java/security/hash/Sha512.java,
        gnu/java/security/hash/Tiger.java,
        gnu/java/security/hash/Whirlpool.java,
        gnu/java/security/jce/hash/HavalSpi.java,
        gnu/java/security/jce/hash/MD2Spi.java,
        gnu/java/security/jce/hash/MD4Spi.java,
        gnu/java/security/jce/hash/MD5Spi.java,
        gnu/java/security/jce/hash/MessageDigestAdapter.java,
        gnu/java/security/jce/hash/RipeMD128Spi.java,
        gnu/java/security/jce/hash/RipeMD160Spi.java,
        gnu/java/security/jce/hash/Sha160Spi.java,
        gnu/java/security/jce/hash/Sha256Spi.java,
        gnu/java/security/jce/hash/Sha384Spi.java,
        gnu/java/security/jce/hash/Sha512Spi.java,
        gnu/java/security/jce/hash/TigerSpi.java,
        gnu/java/security/jce/hash/WhirlpoolSpi.java,
        gnu/java/security/jce/prng/HavalRandomSpi.java,
        gnu/java/security/jce/prng/MD2RandomSpi.java,
        gnu/java/security/jce/prng/MD4RandomSpi.java,
        gnu/java/security/jce/prng/MD5RandomSpi.java,
        gnu/java/security/jce/prng/RipeMD128RandomSpi.java,
        gnu/java/security/jce/prng/RipeMD160RandomSpi.java,
        gnu/java/security/jce/prng/SecureRandomAdapter.java,
        gnu/java/security/jce/prng/Sha160RandomSpi.java,
        gnu/java/security/jce/prng/Sha256RandomSpi.java,
        gnu/java/security/jce/prng/Sha384RandomSpi.java,
        gnu/java/security/jce/prng/Sha512RandomSpi.java,
        gnu/java/security/jce/prng/TigerRandomSpi.java,
        gnu/java/security/jce/prng/WhirlpoolRandomSpi.java,
        gnu/java/security/jce/sig/DSSKeyPairGeneratorSpi.java,
        gnu/java/security/jce/sig/DSSRawSignatureSpi.java,
        gnu/java/security/jce/sig/KeyPairGeneratorAdapter.java,
        gnu/java/security/jce/sig/RSAKeyPairGeneratorSpi.java,
        gnu/java/security/jce/sig/RSAPSSRawSignatureSpi.java,
        gnu/java/security/jce/sig/SignatureAdapter.java,
        gnu/java/security/key/IKeyPairCodec.java,
        gnu/java/security/key/IKeyPairGenerator.java,
        gnu/java/security/key/KeyPairCodecFactory.java,
        gnu/java/security/key/KeyPairGeneratorFactory.java,
        gnu/java/security/key/dss/DSSKey.java,
        gnu/java/security/key/dss/DSSKeyPairGenerator.java,
        gnu/java/security/key/dss/DSSKeyPairRawCodec.java,
        gnu/java/security/key/dss/DSSPrivateKey.java,
        gnu/java/security/key/dss/DSSPublicKey.java,
        gnu/java/security/key/dss/FIPS186.java,
        gnu/java/security/key/rsa/GnuRSAKey.java,
        gnu/java/security/key/rsa/GnuRSAPrivateKey.java,
        gnu/java/security/key/rsa/GnuRSAPublicKey.java,
        gnu/java/security/key/rsa/RSAKeyPairGenerator.java,
        gnu/java/security/key/rsa/RSAKeyPairRawCodec.java,
        gnu/java/security/prng/BasePRNG.java,
        gnu/java/security/prng/EntropySource.java,
        gnu/java/security/prng/IRandom.java,
        gnu/java/security/prng/LimitReachedException.java,
        gnu/java/security/prng/MDGenerator.java,
        gnu/java/security/prng/PRNGFactory.java,
        gnu/java/security/prng/RandomEvent.java,
        gnu/java/security/prng/RandomEventListener.java,
        gnu/java/security/sig/BaseSignature.java,
        gnu/java/security/sig/ISignature.java,
        gnu/java/security/sig/ISignatureCodec.java,
        gnu/java/security/sig/SignatureFactory.java,
        gnu/java/security/sig/dss/DSSSignature.java,
        gnu/java/security/sig/dss/DSSSignatureRawCodec.java,
        gnu/java/security/sig/rsa/EME_PKCS1_V1_5.java,
        gnu/java/security/sig/rsa/EMSA_PKCS1_V1_5.java,
        gnu/java/security/sig/rsa/EMSA_PSS.java,
        gnu/java/security/sig/rsa/RSA.java,
        gnu/java/security/sig/rsa/RSAPKCS1V1_5Signature.java,
        gnu/java/security/sig/rsa/RSAPSSSignature.java,
        gnu/java/security/sig/rsa/RSAPSSSignatureRawCodec.java,
        gnu/java/security/util/Base64.java,
        gnu/java/security/util/ExpirableObject.java,
        gnu/java/security/util/Prime2.java,
        gnu/java/security/util/Sequence.java,
        gnu/java/security/util/SimpleList.java,
        gnu/java/security/util/Util.java,
	resource/gnu/javax/security/auth/callback/MessagesBundle.properties:
	new files imported from GNU Crypto and Jessie.

2006-01-25  Tom Tromey  <tromey@redhat.com>

	* gnu/java/net/protocol/http/ChunkedInputStream.java (read):
	Fixed calculation of number of bytes to read.
	(size, count, meta, eof): Document.

2006-01-25  Anthony Balkissoon  <abalkiss@redhat.com>

	* java/lang/Character.java:
	(codePointCount(char[], int, int)): New API method.
	(codePointCount(CharSequence, int, int)): Likewise.

2006-01-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	PR 25205
	* javax/swing/DefaultCellEditor.java (getTreeCellEditorComponent): 
	Rewritten.
	* javax/swing/JTree.java (stopEditing, cancelEditing): Return without 
	action if not editing.
	* javax/swing/plaf/basic/BasicTreeUI.java 
	(CellEditorHandler.editingCancelled): Delegate to cancelEditing.
	(CellEditorHandler.editingStopped): Delegate to stopEditing.
	(EditorUpdateTimer): Removed.
	(TreeAction.actionPerformed): Stop and not cancel the current editing 
	when starting editing another node.
	(editorTimer, newVal): Removed.
	(cancelEditing): Do not send the cancel message.
	(completeEditing): Obtain the edited value from the editor.
	(finish): New method.
	(paintRow): Do not paint the editing component here.
	(startEditing, stopEditing): Rewritten.
	* javax/swing/tree/DefaultTreeCellEditor.java
	(DefaultTextField): Added SVUID.
	(EditorContainer): Rewritten.
	(RealEditorListener): New inner class.
	(ICON_TEXT_GAP, TREE_ICON_GAP: New constants).
	(constructor): Add cell editor listener. Do not instantiate timer.
	(actionPerformed): Return without action.
	(cancelCellEditing): Rewritten.
	(createTreeCellEditor): Add cell editor listener to the editor.
	(getCellEditorValue): Request the value from the realEditor.
	(isCellEditable): Removed timer management.
	(prepareForEditing): Remove all components befor adding the 
	editingComponent.
	(startEditingTimer): Start only if it is not null.
	(stopCellEditing): Rewritten.
	(stopEditingTimer): New method.
	(valueChanged): Do not configure editing component here.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/FormView.java: New file.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JSplitPane.java
	(addImpl): Call resetToPreferredSizes() when no dividerLocation
	has been set in order to set an initial layout.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicHorizontalLayoutManager.layoutContainer): Fixed error for
	layout of the right component.
	(BasicHorizontalLayoutManager.resetToPreferredSizes): Set the
	dividerLocation to the size of the left component.
	(createDefaultNonContinuousLayoutDivider): Fetch the color from
	the UIManager.
	(setDividerLocation): Don't validate the location here. Sometimes
	the divider needs to be set to an invalid location.
	(startDragging): Don't revalidate and repaint here.
	(finishDraggingTo): Don't repaint here. Also, don't call
	dragDividerTo() here.
	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Added SplitPaneDivider.draggingColor
	default value.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JSplitPane.java
	(addImpl): Removed invalidate() and layout() call.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(PropertyHandler.propertyChange): Remove layoutContainer() and
	repaint() call.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* configure.ac
	* native/Makefile.am
	* native/jni/classpath/Makefile.am
	* native/jni/classpath/jcl.c
	* native/jni/classpath/jcl.h
	* native/jni/classpath/native_state.c
	* native/jni/gtk-peer/Makefile.am
	* native/jni/java-io/Makefile.am
	* native/jni/java-io/java_io_VMFile.c
	* native/jni/java-io/java_io_VMObjectStreamClass.c
	* native/jni/java-lang/Makefile.am
	* native/jni/java-net/Makefile.am
	* native/jni/java-net/java_net_VMInetAddress.c
	* native/jni/java-net/javanet.c
	* native/jni/java-net/javanet.h
	* native/jni/java-nio/Makefile.am
	* native/jni/java-nio/gnu_java_nio_VMPipe.c
	* native/jni/java-nio/gnu_java_nio_VMSelector.c
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
	* native/jni/java-nio/java_nio_MappedByteBufferImpl.c
	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c
	* native/jni/java-util/Makefile.am
	* native/jni/java-util/java_util_VMTimeZone.c
	* native/jni/midi-dssi/Makefile.am
	* native/jni/xmlj/Makefile.am
	* native/target/Makefile.am
	* native/target/Linux/target_native_math.h
	* native/target/Linux/target_native_memory.h
	* native/target/Linux/Makefile.am
	* native/target/Linux/target_native_io.h
	* native/target/Linux/target_native_math_float.h
	* native/target/Linux/target_native_math_int.h
	* native/target/generic/target_generic.c
	* native/target/generic/target_generic_io.c
	* native/target/generic/target_generic_math.h
	* native/target/generic/target_generic_memory.h
	* native/target/generic/target_generic_misc.c
	* native/target/generic/target_generic_network.c
	* native/target/generic/Makefile.am
	* native/target/generic/target_generic.h
	* native/target/generic/target_generic_file.h
	* native/target/generic/target_generic_io.h
	* native/target/generic/target_generic_math_float.h
	* native/target/generic/target_generic_math_int.h
	* native/target/generic/target_generic_misc.h
	* native/target/generic/target_generic_network.h:
	Reverted target native related changes back to the state of the
	0.20 release.
	* native/target/MinGW/.cvsignore
	* native/target/MinGW/Makefile.am
	* native/target/MinGW/target_native.h
	* native/target/MinGW/target_native_file.h
	* native/target/MinGW/target_native_io.h
	* native/target/MinGW/target_native_math.h
	* native/target/MinGW/target_native_memory.h
	* native/target/MinGW/target_native_misc.h
	* native/target/MinGW/target_native_network.h
	* native/target/RTEMS/.cvsignore
	* native/target/RTEMS/Makefile.am
	* native/target/RTEMS/target_native.h
	* native/target/RTEMS/target_native_file.h
	* native/target/RTEMS/target_native_io.h
	* native/target/RTEMS/target_native_math.h
	* native/target/RTEMS/target_native_memory.h
	* native/target/RTEMS/target_native_misc.h
	* native/target/RTEMS/target_native_network.h
	* native/target/SunOS/.cvsignore
	* native/target/SunOS/Makefile.am
	* native/target/SunOS/target_native.h
	* native/target/SunOS/target_native_file.h
	* native/target/SunOS/target_native_io.h
	* native/target/SunOS/target_native_math.h
	* native/target/SunOS/target_native_memory.h
	* native/target/SunOS/target_native_misc.h
	* native/target/SunOS/target_native_network.h
	* native/target/embOS/.cvsignore
	* native/target/embOS/Makefile.am
	* native/target/embOS/target_native.h
	* native/target/embOS/target_native_file.h
	* native/target/embOS/target_native_io.c
	* native/target/embOS/target_native_io.h
	* native/target/embOS/target_native_math.h
	* native/target/embOS/target_native_memory.h
	* native/target/embOS/target_native_misc.h
	* native/target/embOS/target_native_network.h
	* native/target/posix/.cvsignore
	* native/target/posix/Makefile.am
	* native/target/posix/target_posix.c
	* native/target/posix/target_posix.h
	* native/target/posix/target_posix_file.c
	* native/target/posix/target_posix_file.h
	* native/target/posix/target_posix_io.c
	* native/target/posix/target_posix_io.h
	* native/target/posix/target_posix_math.c
	* native/target/posix/target_posix_math.h
	* native/target/posix/target_posix_memory.c
	* native/target/posix/target_posix_memory.h
	* native/target/posix/target_posix_misc.c
	* native/target/posix/target_posix_misc.h
	* native/target/posix/target_posix_network.c
	* native/target/posix/target_posix_network.h:
	Removed.

2006-01-24  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/PrintService.java,
	* javax/print/DocPrintJob.java,
	* javax/print/CancelablePrintJob.java:
	Added and enhanced api documentation for class and methods.		

2006-01-24  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/SimpleDoc.java: Make class final.
	* javax/print/attribute/standard/PrinterIsAcceptingJobs.java: Likewise.
	* javax/print/attribute/DateTimeSyntax.java: 
	(toString): New overridden method.
	* javax/print/attribute/standard/JobStateReasons.java:
	(add): Use the super.add method to avoid recursion.
	* javax/print/attribute/standard/PrinterStateReasons.java: 
	(put): Use the super.put method to avoid recursion.

2006-01-24  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/XMLEncoder.java:
	(writeExpression): Added early return (fixes PR #25941).
	(setExceptionListener, anonymous Class): Removed printStackTrace
	call.
	* java/beans/Encoder: Removed unused imports.
	(setupDefaultPersistenceDelegates): Removed unneccessary
	PersistenceDelegates for subclasses.
	* java/beans/PersistenceDelegate:
	(initialize): Use local variable as first argument as it was
	intended once.
	* java/beans/DefaultPersistenceDelegate:
	(initialize): Added call to superclass' implementation, added
	early return.

2006-01-24  Tom Tromey  <tromey@redhat.com>

	* java/util/regex/PatternSyntaxException.java: Added @since.
	* java/util/regex/Matcher.java (Matcher): Implements MatchResult.
	* java/util/regex/MatchResult.java: New file.

2006-01-24  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StringContent.java: Added API docs all over, plus 
	minor reformatting.

2006-01-24  Gary Benson  <gbenson@redhat.com>

	* java/net/SocketPermission.java: Implemented serialization.

2006-01-24  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StringContent.java
	(remove): Modified argument check to prevent removal of last character,
	(getChars): Removed null argument check to allow NullPointerException,
	added API docs,
	(checkLocation): Added API docs and white space.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Should only call createFracture with 
	StartTagType. Added check.
	(insertContentTag): Should use the tags length for splitting.
	Also, added a check to determine if current's start and end offset are
	equal to the offset and endOffset. If so, only one leaf element
	should be added. 
	(createFracture): Removed FIXME. This function is complete.
	(split): Added calls to replace. Changed so the child is 
	added immediately to the paragraph. Prevents NPEs.

2006-01-23  Mark Wielaard  <mark@klomp.org>

	* examples/Makefile.am (EXAMPLE_ZIP): Group cd and commands.

2006-01-23  Tom Tromey  <tromey@redhat.com>

	* gnu/java/security/x509/X509Certificate.java (parse):
	Unconditionally read value; for version==1 case when reading
	algorithm ID.

2006-01-23  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/synth/ColorType.java,
	* javax/swing/plaf/synth/Region.java,
	* javax/swing/plaf/synth/SynthConstants.java,
	* javax/swing/plaf/synth/SynthContext.java
	* javax/swing/plaf/synth/SynthGraphicsUtils.java,
	* javax/swing/plaf/synth/SynthLookAndFeel.java,
	* javax/swing/plaf/synth/SynthPainter.java,
	* javax/swing/plaf/synth/SynthStyle.java,
	* javax/swing/plaf/synth/SynthStyleFactory.java,
	* javax/swing/plaf/synth/package.html:
	New files. Added the public API and framework classes for the
	Synth look and feel.

2006-01-23  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/Segment.java: API docs all over.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(split): Should not use createLeafElement and createBranchElement here.
	We should just instaniate the LeafElements and BranchElements instead 
	to avoid the case where create*Element is overridden.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertFirstContentTag): Moved check outside of if-statement.
	This should be checked before creating the new leaf element.
	(insertFracture): Fixed check to prevent an NPE. The previous
	leaf should only be recreated if it has been created by
	insertFirstContentTag. Also, fixed up code: if the endOffset is
	greater than the offset, then we need to create a temp leaf
	as a place holder. Otherwise, the leaf elements should be
	created normally.

2006-01-23  Gary Benson  <gbenson@redhat.com>

	* java/net/SocketPermission.java: Almost completely rewritten.

2006-01-23  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/DefaultStyledDocument.java
	(insertFracture): Set temp leaf's attributes to prevent an NPE.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Formatted ElementBuffer and added new fields.
	(remove): Added check to determine if length is 0.
	(insertFirstContentTag): Initialized firstCreated to the element that is created 
	by the first tag encountered. Removed check in JoinPreviousDirection case, no
	longer needed. In OriginateDirection case, added a loop to remove all old leafs
	that have been recreated.
	(insertContentTag): Cleaned up code. Removed checks that did not do anything.
	(insertFracture): Fixed up code, removed unneeded objects and checks. Added
	FIXME tags to the lines that need to be rewritten.	

2006-01-23  Mark Wielaard  <mark@klomp.org>

	* examples/Makefile.am: Add support for fastjar.

2006-01-23  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/REToken.java(empty): Made Cloneable.
	* gnu/regexp/RETokenOneOf.java(match): RE.java(match):
	Use separate methods matchN and matchP depending on the
	boolean negative.
	(matchN): New method used when negative. Done as before.
	(matchP): New method used when not negative. Each token is
	tried not by itself but by a clone of it.

2006-01-23  Chris Burdess  <dog@gnu.org>

	Fixes bug #25906
	* gnu/xml/dom/DomCharacterData.java: Use a separate empty node list
	  class to avoid getLength method contention.
	* gnu/xml/stream/SAXParser.java: Rethrow correct exception.

2006-01-23  Chris Burdess  <dog@gnu.org>

	* native/jni/java-util/Makefile.am: Include library required
	  explicitly by BSD systems.
	* native/target/generic/target_generic_misc.h: Remove old commented
	  out code.
	* native/target/generic/target_generic_network.h: Fallbacks (to
	  SO_NOSIGPIPE and then 0) for non-portable glibc MSG_NOSIGNAL.

2006-01-22  Tom Tromey  <tromey@redhat.com>

	* native/target/posix/.cvsignore: Added .deps.

2006-01-22  Mark Wielaard  <mark@klomp.org>

	Fixes bug #25832,
	reported by James Damour <James.Damour@corp.request.com>
	* java/awt/Container.java (addImpl): Use empty string as name when
	null constraints for LayoutManager.addLayoutComponent().

2006-01-22  Chris Burdess  <dog@gnu.org>

	Fixes bug #25903
	* gnu/xml/dom/DomDocumentBuilder.java: Default to using file URL
	  representing current directory as base for relative URLs.

2006-01-22  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #25837
	* gnu/regexp/REMatch.java(empty): New boolean indicating
	an empty string matched.
	* gnu/regexp/RE.java(match): Sets empty flag when an empty
	string matched.
	(initialize): Support back reference \10, \11, and so on.
	(parseInt): renamed from getEscapedChar and returns int.
	* gnu/regexp/RETokenRepeated.java(match): Sets empty flag
	when an empty string matched. Fixed a bug of the case where
	an empty string matched. Added special handling of {0}.
	* gnu/regexp/RETokenBackRef.java(match): Sets empty flag
	when an empty string matched. Fixed the case insensitive matching.

2006-01-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalSplitPaneDivider.java
	(paint): Added painting of border if one is installed.

2006-01-21  Roman Kennke  <kennke@aicas.com>

	PR classpath/25843:
	* javax/swing/plaf/basic/BasicBorders.java
	(getSplitPaneDividerBorder): Use new border constructor
	without arguments.
	(SplitPaneDividerBorder.highlight): Removed unneeded field.
	(SplitPaneDividerBorder.shadow): Removed unneeded field.
	(SplitPaneDividerBorder()): Changed constructor to do nothing. The
	colors are fetched dynamically in the paintBorder method.
	(SplitPaneDividerBorder.paintBorder): Fetch colors dynamically from
	the look and feel.
	(SplitPaneDividerBorder.isBorderOpaque): Returns true
	unconditionally.
	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Added default for SplitPaneDivider.border.
	* javax/swing/plaf/basic/BasicSplitPaneDivider.java
	(tmpBorder): Removed unneeded inner class.
	(BasicSplitPaneDivider): Removed setting of border.
	(setSplitPaneUI): Don't add the mouse handler to the splitpane
	itself.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicHorizontalLayoutManager.layoutContainer): Mostly rewritten
	to get behaviour right.
	(BasicHorizontalLayoutManager.distributeExtraSpace): Removed
	implementation. This must be rewritten since the layout now works
	slightly different (basically, it shouldn't modify the sizes[]
	here but instead the dividerLocation.
	(dividerLocation): New field.
	(installDefaults): Initialize border on divider.
	(uninstallDefaults): Only remove background color and border from
	splitPane if they are instances of UIDefaults (== not set by
	application).
	(setDividerLocation): Set the dividerLocation field instead of
	doing stunt acts here.
	(getDividerLocation): Return dividerLocation field.
	(getMinimumDividerLocation): Fixed calculation of minimum location.
	
2006-01-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* m4/acinclude.m4
	(CLASSPATH_WITH_GLIBJ): Add support for fastjar.

	* lib/Makefile.am: Likewise. 

2006-01-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/PopupFactory.java
	(getPopup): If there is no Swing root found in any way, use a
	heavyweight popup. This is useful for mixed Swing/AWT GUIs, or
	for the Swing AWT peers.

2006-01-20  Tom Tromey  <tromey@redhat.com>

	* gnu/java/net/protocol/http/HTTPURLConnection.java (connect):
	Read response body for redirect.

2006-01-20  Chris Burdess  <dog@gnu.org>

	* gnu/java/net/protocol/http/HTTPURLConnection.java: Don't follow
	  redirects on 304.

2006-01-20  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(pad): Removed, not needed.
	(printElements): Likewise.
	(printEdit): Likewise.

2006-01-20  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultFormatter.java
	(DefaultFormatter): Don't set a value class.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/DefaultCellEditor.java: Commented.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JOptionPane.java
	Added cast to Frame for JDialog constructor.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JWindow.java
	(JWindow(Window)): Fixed to accept null owner argument.
	(JWindow(Window,GraphicsConfiguration)): Fixed to accept null
	owner argument.
	* javax/swing/SwingUtilities.java
	(getOwnerFrame): Owner parameter and return value are fixed to
	be of type Window for compatibity with the above JWindow
	constructor.
	* javax/swing/JDialog.java
	(JDialog): Added cast to Frame to make sure the correct constructor
	is called.
	* javax/swing/JFileChooser.java
	(createDialog): Added cast to Frame for JDialog constructor.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (rowAtPoint): Rewritten.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JWindow.java: Added API docs to the constructors.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java: Commenting method headers.
	(EditorUpdateTimer): Removed.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JDialog.java
	(JDialog()): Call SwingUtilities.getOwnerFrame() with null.
	(JDialog(Frame,String,boolean,GraphicsConfiguration)): Call
	SwingUtilities.getOwnerFrame() with the owner argument.
	* javax/swing/JFileChooser.java
	(showOpenDialog(Component)): Call pack() on the dialog instead of
	setting	a fixed height.
	(showSaveDialog()): Likewise.
	(showDialog()): Likewise.
	(createDialog): Call SwingUtilities.getOwnerFrame() with null.
	* javax/swing/JOptionPane.java: Call SwingUtilities.getOwnerFrame()
	with null.
	* javax/swing/JWindow.java
	(JWindow()): Call SwingUtilities.getOwnerFrame() with null.
	(JWindow(Frame)): Call SwingUtilities.getOwnerFrame() with owner
	argument.
	* javax/swing/SwingUtilities.java
	(getOwnerFrame): Changed to take a owner parameter that is returned
	as owner frame when not null.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/swing/SwingFramePeer.java
	(handleMouseEvent): Fixed handling of mouse events.
	(handleMouseMotionEvent): Fixed handling of mouse events.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_misc.c:
	(targetGenericMisc_formatString): Added missing method.

2006-01-19  Wolfgang Baer  <WBaer@gmx.de>

	* m4/acinclude.m4: Test also for ecj found before exiting configure
	with no javac found error message. 

2006-01-19  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #23212
	* gnu/regexp/RE.java(initialize): Support escaped characters such as
	\0123, \x1B, \u1234.
	(getEscapedChar): New method.
	(CharExpression): New inner class.
	(getCharExpression): New Method.
	* gnu/regexp/RESyntax.java(RE_OCTAL_CHAR, RE_HEX_CHAR,
	RE_UNICODE_CHAR): New syntax bits.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* native/target/Makefile.am: Fixed so that posix stuff is really
	only built when requested.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (editingStopped, editingCancelled):
	Repaint the edited cell.
	(setValueAt): Do not add the value object to this container.
	(editorTimer, rowBeingEdited, columnBeingEdited, oldCellValue): Removed.
	(editingStopped): Use editingRow, editingColumn and not
	rowBeingEdited, columnBeingEdited. (editValueAt): rewritten.
	(doLayout): Move the editor component, if present, into the new
	location and call repaint(). (moveToCellBeingEdited): new method.
	(TableTextField): new inner class.
	(getDefaultEditor): Instantiante TableTextField, not JTextField.
	(setValueAt): Repaint the changed segment.
	(createDefaultEditors): Implemented.
	(BooleanCellRenderer): Center the checkbox and use the default foreground
	and background colors.   
	* javax/swing/plaf/basic/BasicTableUI.java
	(paintCell): Do not paint the caret here. Do not accept unused parameters.
	(paint): No need to allocate rectangle for each cell.   
	* javax/swing/DefaultCellEditor.java: Rewritten.         
	* examples/gnu/classpath/examples/swing/Demo.java (mkTable):
	Use TableDemo.java table example.
	* examples/gnu/classpath/examples/swing/TableDemo.java: New file.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* configure.ac: Added/fixed --enable-posix-layer option to enable
	build of posix layer.
	* native/target/Makefile.am: Added build for posix layer.

2006-01-19  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* configure.ac: Set TARGET to Linux per default.
	* native/target/Makefile.am (libtarget_la_LIBADD): Removed
	libtargetos.la.
	* native/target/Linux/Makefile.am: Don't build a libtargetos.la.
	* native/target/generic/Makefile.am (INCLUDES): Renamed to
	AM_CPPFLAGS.
	
2006-01-19  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/interfaces/RSAMultiPrimePrivateCrtKey.java: Replaced
	  what looked like proprietary documentation with original or new one.
	* java/security/spec/PSSParameterSpec.java: Likewise.
	* java/security/spec/RSAMultiPrimePrivateCrtKeySpec.java: Likewise.
	* java/security/spec/RSAOtherPrimeInfo.java: Likewise.
	* java/security/AlgorithmParameterGenerator.java: Likewise.
	* java/security/AlgorithmParameters.java: Likewise.
	* java/security/Identity.java: Likewise.
	* java/security/IdentityScope.java: Likewise.
	* java/security/KeyFactory.java: Likewise.
	* java/security/KeyPairGenerator.java: Likewise.
	* java/security/MessageDigest.java: Likewise.
	* java/security/Policy.java: Likewise.
	* java/security/ProtectionDomain.java: Likewise.
	* java/security/Security.java: Likewise.
	* java/security/Signature.java: Likewise.
	* java/security/SignatureSpi.java: Likewise.
	* java/security/SignedObject.java: Likewise.
	* java/security/Signer.java: Likewise.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* configure.ac: Added --enable-posix-layer option to enable
	build of the posix target layer.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/java_net_VMInetAddress.c
	(Java_java_net_VMInetAddress_lookupInaddrAny): Use target native macro
	for INADDR_ANY.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-util/java_util_VMTimeZone.c:
	(Java_java_util_VMTimeZone_getSystemTimeZoneId): Rewritten
	to use target native layer.
	(jint_to_charbuf): Removed unneeded helper function.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-nio/gnu_java_nio_VMPipe.c:
	Removed unnecessary include.
	* native/jni/java-nio/gnu_java_nio_VMSelector.c:
	Reorganized includes to only include sys/* headers when available.
	* native/jni/java-nio/java_nio_MappedByteBufferImpl.c:
	(get_pagesize): Return 0 when nothing else works.
	(Java_java_nio_MappedByteBufferImpl_unmapImpl):
	Replaced munmap() and strerror() with corresponding target macros.
	(Java_java_nio_MappedByteBufferImpl_isLoadedImpl):
	Replaced strerror() with corresponding target macro.
	(Java_java_nio_MappedByteBufferImpl_forceImpl):
	Replaced strerror() with corresponding target macro.
	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c:
	(Java_java_nio_VMDirectByteBuffer_allocate):
	Replaced malloc() with the corresponding target macro.
	(Java_java_nio_VMDirectByteBuffer_free):
	Replaced free() with the corresponding target macro.
	(Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_Pointer_2IB):
	Add index to pointer when assigning the value.
	(Java_java_nio_VMDirectByteBuffer_get__Lgnu_classpath_Pointer_2I_3BII):
	Replaced memcpy with corresponding target macro. Add index when
	doing the memcpy, not when fetching the pointer.
	(Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_Pointer_2I_3BII):
	Replaced memcpy with corresponding target macro.
	(Java_java_nio_VMDirectByteBuffer_shiftDown):
	Replaced memmove with the corresponding target macro.

2006-01-17  Tom Tromey  <tromey@redhat.com>

	PR classpath/20198:
	* java/net/URLClassLoader.java (FileURLLoader): Added argument.
	(JarURLLoader): Likewise.
	(addURLImpl): Canonicalize file URLs.

2006-01-17  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* configure.ac: Set TARGET.
	* native/Makefile.am, native/jni/classpath/Makefile.am,
	native/jni/gtk-peer/Makefile.am, native/jni/java-io/Makefile.am,
	native/jni/java-lang/Makefile.am, native/jni/java-net/Makefile.am,
	native/jni/java-nio/Makefile.am, native/jni/midi-dssi/Makefile.am,
	native/jni/xmlj/Makefile.am, native/target/Makefile.am,
	native/target/Linux/Makefile.am,
	native/target/generic/Makefile.am,
	native/target/posix/Makefile.am: Build libclasspath.so with jcl
	and target stuff linked in and link it against lib*.so libraries.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/javanet.c:
	(_javanet_connect): Changed type of some local variables to jint.
	Fixed error handling to throw a SocketTimeoutException if the
	connection attempt times out.
	(_javanet_bind): Changed type of some local variables to jint.
	(_javanet_accept): Likewise.
	(_javanet_recvfrom): Likewise.
	(_javanet_sendto): Fixed error handling to throw a
	PortUnreachableException when connection is refused.
	(_javanet_get_option): Changed type of some local variables to jint.
	Implemented SOCKOPT_SO_BROADCAST.
	(_javanet_shutdownInput): Replaced shutdown call with corresponding
	target native macro.
	(_javanet_shutdownOutput): Replaced shutdown call with corresponding
	target native macro.
	* native/jni/java-net/javanet.h:
	Defined SOCKET_TIMEOUT_EXCEPTION, PORT_UNREACHABLE_EXCEPTION and
	SOCKOPT_SO_BROADCAST.

2006-01-17  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insert): Cleaned up loop. No need to make so many calls
	to getAddedElements and getRemovedElements.
	(insertFracture): Removed unneeded array.

2006-01-17  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/JTextComponent.java
	(AccessibleJTextComponent): Implemented.
	(getCaretPosition): Implemented.
	(getSelectedText): Implemented.
	(getSelectionStart): Implemented.
	(getSelectionEnd): Implemented.
	(getSelectionEnd): Implemented.
	(getCharCount): Implemented.
	(insertTextAtIndex): Implemented.
	(getTextRange): Implemented.
	(delete): Implemented.
	(cut): Implemented.
	(paste): Implemented.
	(replaceText): Implemented.
	(selectText): Implemented.

2006-01-17  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(pad): New debugging method.
	(printElements): Likewise.
	(printPendingEdits): Likewise.
	(printElement): Likewise.
	(Edit): Improved docs, moved this class to be an inner class of
	ElementBuffer since it only applies within that scope.  Changed added 
	and removed to be Vectors instead of arrays because we need to be able 
	to add to them after construction.
	(ElementBuffer): Updated docs with link to article that helped in this
	classes implementation.
	(ElementBuffer.Edit.getRemovedElements): New method.
	(ElementBuffer.Edit.getAddedElements): Likewise.
	(ElementBuffer.Edit.addRemovedElement): Likewise.
	(ElementBuffer.Edit.addRemovedElements): Likewise.
	(ElementBuffer.Edit.addAddedElement): Likewise.
	(ElementBuffer.Edit.addAddedElements): Likewise.
	(ElementBuffer.Edit<init>): Improved docs, call addRemovedElements and 
	addAddedElements.
	(ElementBuffer.getEditForParagraphAndIndex): New method.
	(ElementBuffer.removeUpdate): Changed type of paragraph to 
	BranchElement.  Corrected style of adding the edit to use the new Edit
	facilities.
	(ElementBuffer.changeUpdate): Changed style of adding the edit to use
	the new Edit facilities.
	(ElementBuffer.split): Likewise.
	(ElementBuffer.insertParagraph): Likewise.
	(ElementBuffer.insertContentTag): Likewise.
	(ElementBuffer.insert): Push all BranchElements until the deepest one, 
	not just the root and the first one. Apply the structural changes to 
	the tree at the same time as updating the DocumentEvent.
	(ElementBuffer.insertUpdate): Fixed docs.  Removed the special case 
	handling of EndTags as the first ElementSpec.  Instead have to handle
	ContentTags as a special case if they are the first ElementSpec and if
	not have to fracture the tree.
	(ElementBuffer.createFracture): New method.  May not be complete yet.
	Added FIXME indicating what may remain to be done.
	(ElementBuffer.insertFirstContentTag): New method.
	(ElementBuffer.insertFracture): Added FIXME explaining what remains to
	be done.  Changed the adding of edits to use the new Edit facilities.
	Removed the adding of edits for Elements that weren't in the tree prior
	to the insertion.
	(insertUpdate): Removed incorrect condition for setting a StartTag's
	direction to JoinNextDirection.
	* javax/swing/text/StyleContent.java: 
	(SmallAttributeSet.toString): Fixed an off-by-one error in the loop 
	that was causing an ArrayOutOfBoundsException.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c:
	(Java_gnu_java_nio_channels_FileChannelImpl_init): Improved
	exception messages a little.
	(Java_gnu_java_nio_channels_FileChannelImpl_open): Provided
	alternative implementation for systems without filesystems.
	Replaced snprintf with the corresponding target native macro.
	(Java_gnu_java_nio_channels_FileChannelImpl_implCloseChannel):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_available): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_size): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_implPosition): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_seek):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_implTruncate):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_mapImpl): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_read__):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_read___3BII):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_write__I):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_force):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_write___3BII):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_lock): Reimplemented
	to use the corresponding target native macro.
	(Java_gnu_java_nio_channels_FileChannelImpl_unlock): Reimplemented
	to use the corresponding target native macro.

2006-01-17  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultTextUI.java:
	Added deprecated tag.
	* javax/swing/text/JTextComponent.java
	(AccessibleJTextComponent): Fixed API doc and
	partially implemented.
	(getCaretPosition): Fixed API doc and implemented.
	(getSelectedText): Fixed API doc.
	(getSelectionStart): Likewise.
	(getSelectionEnd): Likewise.
	(caretUpdate): Fixed API doc and
	partially implemented.
	(getAccessibleStateSet): Likewise.
	(getAccessibleRole): Fixed API doc and implemented.
	(getAccessibleEditableText): Implemented.
	(getAccessibleText): Fixed API doc and implemented.
	(insertUpdate): Fixed API doc.
	(changedUpdate): Likewise.
	(getIndexAtPoint): Likewise.
	(getRootEditorRect): Removed.
	(getCharacterBounds): Fixed API doc.
	(getCharCount): Likewise.
	(getCharacterAttribute): Likewise.
	(getAtIndex): Likewise.
	(getAfterIndex): Likewise.
	(getBeforeIndex): Likewise.
	(getAccessibleActionCount): Added function stub.
	(getAccessibleActionDescription): Added function,
	partially implemented.
	(doAccessibleAction): Added function stub.
	(setTextContents): Likewise.
	(insertTextAtIndex): Likewise.
	(delete): Likewise.
	(cut): Likewise.
	(paste): Likewise.
	(replaceText): Likewise.
	(selectText): Likewise.
	(setAttributes): Likewise.
	(getAccessibleContext): Implemented.

2006-01-17  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #25817
	* gnu/regexp/RETokenRange.java(constructor):
	Keep lo and hi as they are.
	(match): Changed the case insensitive comparison.

2006-01-17  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/RETokenChar.java(chain):
	Do not concatenate tokens whose insens flags are diffent.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_network.c:
	(targetGenericNetwork_receive): Fixed signature to match the
	corresponding .h file.
	(targetGenericNetwork_receiveWithAddressPort): Fixed signature
	to match the corresponding .h file.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/classpath/jcl.c:
	(JCL_malloc): Replaced calls to malloc with the corresponding
	target layer macro.
	(JCL_free): Replaced calls to free with the corresponding
	target layer macro.
	* native/jni/classpath/native_state.c:
	(cp_gtk_init_state_table_with_size): Replaced calls to malloc and
	calloc with the corresponding target layer macro.
	(remove_node): Replaced calls to free with the corresponding
	target layer macro.
	(add_node): Replaced calls to malloc with the corresponding
	target layer macro.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-io/java_io_VMObjectStreamClass.c:
	(getFieldReference): Use MALLOC/FREE macros for portability instead
	of direct call to malloc() and free().

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/classpath/jcl.c: Added missing imports.
	(JCL_realloc): Fixed signature to include oldsize. This is needed
	for some targets. Make this function use the MEMORY_REALLOC macro
	for portability.
	* native/jni/classpath/jcl.h
	(JCL_realloc): Adjusted signature.
	* native/jni/java-io/java_io_VMFile.c:
	(Java_java_io_VMFile_create): Use target layer macro for handling
	errno, for portability.
	(Java_java_io_VMFile_length): Release filename string in error cases
	before returning.
	(Java_java_io_VMFile_list): Initialize filename variable. Use new
	version of JCL_realloc.
	* native/jni/java-net/java_net_VMInetAddress.c:
	(Java_java_net_VMInetAddress_getHostByName): Use renamed macro
	TARGET_NATIVE_NETWORK_GET_HOSTADDRESS_BY_NAME.
	* native/jni/java-net/javanet.c:
	(_javanet_bind): Make errorstr variable const to avoid compiler
	warning.
	(_javanet_set_option): Fixed typo.
	(_javanet_get_option): Fixed typo.
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c:
	(Java_gnu_java_nio_channels_FileChannelImpl_open): Made
	error_string variable const to avoid compiler warning.
	* native/target/generic/target_generic_file.h:
	Replaced // comments with /* */ comments to avoid compiler warnings.
	Added some spaces to make code better readable.
	* native/target/generic/target_generic_memory.h:
	Replaced // comments with /* */ comments to avoid compiler warnings.
	* native/target/generic/target_generic_misc.c:
	Removed unused TARGET_NATIVE_MISC_FORMAT_STRING macro. This caused
	compiler warnings due to use of varargs.
	* native/target/generic/target_generic_misc.h:
	Removed unused TARGET_NATIVE_MISC_FORMAT_STRING macro. This caused
	compiler warnings due to use of varargs.
	* native/target/generic/target_generic_network.h:
	Replaced // comments with /* */ comments to avoid compiler warnings.
	(targetGenericNetwork_receive): Fixed signature to use signed chars
	for buffer parameter to avoid warning when passing a jbyte to the
	function.

2006-01-17  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StyleConstants.java
	(getAlignment): Removed isDefined() check, so that resolving parent is 
	used for lookup,
	(getBackground): Likewise, plus changed default value to Color.BLACK,
	(getBidiLevel): Removed isDefined() check,
	(getComponent): Likewise,
	(getFirstLineIndent): Likewise,
	(getFontFamily): Likewise,
	(getFontSize): Likewise,
	(getForeground): Likewise,
	(getIcon): Likewise,
	(getLeftIndent): Likewise,
	(getLineSpacing): Likewise,
	(getRightIndent): Likewise,
	(getSpaceAbove): Likewise,
	(getSpaceBelow): Likewise,
	(getTabSet): Likewise,
	(isBold): Likewise,
	(isItalic): Likewise,
	(isStrikeThrough): Likewise,
	(isSubscript): Likewise,
	(isSuperscript): Likewise,
	(isUnderline): Likewise.

2006-01-17  Gary Benson  <gbenson@redhat.com>

	* java/lang/System.java (setSecurityManager): Catch
	ClassNotFoundException not Throwable.

2006-01-16  Anthony Green  <green@redhat.com>

	PR classpath/25803
	* gnu/java/net/protocol/http/Request.java
	  (createResponseBodyStream): Remove Content-Encoding for
	  compressed streams.

2006-01-16  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/XMLParser.java,
	  gnu/xml/stream/XMLStreamWriterImpl.java: Thoroughly check
	  XMLStreamWriter arguments for conformance to the XML specifications.
	* gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/Template.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/xpath/LangFunction.java,
	  gnu/xml/xpath/Selector.java: better handling of template priorities;
	  fix indents when pretty-printing; recursive tests for xml:lang.
	* gnu/xml/util/XHTMLWriter.java,
	  gnu/xml/util/XMLWriter.java: Deprecate old serializer classes.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/MinGW/.cvsignore: New file.
	* native/target/RTEMS/.cvsignore: New file.
	* native/target/SunOS/.cvsignore: New file.
	* native/target/embOS/.cvsignore: New file.
	* native/target/posix/.cvsignore: New file.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StyleConstants.java: Updated API docs all over.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* configure.ac: Include new target native directories in build.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_file.h: Added missing
	include.
	* native/target/generic/target_generic_network.c: Fixed several
	typos and includes.
	* native/target/generic/target_generic_network.h: Likewise.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/Makefile.am: Adjusted SUBDIRS and DIST_SUBDIRS
	to include the new targets.
	* native/target/posix/Makefile.am: Fixed filenames.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/Makefile.am: Include new targets.
	* native/target/Linux/Makefile.am: Include new memory layer.
	* native/target/MinGW/Makefile.am: New file. Includes MinGW in dist.
	* native/target/RTEMS/Makefile.am: New file. Includes RTEMS in dist.
	* native/target/SunOS/Makefile.am: New file. Includes SunOS in dist.
	* native/target/embOS/Makefile.am: New file. Includes embOS in dist.
	* native/target/generic/Makefile.am: Include new memory and math
	layer.
	* native/target/posix/Makefile.am: New file. Includes posix in dist.

2006-01-16  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #22884
	* gnu/regexp/RE.java(initialize): Parse embedded flags.
	* gnu/regexp/RESyntax.java(RE_EMBEDDED_FLAGS): New syntax bit.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_network.c: Fixed typo.
	* native/target/generic/target_generic_network.h: Fixed typo.

2006-01-16  Nicolas Geoffray  <nicolas.geoffray@menlina.com>

	* doc/vmintegration.texinfo: Updated subsection of the
	java.lang.InstrumentationImpl documentation.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/RTEMS/target_native.h,
	* native/target/RTEMS/target_native_file.h,
	* native/target/RTEMS/target_native_io.h,
	* native/target/RTEMS/target_native_math.h,
	* native/target/RTEMS/target_native_memory.h,
	* native/target/RTEMS/target_native_misc.h,
	* native/target/RTEMS/target_native_network.h:
	New files. Implement the target native layer for the RTEMS platform.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/SunOS/target_native.h,
	* native/target/SunOS/target_native_file.h,
	* native/target/SunOS/target_native_io.h,
	* native/target/SunOS/target_native_math.h,
	* native/target/SunOS/target_native_memory.h,
	* native/target/SunOS/target_native_misc.h,
	* native/target/SunOS/target_native_network.h:
	New files. Implement the target native layer for the SunOS platform.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/MinGW/target_native.h,
	* native/target/MinGW/target_native_file.h,
	* native/target/MinGW/target_native_io.h,
	* native/target/MinGW/target_native_math.h,
	* native/target/MinGW/target_native_memory.h,
	* native/target/MinGW/target_native_misc.h,
	* native/target/MinGW/target_native_network.h:
	New files. Implement the target native layer for the MinGW
	platform.

2006-01-16  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	PR 25770
	* javax/swing/DefaultCellEditor.java
	(delegate): Assign new instance immediately.
	(DefaultCellEditor(JTextField textfield)): Require 2 clicks.
	(getTableCellEditorComponent): Rewritten.
	(prepareAsJTextField):New method (add listener only once).
	* javax/swing/JTable.java
	(editingCanceled): Rewritten.
	(editingStopped ): Rewritten.
	(rowAtPoint): Mind row margin.
	(getCellRect): Mind row margin.
	(getDefaultEditor): Removing JTextComponent border.
	(editCellAt): Rewritten.
	* javax/swing/plaf/basic/BasicTableUI.java (MouseInputHandler):
	Activate editing mode by the mouse clicks.
	(getMaximumSize): Mind row margin.
	(getPreferredSize): Mind row margin.
	(TableAction): Added 'stop editing' command. 

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* jni/java-io/java_io_VMFile.c
	(Java_java_io_VMFile_list): Use new 4 argument version of
	TARGET_NATIVE_FILE_READ_DIR macro.
	* target/Linux/target_native_io.h: Fixed comment at #endif.
	* target/Linux/target_native_memory.h: New file. Contains
	portability macros for memory operations.
	* target/generic/target_generic.c: New file. Contains some functions
	for portability.
	* target/generic/target_generic.h: Use posix target and shorter macro
	names if CP_NEW is set. 
	* target/generic/target_generic_file.h: Use posix target and shorter
	macro names if CP_NEW is set.
	(TARGET_NATIVE_FILE_READ_DIR): New parameter for maxNameLength.
	* target/generic/target_generic_io.c: New file. Contains some
	functions for IO portability.
	* target/generic/target_generic_io.h: Use posix target and shorter
	macro names if CP_NEW is set.
	* target/generic/target_generic_misc.c: New file. Contains some
	functions for miscallaneaous portability issues.
	* target/generic/target_generic_misc.h: Use posix target and shorter
	macro names if CP_NEW is set.
	* target/generic/target_generic_network.c: New file. Contains some
	functions for networking portability.
	* target/generic/target_generic_network.h: Use posix target and
	shorter	macro names if CP_NEW is set.
	* target/posix/Makefile.am,
	* target/posix/target_posix.c,
	* target/posix/target_posix.h,
	* target/posix/target_posix_file.c,
	* target/posix/target_posix_file.h,
	* target/posix/target_posix_io.c,
	* target/posix/target_posix_io.h,
	* target/posix/target_posix_math.c,
	* target/posix/target_posix_math.h,
	* target/posix/target_posix_memory.c,
	* target/posix/target_posix_memory.h,
	* target/posix/target_posix_misc.c,
	* target/posix/target_posix_misc.h,
	* target/posix/target_posix_network.c,
	* target/posix/target_posix_network.h:
	New files. This implements the target native layer macros for
	Posix-like systems.

2006-01-16  Gary Benson  <gbenson@redhat.com>

	* java/net/SocketPermission.java (implies): Fix action checks.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_math_float.h: Removed. This
	file has been replaced by target_generic_math.h.
	* native/target/generic/target_generic_math_int.h: Removed. This
	file has been replaced by target_generic_math.h.
	* native/target/generic/target_generic_math.h: New file. Replaces
	the old _int and _float versions.
	* native/target/Linux/target_native_math_float.h: Removed. This
	file has been replaced by target_native_math.h.
	* native/target/Linux/target_native_math_int.h: Removed. This
	file has been replaced by target_native_math.h.
	* native/target/Linux/target_native_math.h: New file. Replaces
	the old _int and _float versions.
	* native/target/Linux/Makefile.am: Adjusted for the changed
	filenames.
	* native/jni/java-io/java_io_VMFile.c: Include target_native_math.h
	instead of target_native_math_int.h.
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c:
	Likewise.
	* native/target/generic/target_generic_file.h: Likewise.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/MutableAttributeSet.java: Updated API docs all over.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/SimpleAttributeSet.java
	(SimpleAttributeSet()): Initialise storage directly,
	(SimpleAttributeSet(AttributeSet)): Removed null check and documented
	NullPointerException,
	(containsAttribute): If key is found locally, don't check resolving
	parent if the value doesn't match,
	(getAttribute): Removed redundant instanceof and cast.

2006-01-16  Gary Benson  <gbenson@redhat.com>

	* java/lang/System.java (setSecurityManager): Ensure policy
	files are loaded before a security manager is put in place.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/SimpleAttributeSet.java: Updated API docs all over.

2006-01-16  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/attribute/standard/MediaSize.java: 
	(static_initializer): Added comment.
	(MediaSize): Added javadoc to mention cache registration.
	(MediaSize): Likewise.
	(MediaSize): Likewise.
	(MediaSize): Likewise.

2006-01-16  Raif S. Naffah  <raif@swiftdsl.com.au>

	PR classpath/25202
	* gnu/javax/security/auth/login/ConfigFileTokenizer.java: New class.
	* gnu/javax/security/auth/login/ConfigFileParser.java: New class.
	* gnu/javax/security/auth/login/GnuConfiguration.java: New class.
	* javax/security/auth/login/AppConfigurationEntry.java: Updated
	  copyright year.
	  (toString): Added method implementation.
	  (LoginModuleControlFlag.toString): Removed class name from result.
	* javax/security/auth/login/Configuration.java: Updated copyright year.
	  (getConfig(): replaced calls to NullConfiguration with
	  GnuConfiguration.

2006-01-15  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/table/DefaultTableCellRenderer.java 
	(getTableCellRendererComponent): Render null as the empty cell.

2006-01-14  Anthony Green  <green@redhat.com>

        * java/net/ServerSocket.java (accept): Remove bogus
        security check.
	(implAccept): Add FIXME comment.

2006-01-14  Wolfgang Baer  <WBaer@gmx.de>

	Fixes bug #25387
	* javax/print/Doc.java: Added and enhanced documentation.
	* javax/print/SimpleDoc.java: New file.	

2006-01-14  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/attribute/standard/MediaSize.java: 
	(Other.TABLOID): New MediaSize added in 1.5

2006-01-14  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java: Ensure that parser is reset
	  correctly when I/O and runtime exceptions occur during parsing.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/swing/SwingButtonPeer.java,
	* gnu/java/awt/peer/swing/SwingCanvasPeer.java,
	* gnu/java/awt/peer/swing/SwingComponent.java,
	* gnu/java/awt/peer/swing/SwingComponentPeer.java,
	* gnu/java/awt/peer/swing/SwingContainerPeer.java,
	* gnu/java/awt/peer/swing/SwingFramePeer.java,
	* gnu/java/awt/peer/swing/SwingLabelPeer.java,
	* gnu/java/awt/peer/swing/SwingMenuBarPeer.java,
	* gnu/java/awt/peer/swing/SwingMenuItemPeer.java,
	* gnu/java/awt/peer/swing/SwingMenuPeer.java,
	* gnu/java/awt/peer/swing/SwingPanelPeer.java,
	* gnu/java/awt/peer/swing/SwingTextFieldPeer.java,
	* gnu/java/awt/peer/swing/SwingToolkit.java,
	* gnu/java/awt/peer/swing/SwingWindowPeer.java,
	* gnu/java/awt/peer/swing/package.html:
	New files. Implemented some basic AWT peers based on Swing.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/peer/ComponentPeer.java: Added API docs all over.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuComponent.java: Reformatted to better match our
	coding style.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/Frame.java: Reformatted to better match our
	coding style.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuBar.java
	(accessibleContext): Removed unnecessary field. This is already
	defined in MenuComponent.
	(setHelpMenu): Renamed the peer variable to myPeer because it was
	hiding a field of MenuComponent.
	(addNotify): Removed unnecessary cast.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuBar.java: Reformatted to better match our
	coding style.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuBar.java
	(frame): New field.
	(removeNotify): Clear frame field when beeing removed from the
	frame.
	* java/awt/Frame.java
	(setMenuBar): Store a reference of the frame in the MenuBar.
	* java/awt/MenuComponent.java
	(postEvent): Implemented to forward the call to the parent until
	a parent can handle the event.
	(dispatchEvent): Moved handling of old style events from
	dispatchEventImpl() to here.
	(dispatchEventImpl): Moved handling of old style events to
	dispatchEvent().

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(dispatchEvent): Moved handling of old style events from
	dispatchEventImpl() to this method.
	(translateEvent): Removed unnecessary cast.
	(dispatchEventImpl): Moved handling of old style events to
	dispatchEvent().
	
2006-01-13  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(createDefaultRoot): Removed FIXME.
	(setLogicalStyle): Added fireUndoableEditUpdate call and 
	removed FIXME.

2006-01-13  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(Edit): New inner class.
	(changeUpdate): Changed addEdit call to add a new
	instance of Edit to the edits Vector, so addEdits can
	be done later.
	(split): Likewise.
	(insertParagraph): Likewise.
	(insertFracture): Likewise.
	(insertContentTag): Likewise.
	(insert): Added loop to go through edits Vector and perform
	addEdit on each object.

2006-01-13  Chris Burdess  <dog@gnu.org>

	* gnu/xml/transform/AbstractNumberNode.java,
	  gnu/xml/transform/ApplyImportsNode.java,
	  gnu/xml/transform/ApplyTemplatesNode.java,
	  gnu/xml/transform/AttributeNode.java,
	  gnu/xml/transform/CallTemplateNode.java,
	  gnu/xml/transform/ChooseNode.java,
	  gnu/xml/transform/CommentNode.java,
	  gnu/xml/transform/CopyNode.java,
	  gnu/xml/transform/CopyOfNode.java,
	  gnu/xml/transform/DocumentFunction.java,
	  gnu/xml/transform/ElementNode.java,
	  gnu/xml/transform/ForEachNode.java,
	  gnu/xml/transform/IfNode.java,
	  gnu/xml/transform/LiteralNode.java,
	  gnu/xml/transform/MessageNode.java,
	  gnu/xml/transform/OtherwiseNode.java,
	  gnu/xml/transform/ParameterNode.java,
	  gnu/xml/transform/ProcessingInstructionNode.java,
	  gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/Template.java,
	  gnu/xml/transform/TemplateNode.java,
	  gnu/xml/transform/TextNode.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/transform/ValueOfNode.java,
	  gnu/xml/transform/WhenNode.java,
	  gnu/xml/xpath/NodeTypeTest.java,
	  gnu/xml/xpath/Selector.java: simplified debugging output; ignore
	  with-param parameters when template does not define parameters; apply
	  conflict resolution for templates; strip whitespace on documents
	  retrieved via document() function; allow node() to match document
	  nodes.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* doc/www.gnu.org/announce/20060113.wml: New file.
	* doc/www.gnu.org/newsitems.txt: Add 0.20 release announcement.
	* doc/www.gnu.org/downloads/downloads.wml: Add 0.20.

2006-01-13  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Removed unused fields.
	(insert): Removed unused fields.
	(endEdit): Removed, not needed.
	(insertUpdate): Removed call to endEdit.
	(prepareContentInsertion): Removed, not needed.
	(insertContentTag): Removed call to prepareContentInsertion.
	(printElements): Removed, not needed.
	(attributeSetsAreSame): Removed, not needed.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* configure.ac: Set version to 0.20.
	* NEWS: Add entries for all the new work done.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* javax/swing/text/DefaultCaret.java: Chain all AssertionErrors.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* java/util/regex/Pattern.java (Pattern): Chain REException.

2006-01-13  Chris Burdess  <dog@gnu.org>

	* gnu/xml/xpath/NameTest.java: Removed debugging output.

2006-01-13  Jeroen Frijters  <jeroen@frijters.net>

	* java/security/Security.java
	(getProperty): Added hack to skip security check when trusted
	code is direct caller.

2006-01-13  Jeroen Frijters  <jeroen@frijters.net>

	* java/io/PrintStream.java
	(line_separator, PrintStream(OutputStream,boolean)): Use
	SystemProperties.

2006-01-13  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/nio/charset/Provider.java: Added comment about its
	special relation with CharsetProvider.
	(static): Removed.
	* gnu/java/nio/charset/iconv/IconvProvider.java: Added comment about
	its special relation with CharsetProvider.
	(static): Removed.
	* java/nio/charset/spi/CharsetProvider.java
	(CharsetProvider): Add special case to skip security check for
	built in providers.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JMenuItem.java (JMenuItem(Action)): Check whether
	name, accel, mnemonic and command are defined before setting.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(FileRenderer.getListCellRendererComponent): Set empty name and null
	icon when File is null.

2006-01-13  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/java/rmi/server/UnicastRef.java (newCall):
	Throw ConnectException after catching IOException.

2006-01-12  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Removed unneeded check.

2006-01-12  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertContentTag): If the direction is JoinNextDirection
	and we haven't come immediately after a fracture, adjust the Element
	offsets.  Added comment explaining the situation.
	(insert): Return early if no ElementSpecs passed in.  Removed redundant
	call to insertUpdate.  Fired the UndoableEditUpdate.

2006-01-12  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #22802
	* gnu/regexp/RE.java(initialize): Fixed the parsing of
	character classes within a subexpression.

2006-12-12  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Added check to check if attribute set is 
	empty.
	(insertUpdate): Added check to determine if last character
	is a newline. If it is, we should not be fracturing.
	(insert): Added check to determine if attribute set is empty.
	If it is, insertUpdate should not be called.

2006-12-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac: Check for isnan.

	* native/fdlibm/fdlibm.h: If we have a isnan function then do not
	define the macro.

2006-01-12  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/XMLParser.java: Corrected the handling of some XML
	  1.1 character ranges.

2006-01-12  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/TransferHandler.java:
	(TransferAction<init>): Call super constructor.  Fixes Mauve regression
	gnu/testlet/javax/swing/JTextField/CopyPaste.

2006-01-12  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* resource/Makefile.am: Install 
	logging.properties into $(prefix)/lib.
	* resource/Makefile.am (securitydir): Changed to 
	$(prefix)/lib/security.

2006-01-12  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTextField.java
	(createDefaultModel): Moved installation of the filterNewlines
	property to setDocument().
	(setDocument): New method. Installs the filterNewlines property
	on the document.

2006-01-12  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/DomNode.java,
	  gnu/xml/transform/ElementAvailableFunction.java: Removed debugging
	  output.
	* gnu/xml/xpath/NameTest.java,
	  gnu/xml/xpath/NamespaceTest.java,
	  gnu/xml/xpath/Selector.java: Fix regression for namespace axis
	  navigation.
	* gnu/xml/transform/MessageNode.java: Use standard logging system
	  for outputting messages.

2006-01-12  Tom Tromey  <tromey@redhat.com>

	* java/net/InetAddress.java (DEFAULT_CACHE_SIZE): Removed.
	(DEFAULT_CACHE_PERIOD, DEFAULT_CACHE_PURGE_PCT): Likewise.
	(cache_size, cache_period, cache_purge_pct, cache): Likewise.
	(static initializer): Removed cache code.
	(checkCacheFor, addToCache): Removed.
	(getAllByName): Removed cache code.
	(lookup_time): Removed.
	(InetAddress): Updated.

2006-01-12  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/DomDocument.java,
	  gnu/xml/dom/DomElement.java,
	  gnu/xml/dom/DomNode.java,
	  gnu/xml/stream/XMLParser.java,
	  gnu/xml/transform/Bindings.java,
	  gnu/xml/transform/ElementAvailableFunction.java,
	  gnu/xml/transform/ElementNode.java,
	  gnu/xml/transform/FunctionAvailableFunction.java,
	  gnu/xml/transform/NamespaceProxy.java,
	  gnu/xml/transform/StreamSerializer.java,
	  gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/xpath/Selector.java: Implement isEqualNode correctly for
	  document and element nodes; correct coalescing semantics when parsing;
	  attribute-sets can only refer to top-level variables and parameters;
	  fix namespace retrieval during element-available and
	  function-available functions; implement xsl:fallback for extension
	  elements; tokenize whitespace correctly during whitespace stripping;
	  correct following and previous node axes selectors.

2006-01-12  Roman Kennke  <kennke@aicas.com>

	* java/util/Hashtable.java
	(KeyEnumerator.nextElement): Added null check to avoid NPE.
	(ValueEnumerator.nextElement): Added null check to avoid NPE.

2006-01-12  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/GapContent.java
	(UndoInsertString): Changed name of class to InsertUndo to match the JDK.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* vm/reference/gnu/java/net/VMPlainSocketImpl.java (connect):
	Throw UnknowHostException when name could not be resolved.

2006-01-12  Jeroen Frijters  <jeroen@frijters.net>

	* java/net/URL.java
	(static, getURLStreamHandler): Use SystemProperties.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* vm/reference/gnu/java/net/VMPlainDatagramSocketImpl.java (receive):
	Use packet.getLength().
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c
	(nativeReceive): Check whether the receiver wants zero bytes.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* native/jni/java-net/javanet.c (_javanet_recvfrom): Return -1 when
	other side orderly closed connection.
	* vm/reference/gnu/java/net/VMPlainSocketImpl.java
	(read(PlainSocketImpl)): Mask byte to return unsigned int. Return -1
	when end of stream reached.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c:
	Remove asserts.
	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c: Likewise.
	* native/jni/java-net/java_net_VMInetAddress.c: Likewise.
	* native/jni/java-net/java_net_VMNetworkInterface.c: Likewise.
	* native/jni/java-net/javanet.c: Likewise.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* native/fdlibm/mprec.c (Balloc): Disable assert to workaround
	PR classpath/23863.

2006-01-11  Chris Burdess  <dog@gnu.org>

	* gnu/xml/transform/AttributeNode.java,
	  gnu/xml/transform/ElementNode.java,
	  gnu/xml/transform/LiteralNode.java,
	  gnu/xml/transform/StreamSerializer.java,
	  gnu/xml/transform/StrippingInstruction.java,
	  gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/transform/ValueOfNode.java,
	  gnu/xml/xpath/Expr.java,
	  gnu/xml/xpath/LocalNameFunction.java,
	  gnu/xml/xpath/NameFunction.java,
	  gnu/xml/xpath/NameTest.java,
	  gnu/xml/xpath/NamespaceUriFunction.java,
	  gnu/xml/xpath/NodeTypeTest.java,
	  gnu/xml/xpath/SubstringFunction.java,
	  javax/xml/namespace/QName.java: don't determine element namespace
	  from namespace aliases when specified; better namespace handling
	  when serializing elements; don't create HTML meta element unless
	  head element exists; correct encoding of CDATA sections containing
	  ']]>'; encode HTML character entity references; use ISO-Latin-1 as
	  default encoding for HTML output; rewrite of XSLT
	  strip-space/preserve-space handling; correct doctype-public and
	  doctype-system output attributes; insert generated doctype before
	  document element; fixed result tree whitespace stripping
	  algorithm; fixed semantics of XPath name, local-name, and
	  namespace-uri functions; name tests handle XML/XMLNS namespaces
	  correctly; fixed semantics of processing-instruction node test.
	* gnu/xml/transform/TransformerFactoryImpl.java: Add main method to
	  aid debugging.

2006-01-11  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertFracture): Added calls to addEdit for each time a structure 
	is changed. addEdit is called on the newBranch, previous, and parent
	structures.

2006-01-11  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertContentTag): Don't adjust the structure here.  
	This will have been taken care of in insertFracture.  Added a comment
	explaining that we need to add edits to the DocumentEvent and that
	this may be the place to do it.

2006-01-11  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertUpdate): Properly recreate Elements if the first
	tag is an end tag. Avoid NPE by pushing the proper Element on to the 
	elementStack when there is a start tag with JoinNextDirection.

2006-01-11  Roman Kennke  <kennke@aicas.com>

	Reported by: Fridjof Siebert <siebert@aicas.com>
	* java/util/Hashtable.java
	(KEYS): Removed unneeded field.
	(VALUES): Removed unneeded field.
	(ENTRIES): Removed unneeded field.
	(keys): Return a KeyEnumerator instance.
	(elements): Returns a ValueEnumerator instance.
	(toString): Use an EntryIterator instance.
	(keySet): Return a KeyIterator instance.
	(values): Return a ValueIterator instance.
	(entrySet): Return an EntryIterator instance.
	(hashCode): Use EntryIterator instance.
	(rehash): Changed this loop to avoid redundant reads and make
	it obvious that null checking is not needed.
	(writeObject): Use EntryIterator instance.
	(HashIterator): Removed class.
	(Enumerator): Removed class.
	(EntryIterator): New class.
	(KeyIterator): New class.
	(ValueIterator): New class.
	(EntryEnumerator): New class.
	(KeyEnumerator): New class.
	(ValueEnumerator): New class.

2006-01-11  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(toString): Shouldn't append the '>' character here.
	(createDefaultRoot): Should not set the resolve parent. This
	causes problems when comparing attribute sets.

2006-01-10  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertUpdate): Rewritten to properly handle start and
	end tags.
	(ElementBuffer.insertFracture): New method.
	(ElementBuffer.insertContentTag): Removed unnecessary case for 
	JoinFractureDirection - this only applies to start tags, not content
	tags.
	(insertUpdate): Corrected conditions for setting direction to 
	JoinNextDirection.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* Makefile.am (EXTRA_DIST): Added ChangeLog-2004.
	* ChangeLog-2005: New File.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c
	(get): Release the array with the correct pointer.
	(put): Release the array with the correct pointer. Copy the array
	around _before_ releasing it.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ViewportLayout.java
	(layoutContainer): Fixed condition, to avoid ClasscastException.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicSplitPaneDivider.java
	(MouseHandler.mousePressed): Fixed indendation.
	(MouseHandler.mouseDragged): Fixed indendation.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(playSound): Added @since 1.4 to the API docs.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(maybeUpdateLayoutState): Also update the layout state, if the
	list has been invalidated since the last update.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/ComponentUI.java
	(update): Fixed indendation.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ViewportLayout.java
	(layoutContainer): Fixed condition, so that Scrollable components
	are always forced to have to Viewport size, when they
	return true for getScrollableTracksViewportHeight() and ..Width().

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(validateInvalidComponents): Fixed condition to avoid NPE.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JViewport.java:
	(static_initializer): Removed unused variable myScrollMode.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTabbedPane.java:
	Cleared API docs a little.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* java/util/StringTokenizer.java
	(StringTokenizer(String, String, boolean)):
	Don't trigger NPE here for conformance with the spec.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* java/util/ArrayList.java
	(DEFAULT_CAPACITY): Changed default capacity to 10, as specified.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java
	(GdkGraphics2D(GdkGraphics2D)): Added null check for the bg
	field to avoid NPE.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/javanet.c
	(_javanet_shutdownOutput): Replaced strerror() with
	TARGET_NATIVE_LAST_ERROR_STRING() for portability.
	(_javanet_shutdownInput): Replaced strerror() with
	TARGET_NATIVE_LAST_ERROR_STRING() for portability.

2006-01-10  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/EventSetDescriptor.java: Reformatted and
	fixed API docs.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* java/lang/SecurityManager.java
	Fully qualified AWT class references in API docs.

2006-01-10  Robert Schuster  <robertschuster@fsfe.org>

        * java/beans/EventSetDescriptor.java:
        (getGetListenerMethod): New method.

2006-01-10  Mark Wielaard  <mark@klomp.org>

	* lib/Makefile.am (GCJX): Add -g to get linenumber info.

2006-01-10  Jeroen Frijters  <jeroen@frijters.net>

	PR classpath/25727
	* java/util/Hashtable.java
	(contains): Call equals on existing value.
	(containsKey, get, put, remove): Call equals on existing key.
	(getEntry): Call equals on existing entry.

2006-01-10  Jeroen Frijters  <jeroen@frijters.net>

	PR classpath/24618
	* java/util/AbstractMap.java
	(equals(Object,Object)): Test for identity first.
	* java/util/WeakHashMap.java
	(WeakBucket.WeakEntry.equals): Use helper method to determine equality.
	(WeakBucket.WeakEntry.toString): Fixed string representation of
	null key.
	(internalGet): Use helper method to determine equality.

2006-01-09  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/EventSetDescriptor.java: Implemented the two 1.4
	constructors.

2006-01-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/PlainDocument.java:
	(insertUpdate): Handle special case of an insertion immediately 
	following a newline character.

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c
	(connect): Added stream parameter to _connect() call.
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c
	(connect): Added stream parameter to _connect() call.
	* native/jni/java-net/javanet.c
	(_javanet_create_localfd): Added stream parameter. Look up
	fd field based on the stream parameter either in SocketImpl or
	in DatagramSocketImpl.
	(_javanet_connect): Added stream parameter. Call create_localfd
	using this stream parameter. Set localPort field either in
	SocketImpl or in DatagramSocketImpl, depending on the stream
	flag.
	* native/jni/java-net/javanet.c
	(_javanet_connect): Added stream parameter.

2006-01-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax.management.Attribute.java: Grammar and 
	formatting fixes.

2006-01-09  Mark Wielaard  <mark@klomp.org>

	* gnu/java/nio/channels/FileChannelImpl.java (map): Throw correct
	exception when channel is not readable or writable.
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
	(mapImpl): Add PROT_WRITE when mode == 'c' (MAP_PRIVATE). Make sure
	there is enough space to mmap().

2006-01-09  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/Introspector.java:
	(getBeanInfo(Class, int)): New method.
	(getBeanInfo(Class, Class): Moved common code in a new method.
	(merge): New method.

2006-01-09  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/XMLEncoder.java: Fix spelling mistakes.

2006-01-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(insertUpdate): Removed call to checkForInsertAfterNewline and instead
	inlined this method because it needs to change the value of the 
	finalStartTag and finalStartDirection variables.
	(checkForInsertAfterNewline): Removed this method.
	(handleInsertAfterNewline): Added case for making the start tag's 
	direction JoinNextDirection.

2006-01-09  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicTreeUI.java:
	Added new field.
	(setRowHeight): Row height is set to the max height of
	all the nodes, or 20 as a default value.
	(getPathBounds): Cleaned up code.
	(getMaxHeight): New helper function that gets the max 
	height of all the rows.
	(getClosestPathForLocation): Fixed to use getMaxHeight.
	(updateCachedPreferredSize): Likewise.
	(installUI): Shouldn't expand tree on startup.
	(getNodeDimensions): Fixed to use getMaxHeight.	

2006-01-09  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JList.java (setSelectedIndex): Clear selection when
	argument is negative.

2006-01-08  Mark Wielaard  <mark@klomp.org>

	* java/net/InetAddress.java (getInaddrAny): Explicitly set hostName.

2006-01-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax.management.Attribute.java: New file. 

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* java/net/DatagramSocketImpl.java
	(localPort): Renamed to localport for correct access from native
	code.

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/Popup.java
	(LightweightPopup.hide): Repaint the layered pane when popup is
	removed.

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(remove): Don't repaint the container here.

2006-01-08  Tom Tromey  <tromey@redhat.com>

	* java/lang/InheritableThreadLocal.java: Organized imports.

2006-01-08  Ito Kazumitsu  <kaz@maczuka.gcd.org>  

	Fixes bug #25679
	* gnu/regexp/RETokenRepeated.java(match): Optimized the case
	when an empty string matched an empty token.

2006-01-08  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java: Check standalone status for mixed
	  content models from external entities.
	* gnu/xml/stream/UnicodeReader.java: Report error instead of
	  attempting to continue with unpaired surrogates.
	* gnu/xml/stream/XMLParser.java: Don't normalize LF equivalents when
	  resolving entities with character entity references; better
	  checking of valid character ranges; don't report an error for URI
	  fragments in notation declarations; check unbound namespace
	  prefixes for elements and attributes, including XML 1.1 unbinding
	  syntax; namespace-aware checking of attribute duplicates.

2006-01-08  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/Statement.java: Doc fixes.
	(doExecute): Workaround for Class.forName call.
	(toString): Made output look more like on the JDK.
	* java/beans/Expression.java: Doc fixes.
	(toString): Made output look more like on the JDK.
	* java/beans/PersistenceDelegate.java,
	java/beans/DefaultPersistenceDelegate.java,
	java/beans/Encoder.java,
	java/beans/XMLEncoder.java: New file.
	* gnu/java/beans/encoder/ArrayPersistenceDelegate.java,
	gnu/java/beans/encoder/ClassPersistenceDelegate.java,
	gnu/java/beans/encoder/CollectionPersistenceDelegate.java,
	gnu/java/beans/encoder/Context.java,
	gnu/java/beans/encoder/GenericScannerState.java,
	gnu/java/beans/encoder/IgnoringScannerState.java,
	gnu/java/beans/encoder/MapPersistenceDelegate.java,
	gnu/java/beans/encoder/ObjectId.java,
	gnu/java/beans/encoder/PrimitivePersistenceDelegate.java,
	gnu/java/beans/encoder/ReportingScannerState.java,
	gnu/java/beans/encoder/Root.java,
	gnu/java/beans/encoder/ScanEngine.java,
	gnu/java/beans/encoder/ScannerState.java,
	gnu/java/beans/encoder/StAXWriter.java,
	gnu/java/beans/encoder/Writer.java: New file.
	* gnu/java/beans/encoder/elements/Array_Get.java,
	gnu/java/beans/encoder/elements/Element.java,
	gnu/java/beans/encoder/elements/List_Set.java,
	gnu/java/beans/encoder/elements/Array_Set.java,
	gnu/java/beans/encoder/elements/NullObject.java,
	gnu/java/beans/encoder/elements/StaticMethodInvocation.java,
	gnu/java/beans/encoder/elements/StaticFieldAccess.java,
	gnu/java/beans/encoder/elements/StringReference.java,
	gnu/java/beans/encoder/elements/ClassResolution.java,
	gnu/java/beans/encoder/elements/ArrayInstantiation.java,
	gnu/java/beans/encoder/elements/PrimitiveInstantiation.java,
	gnu/java/beans/encoder/elements/ObjectReference.java,
	gnu/java/beans/encoder/elements/ObjectInstantiation.java,
	gnu/java/beans/encoder/elements/List_Get.java,
	gnu/java/beans/encoder/elements/MethodInvocation.java: New file.

2006-01-08  Chris Burdess  <dog@gnu.org>

	* java/lang/Character.java (toChars,toCodePoint): Correct these
	  methods to use algorithms from Unicode specification.
 
2006-01-08  Mark Wielaard  <mark@klomp.org>

	* native/jni/xmlj/Makefile.am (libxmlj_la_LIBADD): Add jcl.o.

2006-01-07  Paul Jenner  <psj@harker.dyndns.org>

	Fixes bug #25711
	* examples/Makefile.am: Corrected DESTDIR install paths.

2006-01-07  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/INVALID_ACTIVITY.java: Removed non - 
	ASCII character (line 46).

2006-01-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/TableView.java: New file.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/BufferedReader.java: Removed commented out code.
	* gnu/xml/stream/XIncludeFilter.java: Correct XML Base behaviour.
	* gnu/xml/stream/XMLParser.java: Make additional StAX properties
	  available; correct handling of unparsed entity references;
	  absolutize all base URIs; remove commented out code.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/XMLParser.java: Add SAX property to return base
	  URI of the current event.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java: Add SAX feature to set XML Base
	  aware processing.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/XIncludeFilter.java,
	  gnu/xml/stream/XMLParser.java: Updated documentation.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* AUTHORS: add self.

2006-01-06  Casey Marshall  <csm@gnu.org>

	* AUTHORS: add myself.

2006-01-06  Casey Marshall  <csm@gnu.org>

	PR classpath/25699
	* javax/crypto/CipherInputStream.java (logger): new constant.
	(cipher): make final.
	(outLength, inBuffer, inLength): removed.
	(isStream): make final.
	(VIRGIN, LIVING, DYING, DEAD, state): removed.
	(eof): new field.
	(<init>): call `super,' not `this;' remove `inBuffer' and
	`outBuffer' initialization; init `eof;' add debug logging.
	(<init>): call `this' with a new null cipher.
	(available): fix javadoc to reflect the real semantics; if we
	don't have a buffer, call `nextBlock.'
	(close): synchronize.
	(read): synchronize; fix testing for buffered data.
	(read): synchronize; add `skip' semantics if first argument is
	`null;' decrypt stream cipher data only if there is any; fix tests
	for buffered data.
	(skip): stop using `available' to see how many data are buffered.
	(nextBlock): simplify to use cipher-allocated output buffers
	instead of internally allocated ones.

2006-01-06  Tom Tromey  <tromey@redhat.com>

	* java/lang/String.java (codePointCount): Fixed javadoc.

2006-01-06  Tom Tromey  <tromey@redhat.com>

	* java/lang/String.java (contains): Added @since.

2006-01-06  Ito Kazumitsu  <kaz@maczuka.gcd.org>  

	Fixes bug #25616
	* gnu/regexp/RE.java(initialize): Allow repeat.empty.token.
	* gnu/regexp/RETokenRepeated.java(match): Break the loop
	when an empty string matched an empty token.

2006-01-06  Jeroen Frijters  <jeroen@frijters.net>

	PR classpath/24858
	* gnu/java/util/WeakIdentityHashMap.java: New file.
	* java/lang/InheritableThreadLocal.java
	(newChildThread): Modified to remove key indirection.
	* java/lang/Thread.java
	(locals): Changed type to WeakIdentityHashMap.
	(getThreadLocals): Instantiate WeakIdentityHashMap instead of
	WeakHashMap.
	* java/lang/ThreadLocal.java
	(key, Key): Removed.
	(get, set): Changed to use "this" instead of "key".

2006-01-06  Dalibor Topic  <robilad@kaffe.org>

	* native/fdlibm/Makefile.am (libfdlibm_la_SOURCES): Removed java-assert.h.

	* native/fdlibm/java-assert.h: Removed file.

	* native/fdlibm/mprec.c: Include assert.h. Don't include java-assert.h.
	Replaced use of JvAssert by assert.

2006-01-05  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultCaret.java:
	(setDot): Fixed paramater to Math.max to be this.dot and not the 
	parameter dot.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getCellHeight): New helper method.
	(getCellBounds): Use new helper method for determining the cell
	height.
	(paint): Don't call list.indexToLocation() but instead call
	directly into the same UI method.
	(locationToIndex): Fixed calculation of # visible rows and handling
	of cell heights.
	(indexToLocation): Fixed calculation of # visible rows and handling
	of cell heights.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(createList): Set VERTICAL_SCROLLBAR_NEVER mode on the JScrollPane
	in the file chooser.

2006-01-05  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/JTextPane.java:
	(replaceSelection): If the document is an AbstractDocument, use replace
	rather than remove and insert.
	* javax/swing/event/EventListenerList.java:
	(getListeners): Reversed the order of the listeners to match the 
	reference implementation.
	* javax/swing/text/AbstractDocument.java:
	(insertString): Add the UndoableEdit from the content.insertString call
	to the DocumentEvent.
	(DefaultDocumentEvent.toString): Implemented.
	* javax/swing/text/DefaultCaret.java:
	(setDot): Make sure dot is > 0 and less than the length of the 
	document.
	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertUpdate): Set the modified tag of the document 
	event when we get start and end tags.  This ensures that we create the
	proper BranchElements in endEdit().
	(ElementBuffer.insertUpdate): Added FIXME to handle 
	JoinFractureDirection case.
	(insertUpdate): Added code to check if we're inserting immediately 
	after a newline and to handle this case (create start and end tags). 
	Only change the direction of the first and last tags if they are of 
	type ContentType.
	(checkForInsertAfterNewline): New helper method.
	(handleInsertAfterNewline): Likewise.
	* javax/swing/text/View.java:
	(updateLayout): Avoid NPE by checking if shape is null.  Repaint 
	container.

2006-01-05  Mark Wielaard  <mark@klomp.org>

	* newsitems.txt: Add fosdem meeting.
	* events/events.wml: Likewise.
	* events/fosdem06.wml: New file.
	
2006-01-05  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/GapContent.java
	(createPosition): No positions should be created inside the
	gap. Fixed check to ensure this does not happen.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(validateInvalidComponents): Search for the validate root
	and start validating there.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(ComponentHandler): Removed unneeded class.
	(ListDataHandler.contentsChanged): Revalidate instead of calling
	damageLayout().
	(ListDataHandler.intervalAdded): Revalidate instead of calling
	damageLayout().
	(ListDataHandler.intervalRemoved): Revalidate instead of calling
	damageLayout().
	(PropertyChangeHandler.propertyChange): Or flags together instead
	of adding them. Don't call damageLayout().
	(componentListener): Removed unnecessary field.
	(damageLayout): Removed unnecessary method.
	(installListeners): Don't install unnecessary listeners.
	(uninstallListeners): Dito.
	(getPreferredSize): Don't ask for the real list height and
	calculate with the previously calculated list height.
	(locationToIndex): Renamed list parameter to l so that it doesn't
	shadow the field with the same name.
	(indexToLocation): Renamed list parameter to l so that it doesn't
	shadow the field with the same name.

2006-01-04  Tom Tromey  <tromey@redhat.com>

	* include/.cvsignore: Ignore config-int.h.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getPreferredSize): Rewritten to match the specs.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JFileChooser.java
	(showOpenDialog): Set fixed width on the dialog.
	(showSaveDialog): Set fixed width on the dialog.
	(showDialog): Set fixed width on the dialog.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(locationToIndex): Added FIXME about getVisibleRowCount() usage.
	Adjusted iteration to not use visibleRowCount and instead iterate
	over the real number of elements in cellHeights.
	(indexToLocation): Added FIXME about getVisibleRowCount() usage.
	Adjusted iteration to not use visibleRowCount and instead iterate
	over the real number of elements in cellHeights.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c,
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c:
	Added __attribute__((__unused__)) macros to avoid gcc warnings.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* vm/reference/gnu/java/net/VMPlainSocketImpl.java: New VM class.
	* vm/reference/gnu/java/net/VMPlainDatagramSocketImpl.java:
	New VM class.
	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c: New file.
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c:
	New file.
	* native/jni/java-net/gnu_java_net_PlainDatagramSocketImpl.c:
	Removed.
	* native/jni/java-net/gnu_java_net_PlainSocketImpl.c: Removed.
	* native/jni/java-net/Makefile.am: Adjusted for new source files.
	* gnu/java/net/PlainDatagramSocketImpl.java: Use new VM interface.
	* gnu/java/net/PlainSocketImpl.java: Use new VM interface.
	* include/gnu_java_net_PlainDatagramSocketImpl.h: Removed.
	* include/gnu_java_net_PlainSocketImpl.h: Removed.
	* include/gnu_java_net_VMPlainDatagramSocketImpl.h: New header file.
	* include/gnu_java_net_VMPlainSocketImpl.h: New header file.

2006-01-04  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(propertyChange): Fixed to change the combo box label
	appropriately. Also, fixed to set the textfield's text
	correctly.
	(editFile): Fixed size of editing field.
	(installComponents): Correctly aligned all panels.
	(installStrings): Fixed to set the label's text
	appropriately depending on the dialog type.

2006-01-04  Lillian Angel  <langel@redhat.com>

	PR classpath/25473 
	PR classpath/25479
	* javax/swing/JTree.java
	(JTree): Because some L&F defaults have been updated,
	the selectionMode for the tree needed to be set to SINGLE.
	* javax/swing/plaf/basic/BasicFileChooserUI.java:
	Initialized accessoryPanel.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(installComponents): Added accessoryPanel to the filechooser.

2006-01-04  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Added AX_CREATE_STDINT_H

	* include/Makefile.am (DISTCLEANFILES): Remove config-int.h.

	* m4/ax_create_stdint_h.m4: New file.

	* native/fdlibm/mprec.h: Include config-int.h. Removed C99
	typedefs. Removed stdint.h and inttypes.h includes.
 
2006-01-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JMenuItem.java (configurePropertiesFromAction): Only
	register keyboard action when accelerator is not null.
	* javax/swing/plaf/basic/BasicMenuItemUI.java (propertyChange): Only
	re-register accelerator if not null.
	(installKeyboardActions): Only put accelerator in map when not null.

2006-01-04  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Removed unneeded default.
	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added and fixed several defaults.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicHTML.java: New class.

2006-01-03  Tom Tromey  <tromey@redhat.com>

	* java/io/OutputStreamWriter.java (OutputStreamWriter): Added @since.
	* java/io/InputStreamReader.java (InputStreamReader): Added @since.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* org/omg/CORBA/INVALID_ACTIVITY.java: Remove non-ascii characters.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java (MetalLookAndFeel):
	Always call createDefaultTheme().
	(createDefaultTheme): Check whether theme is still null.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java (setBackground): Set to
	Color.WHITE if null.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(getDescription): Fixed to return the correct string.
	(getID): Likewise.
	(getName): Likewise.
	(getDefaults): Added check to avoid NPE.
	(getAcceleratorForeground): Likewise.
	(getAcceleratorSelectedForeground): Likewise.
	(getBlack): Likewise.
	(getControl): Likewise.
	(getControlDarkShadow): Likewise.
	(getControlDisabled): Likewise.
	(getControlHighlight): Likewise.
	(getControlInfo): Likewise.
	(getControlShadow): Likewise.
	(getControlTextColor): Likewise.
	(getControlTextFont): Likewise.
	(getDesktopColor): Likewise.
	(getFocusColor): Likewise.
	(getHighlightedTextColor): Likewise.
	(getInactiveControlTextColor): Likewise.
	(getInactiveSystemTextColor): Likewise.
	(getMenuBackground): Likewise.
	(getMenuDisabledForeground): Likewise.
	(getMenuForeground): Likewise.
	(getMenuSelectedBackground): Likewise.
	(getMenuSelectedForeground): Likewise.
	(getMenuTextFont): Likewise.
	(getPrimaryControl): Likewise.
	(getPrimaryControlDarkShadow): Likewise.
	(getPrimaryControlHighlight): Likewise.
	(getPrimaryControlInfo): Likewise.
	(getPrimaryControlShadow): Likewise.
	(getSeparatorBackground): Likewise.
	(getSeparatorForeground): Likewise.
	(getSubTextFont): Likewise.
	(getSystemTextColor): Likewise.
	(getSystemTextFont): Likewise.
	(getTextHighlightColor): Likewise.
	(getUserTextColor): Likewise.
	(getUserTextFont): Likewise.
	(getWhite): Likewise.
	(getWindowBackground): Likewise.
	(getWindowTitleBackground): Likewise.
	(getWindowTitleFont): Likewise.
	(getWindowTitleForeground): Likewise.
	(getWindowTitleInactiveBackground): Likewise.
	(getWindowTitleInactiveForeground): Likewise.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JTextArea.java
	(JTextArea(Document,text,int,int)): Only call setText() when text is
	not null.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicFileChooserUI.java
	(installStrings): Fixed installation of defaults that
	were changed in BasicLookAndFeel.
	* javax/swing/plaf/basic/BasicTabbedPaneUI.java
	(installDefaults): Fixed installation of defaults that
	were changed in BasicLookAndFeel.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Fixed several defaults that differed
	from the JDK.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/tree/DefaultTreeSelectionModel.java
	(DefaultTreeSelectionModel): Default should be DISCONTIGUOUS_TREE_SELECTION.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/AbstractAction.java
	(AbstractAction): Fixed to pass in null. Should not be 
	an empty string. Removed TODO comment.
	(AbstractAction): Removed TODO comment.
	* javax/swing/JList.java
	(init): Default selection mode should be MULTIPLE_INTERVAL_SELECTION.
	* javax/swing/JMenuItem.java
	(JMenuItem): Set all defaults if the action passed in is not null.
	* javax/swing/JProgressBar.java
	(JProgressBar): Added check to prevent NPE.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getPreferredSize): The JDK adds some extra space to 
	the list, so we should as well.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(getPreferredSize): Should only take the fileListPanel's
	width into account when getting the size. Also, the buttonPanel's
	size should not be checked, since it is in the bottomPanel already.
	(getMinimumSize): Likewise.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/JList.java
	(init): visibleRowCount should be 7, like the JDK.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(installComponents): No need to add the fileFilterCombo
	to a panel. It can be added to the row directly.

2006-01-03  Lillian Angel  <langel@redhat.com>
	
	PR classpath/25480 PR classpath/25478
	* javax/swing/plaf/basic/BasicScrollPaneUI.java
	(updateViewport): Made changes suggested by
	Chris Lansdown.
	* javax/swing/plaf/metal/MetalFileChooserUI.java:
	Removed unneeded import.
	(createList): Removed comment, JList wrapping 
	now works.
	(getPreferredSize): Made changes suggested by
	Chris Lansdown. Uses fileListPanel, instead
	of fileList.
	(getMinimumSize): Uses fileListPanel, instead
	of fileList.
	* javax/swing/plaf/metal/MetalRadioButtonUI.java
	(paintFocus): Fixed height.

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(locationToIndex): Added check to avoid ArrayOutOfBoundsException.

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(locationToIndex): Special case for when variable cell heights
	are possible. (cellHeights is used instead of cellHeight).
	(indexToLocation): Special case for when variable cell heights
	are possible. (cellHeights is used instead of cellHeight).

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.remove): New method.
	(ElementBuffer.removeUpdate): New method.
	(removeUpdate): New method.

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* lib/Makefile.am:
	(dist-hook): Preserve attributes of Java sources when copying to
	dist dir.

2006-01-03  Raif S. Naffah  <raif@swiftdsl.com.au>

	* AUTHORS: Added self.
	* java/security/Security.java (getProvider): Ensures provider's name is
	  not null, not an empty string, and is trimmed before usage.

2006-01-01  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Poa/AOM.java (add):
	Changed parameter Object into gnuServantObject.
	(Obj.object): Changed type to gnuServantObject.
	(findObject): Rewritten.

2006-01-01  Andreas Tobler  <a.tobler@schweiz.ch>

	* native/jni/qt-peer/mainqtthread.cpp: Remove call to disable double
	buffering. Ability has gone in Qt-4.1.x.

	* configure.ac (QT_CFLAGS): Check for 4.1.0 version and for QtCore
	to have the right include flags.

2006-01-01  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/MessageDigest.java (getInstance(String,String)):
	Use trimmed copy of provider name.
	* gnu/java/security/Engine.java
	(getInstance(String,String,Provider,Object[])): Use trimmed copy of
	service and algorithm names.

2006-01-01  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/net/InetAddress.java (getAllByName): use LOCALHOST if
	localhost is null or is an empty string. Trim hostname before
	lookup.


Local Variables:
coding: iso-latin-1-unix	
End:
